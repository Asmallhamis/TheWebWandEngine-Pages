(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Zp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var td={exports:{}},il={},nd={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=Symbol.for("react.element"),qp=Symbol.for("react.portal"),eh=Symbol.for("react.fragment"),th=Symbol.for("react.strict_mode"),nh=Symbol.for("react.profiler"),rh=Symbol.for("react.provider"),sh=Symbol.for("react.context"),ih=Symbol.for("react.forward_ref"),lh=Symbol.for("react.suspense"),oh=Symbol.for("react.memo"),ah=Symbol.for("react.lazy"),vc=Symbol.iterator;function ch(e){return e===null||typeof e!="object"?null:(e=vc&&e[vc]||e["@@iterator"],typeof e=="function"?e:null)}var rd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sd=Object.assign,id={};function Br(e,t,n){this.props=e,this.context=t,this.refs=id,this.updater=n||rd}Br.prototype.isReactComponent={};Br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ld(){}ld.prototype=Br.prototype;function ha(e,t,n){this.props=e,this.context=t,this.refs=id,this.updater=n||rd}var ma=ha.prototype=new ld;ma.constructor=ha;sd(ma,Br.prototype);ma.isPureReactComponent=!0;var wc=Array.isArray,od=Object.prototype.hasOwnProperty,ga={current:null},ad={key:!0,ref:!0,__self:!0,__source:!0};function cd(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)od.call(t,r)&&!ad.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Hs,type:e,key:i,ref:o,props:s,_owner:ga.current}}function uh(e,t){return{$$typeof:Hs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hs}function dh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bc=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dh(""+e.key):t.toString(36)}function yi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hs:case qp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Nl(o,0):r,wc(s)?(n="",e!=null&&(n=e.replace(bc,"$&/")+"/"),yi(s,t,n,"",function(d){return d})):s!=null&&(xa(s)&&(s=uh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",wc(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+Nl(i,a);o+=yi(i,t,n,c,s)}else if(c=ch(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+Nl(i,a++),o+=yi(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zs(e,t,n){if(e==null)return e;var r=[],s=0;return yi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function fh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},vi={transition:null},ph={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:vi,ReactCurrentOwner:ga};function ud(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Zs,forEach:function(e,t,n){Zs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zs(e,function(){t++}),t},toArray:function(e){return Zs(e,function(t){return t})||[]},only:function(e){if(!xa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=Br;pe.Fragment=eh;pe.Profiler=nh;pe.PureComponent=ha;pe.StrictMode=th;pe.Suspense=lh;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ph;pe.act=ud;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ga.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)od.call(t,c)&&!ad.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Hs,type:e.type,key:s,ref:i,props:r,_owner:o}};pe.createContext=function(e){return e={$$typeof:sh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rh,_context:e},e.Consumer=e};pe.createElement=cd;pe.createFactory=function(e){var t=cd.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:ih,render:e}};pe.isValidElement=xa;pe.lazy=function(e){return{$$typeof:ah,_payload:{_status:-1,_result:e},_init:fh}};pe.memo=function(e,t){return{$$typeof:oh,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=vi.transition;vi.transition={};try{e()}finally{vi.transition=t}};pe.unstable_act=ud;pe.useCallback=function(e,t){return at.current.useCallback(e,t)};pe.useContext=function(e){return at.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return at.current.useDeferredValue(e)};pe.useEffect=function(e,t){return at.current.useEffect(e,t)};pe.useId=function(){return at.current.useId()};pe.useImperativeHandle=function(e,t,n){return at.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return at.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return at.current.useReducer(e,t,n)};pe.useRef=function(e){return at.current.useRef(e)};pe.useState=function(e){return at.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return at.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return at.current.useTransition()};pe.version="18.3.1";nd.exports=pe;var I=nd.exports;const qt=Zp(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=I,mh=Symbol.for("react.element"),gh=Symbol.for("react.fragment"),xh=Object.prototype.hasOwnProperty,yh=hh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vh={key:!0,ref:!0,__self:!0,__source:!0};function dd(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)xh.call(t,r)&&!vh.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:mh,type:e,key:i,ref:o,props:s,_owner:yh.current}}il.Fragment=gh;il.jsx=dd;il.jsxs=dd;td.exports=il;var l=td.exports,so={},fd={exports:{}},zt={},pd={exports:{}},hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,X){var Q=D.length;D.push(X);e:for(;0<Q;){var ee=Q-1>>>1,de=D[ee];if(0<s(de,X))D[ee]=X,D[Q]=de,Q=ee;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var X=D[0],Q=D.pop();if(Q!==X){D[0]=Q;e:for(var ee=0,de=D.length,fe=de>>>1;ee<fe;){var Ye=2*(ee+1)-1,Xe=D[Ye],yt=Ye+1,$t=D[yt];if(0>s(Xe,Q))yt<de&&0>s($t,Xe)?(D[ee]=$t,D[yt]=Q,ee=yt):(D[ee]=Xe,D[Ye]=Q,ee=Ye);else if(yt<de&&0>s($t,Q))D[ee]=$t,D[yt]=Q,ee=yt;else break e}}return X}function s(D,X){var Q=D.sortIndex-X.sortIndex;return Q!==0?Q:D.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,u=3,b=!1,m=!1,S=!1,F=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var X=n(d);X!==null;){if(X.callback===null)r(d);else if(X.startTime<=D)r(d),X.sortIndex=X.expirationTime,t(c,X);else break;X=n(d)}}function j(D){if(S=!1,v(D),!m)if(n(c)!==null)m=!0,J(k);else{var X=n(d);X!==null&&se(j,X.startTime-D)}}function k(D,X){m=!1,S&&(S=!1,g(E),E=-1),b=!0;var Q=u;try{for(v(X),f=n(c);f!==null&&(!(f.expirationTime>X)||D&&!W());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,u=f.priorityLevel;var de=ee(f.expirationTime<=X);X=e.unstable_now(),typeof de=="function"?f.callback=de:f===n(c)&&r(c),v(X)}else r(c);f=n(c)}if(f!==null)var fe=!0;else{var Ye=n(d);Ye!==null&&se(j,Ye.startTime-X),fe=!1}return fe}finally{f=null,u=Q,b=!1}}var L=!1,N=null,E=-1,_=5,C=-1;function W(){return!(e.unstable_now()-C<_)}function M(){if(N!==null){var D=e.unstable_now();C=D;var X=!0;try{X=N(!0,D)}finally{X?A():(L=!1,N=null)}}else L=!1}var A;if(typeof p=="function")A=function(){p(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Z=H.port2;H.port1.onmessage=M,A=function(){Z.postMessage(null)}}else A=function(){F(M,0)};function J(D){N=D,L||(L=!0,A())}function se(D,X){E=F(function(){D(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){m||b||(m=!0,J(k))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(u){case 1:case 2:case 3:var X=3;break;default:X=u}var Q=u;u=X;try{return D()}finally{u=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Q=u;u=D;try{return X()}finally{u=Q}},e.unstable_scheduleCallback=function(D,X,Q){var ee=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ee+Q:ee):Q=ee,D){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Q+de,D={id:h++,callback:X,priorityLevel:D,startTime:Q,expirationTime:de,sortIndex:-1},Q>ee?(D.sortIndex=Q,t(d,D),n(c)===null&&D===n(d)&&(S?(g(E),E=-1):S=!0,se(j,Q-ee))):(D.sortIndex=de,t(c,D),m||b||(m=!0,J(k))),D},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(D){var X=u;return function(){var Q=u;u=X;try{return D.apply(this,arguments)}finally{u=Q}}}})(hd);pd.exports=hd;var wh=pd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh=I,Ct=wh;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var md=new Set,ks={};function ir(e,t){Tr(e,t),Tr(e+"Capture",t)}function Tr(e,t){for(ks[e]=t,e=0;e<t.length;e++)md.add(t[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=Object.prototype.hasOwnProperty,_h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_c={},kc={};function kh(e){return io.call(kc,e)?!0:io.call(_c,e)?!1:_h.test(e)?kc[e]=!0:(_c[e]=!0,!1)}function jh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nh(e,t,n,r){if(t===null||typeof t>"u"||jh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var ya=/[\-:]([a-z])/g;function va(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ya,va);Qe[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ya,va);Qe[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ya,va);Qe[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function wa(e,t,n,r){var s=Qe.hasOwnProperty(t)?Qe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nh(t,n,s,r)&&(n=null),r||s===null?kh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hn=bh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qs=Symbol.for("react.element"),yr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),ba=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),gd=Symbol.for("react.provider"),xd=Symbol.for("react.context"),_a=Symbol.for("react.forward_ref"),oo=Symbol.for("react.suspense"),ao=Symbol.for("react.suspense_list"),ka=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),yd=Symbol.for("react.offscreen"),jc=Symbol.iterator;function Xr(e){return e===null||typeof e!="object"?null:(e=jc&&e[jc]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,Sl;function as(e){if(Sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sl=t&&t[1]||""}return`
`+Sl+e}var Cl=!1;function zl(e,t){if(!e||Cl)return"";Cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Cl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?as(e):""}function Sh(e){switch(e.tag){case 5:return as(e.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 2:case 15:return e=zl(e.type,!1),e;case 11:return e=zl(e.type.render,!1),e;case 1:return e=zl(e.type,!0),e;default:return""}}function co(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vr:return"Fragment";case yr:return"Portal";case lo:return"Profiler";case ba:return"StrictMode";case oo:return"Suspense";case ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xd:return(e.displayName||"Context")+".Consumer";case gd:return(e._context.displayName||"Context")+".Provider";case _a:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ka:return t=e.displayName||null,t!==null?t:co(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return co(e(t))}catch{}}return null}function Ch(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return co(t);case 8:return t===ba?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zh(e){var t=vd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ei(e){e._valueTracker||(e._valueTracker=zh(e))}function wd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uo(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Nc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bd(e,t){t=t.checked,t!=null&&wa(e,"checked",t,!1)}function fo(e,t){bd(e,t);var n=Tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?po(e,t.type,n):t.hasOwnProperty("defaultValue")&&po(e,t.type,Tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function po(e,t,n){(t!=="number"||Oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cs=Array.isArray;function Lr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ho(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(cs(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tn(n)}}function _d(e,t){var n=Tn(t.value),r=Tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ti,jd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eh=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(e){Eh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fs[t]=fs[e]})});function Nd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fs.hasOwnProperty(e)&&fs[e]?(""+t).trim():t+"px"}function Sd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Lh=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(e,t){if(t){if(Lh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function xo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yo=null;function ja(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vo=null,Or=null,Pr=null;function Ec(e){if(e=Gs(e)){if(typeof vo!="function")throw Error(U(280));var t=e.stateNode;t&&(t=ul(t),vo(e.stateNode,e.type,t))}}function Cd(e){Or?Pr?Pr.push(e):Pr=[e]:Or=e}function zd(){if(Or){var e=Or,t=Pr;if(Pr=Or=null,Ec(e),t)for(e=0;e<t.length;e++)Ec(t[e])}}function Ed(e,t){return e(t)}function Ld(){}var El=!1;function Od(e,t,n){if(El)return e(t,n);El=!0;try{return Ed(e,t,n)}finally{El=!1,(Or!==null||Pr!==null)&&(Ld(),zd())}}function Ns(e,t){var n=e.stateNode;if(n===null)return null;var r=ul(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var wo=!1;if(un)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{wo=!1}function Oh(e,t,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(h){this.onError(h)}}var ps=!1,Pi=null,Ii=!1,bo=null,Ph={onError:function(e){ps=!0,Pi=e}};function Ih(e,t,n,r,s,i,o,a,c){ps=!1,Pi=null,Oh.apply(Ph,arguments)}function Mh(e,t,n,r,s,i,o,a,c){if(Ih.apply(this,arguments),ps){if(ps){var d=Pi;ps=!1,Pi=null}else throw Error(U(198));Ii||(Ii=!0,bo=d)}}function lr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lc(e){if(lr(e)!==e)throw Error(U(188))}function Rh(e){var t=e.alternate;if(!t){if(t=lr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Lc(s),e;if(i===r)return Lc(s),t;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Id(e){return e=Rh(e),e!==null?Md(e):null}function Md(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Md(e);if(t!==null)return t;e=e.sibling}return null}var Rd=Ct.unstable_scheduleCallback,Oc=Ct.unstable_cancelCallback,Th=Ct.unstable_shouldYield,$h=Ct.unstable_requestPaint,$e=Ct.unstable_now,Fh=Ct.unstable_getCurrentPriorityLevel,Na=Ct.unstable_ImmediatePriority,Td=Ct.unstable_UserBlockingPriority,Mi=Ct.unstable_NormalPriority,Dh=Ct.unstable_LowPriority,$d=Ct.unstable_IdlePriority,ll=null,en=null;function Ah(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Hh,Wh=Math.log,Uh=Math.LN2;function Hh(e){return e>>>=0,e===0?32:31-(Wh(e)/Uh|0)|0}var ni=64,ri=4194304;function us(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ri(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=us(a):(i&=o,i!==0&&(r=us(i)))}else o=n&~s,o!==0?r=us(o):i!==0&&(r=us(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ht(t),s=1<<n,r|=e[n],t&=~s;return r}function Vh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ht(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=Vh(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function _o(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fd(){var e=ni;return ni<<=1,!(ni&4194240)&&(ni=64),e}function Ll(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=n}function Gh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ht(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Sa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ht(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var _e=0;function Dd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ad,Ca,Wd,Ud,Hd,ko=!1,si=[],zn=null,En=null,Ln=null,Ss=new Map,Cs=new Map,kn=[],Kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pc(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function qr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gs(t),t!==null&&Ca(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Jh(e,t,n,r,s){switch(t){case"focusin":return zn=qr(zn,e,t,n,r,s),!0;case"dragenter":return En=qr(En,e,t,n,r,s),!0;case"mouseover":return Ln=qr(Ln,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ss.set(i,qr(Ss.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Cs.set(i,qr(Cs.get(i)||null,e,t,n,r,s)),!0}return!1}function Vd(e){var t=Gn(e.target);if(t!==null){var n=lr(t);if(n!==null){if(t=n.tag,t===13){if(t=Pd(n),t!==null){e.blockedOn=t,Hd(e.priority,function(){Wd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yo=r,n.target.dispatchEvent(r),yo=null}else return t=Gs(n),t!==null&&Ca(t),e.blockedOn=n,!1;t.shift()}return!0}function Ic(e,t,n){wi(e)&&n.delete(t)}function Qh(){ko=!1,zn!==null&&wi(zn)&&(zn=null),En!==null&&wi(En)&&(En=null),Ln!==null&&wi(Ln)&&(Ln=null),Ss.forEach(Ic),Cs.forEach(Ic)}function es(e,t){e.blockedOn===t&&(e.blockedOn=null,ko||(ko=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,Qh)))}function zs(e){function t(s){return es(s,e)}if(0<si.length){es(si[0],e);for(var n=1;n<si.length;n++){var r=si[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zn!==null&&es(zn,e),En!==null&&es(En,e),Ln!==null&&es(Ln,e),Ss.forEach(t),Cs.forEach(t),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)Vd(n),n.blockedOn===null&&kn.shift()}var Ir=hn.ReactCurrentBatchConfig,Ti=!0;function Yh(e,t,n,r){var s=_e,i=Ir.transition;Ir.transition=null;try{_e=1,za(e,t,n,r)}finally{_e=s,Ir.transition=i}}function Xh(e,t,n,r){var s=_e,i=Ir.transition;Ir.transition=null;try{_e=4,za(e,t,n,r)}finally{_e=s,Ir.transition=i}}function za(e,t,n,r){if(Ti){var s=jo(e,t,n,r);if(s===null)Al(e,t,r,$i,n),Pc(e,r);else if(Jh(s,e,t,n,r))r.stopPropagation();else if(Pc(e,r),t&4&&-1<Kh.indexOf(e)){for(;s!==null;){var i=Gs(s);if(i!==null&&Ad(i),i=jo(e,t,n,r),i===null&&Al(e,t,r,$i,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Al(e,t,r,null,n)}}var $i=null;function jo(e,t,n,r){if($i=null,e=ja(r),e=Gn(e),e!==null)if(t=lr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $i=e,null}function Bd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fh()){case Na:return 1;case Td:return 4;case Mi:case Dh:return 16;case $d:return 536870912;default:return 16}default:return 16}}var Nn=null,Ea=null,bi=null;function Gd(){if(bi)return bi;var e,t=Ea,n=t.length,r,s="value"in Nn?Nn.value:Nn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return bi=s.slice(e,1<r?1-r:void 0)}function _i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function Mc(){return!1}function Et(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ii:Mc,this.isPropagationStopped=Mc,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Et(Gr),Bs=Me({},Gr,{view:0,detail:0}),Zh=Et(Bs),Ol,Pl,ts,ol=Me({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ts&&(ts&&e.type==="mousemove"?(Ol=e.screenX-ts.screenX,Pl=e.screenY-ts.screenY):Pl=Ol=0,ts=e),Ol)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),Rc=Et(ol),qh=Me({},ol,{dataTransfer:0}),em=Et(qh),tm=Me({},Bs,{relatedTarget:0}),Il=Et(tm),nm=Me({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),rm=Et(nm),sm=Me({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),im=Et(sm),lm=Me({},Gr,{data:0}),Tc=Et(lm),om={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function um(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cm[e])?!!t[e]:!1}function Oa(){return um}var dm=Me({},Bs,{key:function(e){if(e.key){var t=om[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?am[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fm=Et(dm),pm=Me({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$c=Et(pm),hm=Me({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),mm=Et(hm),gm=Me({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xm=Et(gm),ym=Me({},ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vm=Et(ym),wm=[9,13,27,32],Pa=un&&"CompositionEvent"in window,hs=null;un&&"documentMode"in document&&(hs=document.documentMode);var bm=un&&"TextEvent"in window&&!hs,Kd=un&&(!Pa||hs&&8<hs&&11>=hs),Fc=String.fromCharCode(32),Dc=!1;function Jd(e,t){switch(e){case"keyup":return wm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wr=!1;function _m(e,t){switch(e){case"compositionend":return Qd(t);case"keypress":return t.which!==32?null:(Dc=!0,Fc);case"textInput":return e=t.data,e===Fc&&Dc?null:e;default:return null}}function km(e,t){if(wr)return e==="compositionend"||!Pa&&Jd(e,t)?(e=Gd(),bi=Ea=Nn=null,wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kd&&t.locale!=="ko"?null:t.data;default:return null}}var jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jm[e.type]:t==="textarea"}function Yd(e,t,n,r){Cd(r),t=Fi(t,"onChange"),0<t.length&&(n=new La("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ms=null,Es=null;function Nm(e){af(e,0)}function al(e){var t=kr(e);if(wd(t))return e}function Sm(e,t){if(e==="change")return t}var Xd=!1;if(un){var Ml;if(un){var Rl="oninput"in document;if(!Rl){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),Rl=typeof Wc.oninput=="function"}Ml=Rl}else Ml=!1;Xd=Ml&&(!document.documentMode||9<document.documentMode)}function Uc(){ms&&(ms.detachEvent("onpropertychange",Zd),Es=ms=null)}function Zd(e){if(e.propertyName==="value"&&al(Es)){var t=[];Yd(t,Es,e,ja(e)),Od(Nm,t)}}function Cm(e,t,n){e==="focusin"?(Uc(),ms=t,Es=n,ms.attachEvent("onpropertychange",Zd)):e==="focusout"&&Uc()}function zm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Es)}function Em(e,t){if(e==="click")return al(t)}function Lm(e,t){if(e==="input"||e==="change")return al(t)}function Om(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Om;function Ls(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!io.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function Hc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vc(e,t){var n=Hc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hc(n)}}function qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ef(){for(var e=window,t=Oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oi(e.document)}return t}function Ia(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pm(e){var t=ef(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qd(n.ownerDocument.documentElement,n)){if(r!==null&&Ia(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Vc(n,i);var o=Vc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Im=un&&"documentMode"in document&&11>=document.documentMode,br=null,No=null,gs=null,So=!1;function Bc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;So||br==null||br!==Oi(r)||(r=br,"selectionStart"in r&&Ia(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gs&&Ls(gs,r)||(gs=r,r=Fi(No,"onSelect"),0<r.length&&(t=new La("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionend:li("Transition","TransitionEnd")},Tl={},tf={};un&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function cl(e){if(Tl[e])return Tl[e];if(!_r[e])return e;var t=_r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tf)return Tl[e]=t[n];return e}var nf=cl("animationend"),rf=cl("animationiteration"),sf=cl("animationstart"),lf=cl("transitionend"),of=new Map,Gc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){of.set(e,t),ir(t,[e])}for(var $l=0;$l<Gc.length;$l++){var Fl=Gc[$l],Mm=Fl.toLowerCase(),Rm=Fl[0].toUpperCase()+Fl.slice(1);Fn(Mm,"on"+Rm)}Fn(nf,"onAnimationEnd");Fn(rf,"onAnimationIteration");Fn(sf,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(lf,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tm=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function Kc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Mh(r,t,void 0,e),e.currentTarget=null}function af(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Kc(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Kc(s,a,d),i=c}}}if(Ii)throw e=bo,Ii=!1,bo=null,e}function Ee(e,t){var n=t[Oo];n===void 0&&(n=t[Oo]=new Set);var r=e+"__bubble";n.has(r)||(cf(t,e,2,!1),n.add(r))}function Dl(e,t,n){var r=0;t&&(r|=4),cf(n,e,r,t)}var oi="_reactListening"+Math.random().toString(36).slice(2);function Os(e){if(!e[oi]){e[oi]=!0,md.forEach(function(n){n!=="selectionchange"&&(Tm.has(n)||Dl(n,!1,e),Dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oi]||(t[oi]=!0,Dl("selectionchange",!1,t))}}function cf(e,t,n,r){switch(Bd(t)){case 1:var s=Yh;break;case 4:s=Xh;break;default:s=za}n=s.bind(null,t,n,e),s=void 0,!wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Al(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gn(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Od(function(){var d=i,h=ja(n),f=[];e:{var u=of.get(e);if(u!==void 0){var b=La,m=e;switch(e){case"keypress":if(_i(n)===0)break e;case"keydown":case"keyup":b=fm;break;case"focusin":m="focus",b=Il;break;case"focusout":m="blur",b=Il;break;case"beforeblur":case"afterblur":b=Il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=mm;break;case nf:case rf:case sf:b=rm;break;case lf:b=xm;break;case"scroll":b=Zh;break;case"wheel":b=vm;break;case"copy":case"cut":case"paste":b=im;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=$c}var S=(t&4)!==0,F=!S&&e==="scroll",g=S?u!==null?u+"Capture":null:u;S=[];for(var p=d,v;p!==null;){v=p;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,g!==null&&(j=Ns(p,g),j!=null&&S.push(Ps(p,j,v)))),F)break;p=p.return}0<S.length&&(u=new b(u,m,null,n,h),f.push({event:u,listeners:S}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",u&&n!==yo&&(m=n.relatedTarget||n.fromElement)&&(Gn(m)||m[dn]))break e;if((b||u)&&(u=h.window===h?h:(u=h.ownerDocument)?u.defaultView||u.parentWindow:window,b?(m=n.relatedTarget||n.toElement,b=d,m=m?Gn(m):null,m!==null&&(F=lr(m),m!==F||m.tag!==5&&m.tag!==6)&&(m=null)):(b=null,m=d),b!==m)){if(S=Rc,j="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(S=$c,j="onPointerLeave",g="onPointerEnter",p="pointer"),F=b==null?u:kr(b),v=m==null?u:kr(m),u=new S(j,p+"leave",b,n,h),u.target=F,u.relatedTarget=v,j=null,Gn(h)===d&&(S=new S(g,p+"enter",m,n,h),S.target=v,S.relatedTarget=F,j=S),F=j,b&&m)t:{for(S=b,g=m,p=0,v=S;v;v=pr(v))p++;for(v=0,j=g;j;j=pr(j))v++;for(;0<p-v;)S=pr(S),p--;for(;0<v-p;)g=pr(g),v--;for(;p--;){if(S===g||g!==null&&S===g.alternate)break t;S=pr(S),g=pr(g)}S=null}else S=null;b!==null&&Jc(f,u,b,S,!1),m!==null&&F!==null&&Jc(f,F,m,S,!0)}}e:{if(u=d?kr(d):window,b=u.nodeName&&u.nodeName.toLowerCase(),b==="select"||b==="input"&&u.type==="file")var k=Sm;else if(Ac(u))if(Xd)k=Lm;else{k=zm;var L=Cm}else(b=u.nodeName)&&b.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(k=Em);if(k&&(k=k(e,d))){Yd(f,k,n,h);break e}L&&L(e,u,d),e==="focusout"&&(L=u._wrapperState)&&L.controlled&&u.type==="number"&&po(u,"number",u.value)}switch(L=d?kr(d):window,e){case"focusin":(Ac(L)||L.contentEditable==="true")&&(br=L,No=d,gs=null);break;case"focusout":gs=No=br=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,Bc(f,n,h);break;case"selectionchange":if(Im)break;case"keydown":case"keyup":Bc(f,n,h)}var N;if(Pa)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else wr?Jd(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Kd&&n.locale!=="ko"&&(wr||E!=="onCompositionStart"?E==="onCompositionEnd"&&wr&&(N=Gd()):(Nn=h,Ea="value"in Nn?Nn.value:Nn.textContent,wr=!0)),L=Fi(d,E),0<L.length&&(E=new Tc(E,e,null,n,h),f.push({event:E,listeners:L}),N?E.data=N:(N=Qd(n),N!==null&&(E.data=N)))),(N=bm?_m(e,n):km(e,n))&&(d=Fi(d,"onBeforeInput"),0<d.length&&(h=new Tc("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=N))}af(f,t)})}function Ps(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ns(e,n),i!=null&&r.unshift(Ps(e,i,s)),i=Ns(e,t),i!=null&&r.push(Ps(e,i,s))),e=e.return}return r}function pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Ns(n,i),c!=null&&o.unshift(Ps(n,c,a))):s||(c=Ns(n,i),c!=null&&o.push(Ps(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var $m=/\r\n?/g,Fm=/\u0000|\uFFFD/g;function Qc(e){return(typeof e=="string"?e:""+e).replace($m,`
`).replace(Fm,"")}function ai(e,t,n){if(t=Qc(t),Qc(e)!==t&&n)throw Error(U(425))}function Di(){}var Co=null,zo=null;function Eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lo=typeof setTimeout=="function"?setTimeout:void 0,Dm=typeof clearTimeout=="function"?clearTimeout:void 0,Yc=typeof Promise=="function"?Promise:void 0,Am=typeof queueMicrotask=="function"?queueMicrotask:typeof Yc<"u"?function(e){return Yc.resolve(null).then(e).catch(Wm)}:Lo;function Wm(e){setTimeout(function(){throw e})}function Wl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zs(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Kr,Is="__reactProps$"+Kr,dn="__reactContainer$"+Kr,Oo="__reactEvents$"+Kr,Um="__reactListeners$"+Kr,Hm="__reactHandles$"+Kr;function Gn(e){var t=e[Xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dn]||n[Xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xc(e);e!==null;){if(n=e[Xt])return n;e=Xc(e)}return t}e=n,n=e.parentNode}return null}function Gs(e){return e=e[Xt]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function ul(e){return e[Is]||null}var Po=[],jr=-1;function Dn(e){return{current:e}}function Le(e){0>jr||(e.current=Po[jr],Po[jr]=null,jr--)}function Ne(e,t){jr++,Po[jr]=e.current,e.current=t}var $n={},nt=Dn($n),mt=Dn(!1),Zn=$n;function $r(e,t){var n=e.type.contextTypes;if(!n)return $n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function gt(e){return e=e.childContextTypes,e!=null}function Ai(){Le(mt),Le(nt)}function Zc(e,t,n){if(nt.current!==$n)throw Error(U(168));Ne(nt,t),Ne(mt,n)}function uf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,Ch(e)||"Unknown",s));return Me({},n,r)}function Wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$n,Zn=nt.current,Ne(nt,e),Ne(mt,mt.current),!0}function qc(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=uf(e,t,Zn),r.__reactInternalMemoizedMergedChildContext=e,Le(mt),Le(nt),Ne(nt,e)):Le(mt),Ne(mt,n)}var sn=null,dl=!1,Ul=!1;function df(e){sn===null?sn=[e]:sn.push(e)}function Vm(e){dl=!0,df(e)}function An(){if(!Ul&&sn!==null){Ul=!0;var e=0,t=_e;try{var n=sn;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sn=null,dl=!1}catch(s){throw sn!==null&&(sn=sn.slice(e+1)),Rd(Na,An),s}finally{_e=t,Ul=!1}}return null}var Nr=[],Sr=0,Ui=null,Hi=0,Ot=[],Pt=0,qn=null,ln=1,on="";function Hn(e,t){Nr[Sr++]=Hi,Nr[Sr++]=Ui,Ui=e,Hi=t}function ff(e,t,n){Ot[Pt++]=ln,Ot[Pt++]=on,Ot[Pt++]=qn,qn=e;var r=ln;e=on;var s=32-Ht(r)-1;r&=~(1<<s),n+=1;var i=32-Ht(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ln=1<<32-Ht(t)+s|n<<s|r,on=i+e}else ln=1<<i|n<<s|r,on=e}function Ma(e){e.return!==null&&(Hn(e,1),ff(e,1,0))}function Ra(e){for(;e===Ui;)Ui=Nr[--Sr],Nr[Sr]=null,Hi=Nr[--Sr],Nr[Sr]=null;for(;e===qn;)qn=Ot[--Pt],Ot[Pt]=null,on=Ot[--Pt],Ot[Pt]=null,ln=Ot[--Pt],Ot[Pt]=null}var St=null,Nt=null,Oe=!1,Ut=null;function pf(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,Nt=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qn!==null?{id:ln,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,St=e,Nt=null,!0):!1;default:return!1}}function Io(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mo(e){if(Oe){var t=Nt;if(t){var n=t;if(!eu(e,t)){if(Io(e))throw Error(U(418));t=On(n.nextSibling);var r=St;t&&eu(e,t)?pf(r,n):(e.flags=e.flags&-4097|2,Oe=!1,St=e)}}else{if(Io(e))throw Error(U(418));e.flags=e.flags&-4097|2,Oe=!1,St=e}}}function tu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function ci(e){if(e!==St)return!1;if(!Oe)return tu(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eo(e.type,e.memoizedProps)),t&&(t=Nt)){if(Io(e))throw hf(),Error(U(418));for(;t;)pf(e,t),t=On(t.nextSibling)}if(tu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nt=On(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=St?On(e.stateNode.nextSibling):null;return!0}function hf(){for(var e=Nt;e;)e=On(e.nextSibling)}function Fr(){Nt=St=null,Oe=!1}function Ta(e){Ut===null?Ut=[e]:Ut.push(e)}var Bm=hn.ReactCurrentBatchConfig;function ns(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function ui(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nu(e){var t=e._init;return t(e._payload)}function mf(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Rn(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,j){return p===null||p.tag!==6?(p=Ql(v,g.mode,j),p.return=g,p):(p=s(p,v),p.return=g,p)}function c(g,p,v,j){var k=v.type;return k===vr?h(g,p,v.props.children,j,v.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===bn&&nu(k)===p.type)?(j=s(p,v.props),j.ref=ns(g,p,v),j.return=g,j):(j=Ei(v.type,v.key,v.props,null,g.mode,j),j.ref=ns(g,p,v),j.return=g,j)}function d(g,p,v,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Yl(v,g.mode,j),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function h(g,p,v,j,k){return p===null||p.tag!==7?(p=Xn(v,g.mode,j,k),p.return=g,p):(p=s(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ql(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case qs:return v=Ei(p.type,p.key,p.props,null,g.mode,v),v.ref=ns(g,null,p),v.return=g,v;case yr:return p=Yl(p,g.mode,v),p.return=g,p;case bn:var j=p._init;return f(g,j(p._payload),v)}if(cs(p)||Xr(p))return p=Xn(p,g.mode,v,null),p.return=g,p;ui(g,p)}return null}function u(g,p,v,j){var k=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(g,p,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qs:return v.key===k?c(g,p,v,j):null;case yr:return v.key===k?d(g,p,v,j):null;case bn:return k=v._init,u(g,p,k(v._payload),j)}if(cs(v)||Xr(v))return k!==null?null:h(g,p,v,j,null);ui(g,v)}return null}function b(g,p,v,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(v)||null,a(p,g,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qs:return g=g.get(j.key===null?v:j.key)||null,c(p,g,j,k);case yr:return g=g.get(j.key===null?v:j.key)||null,d(p,g,j,k);case bn:var L=j._init;return b(g,p,v,L(j._payload),k)}if(cs(j)||Xr(j))return g=g.get(v)||null,h(p,g,j,k,null);ui(p,j)}return null}function m(g,p,v,j){for(var k=null,L=null,N=p,E=p=0,_=null;N!==null&&E<v.length;E++){N.index>E?(_=N,N=null):_=N.sibling;var C=u(g,N,v[E],j);if(C===null){N===null&&(N=_);break}e&&N&&C.alternate===null&&t(g,N),p=i(C,p,E),L===null?k=C:L.sibling=C,L=C,N=_}if(E===v.length)return n(g,N),Oe&&Hn(g,E),k;if(N===null){for(;E<v.length;E++)N=f(g,v[E],j),N!==null&&(p=i(N,p,E),L===null?k=N:L.sibling=N,L=N);return Oe&&Hn(g,E),k}for(N=r(g,N);E<v.length;E++)_=b(N,g,E,v[E],j),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?E:_.key),p=i(_,p,E),L===null?k=_:L.sibling=_,L=_);return e&&N.forEach(function(W){return t(g,W)}),Oe&&Hn(g,E),k}function S(g,p,v,j){var k=Xr(v);if(typeof k!="function")throw Error(U(150));if(v=k.call(v),v==null)throw Error(U(151));for(var L=k=null,N=p,E=p=0,_=null,C=v.next();N!==null&&!C.done;E++,C=v.next()){N.index>E?(_=N,N=null):_=N.sibling;var W=u(g,N,C.value,j);if(W===null){N===null&&(N=_);break}e&&N&&W.alternate===null&&t(g,N),p=i(W,p,E),L===null?k=W:L.sibling=W,L=W,N=_}if(C.done)return n(g,N),Oe&&Hn(g,E),k;if(N===null){for(;!C.done;E++,C=v.next())C=f(g,C.value,j),C!==null&&(p=i(C,p,E),L===null?k=C:L.sibling=C,L=C);return Oe&&Hn(g,E),k}for(N=r(g,N);!C.done;E++,C=v.next())C=b(N,g,E,C.value,j),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?E:C.key),p=i(C,p,E),L===null?k=C:L.sibling=C,L=C);return e&&N.forEach(function(M){return t(g,M)}),Oe&&Hn(g,E),k}function F(g,p,v,j){if(typeof v=="object"&&v!==null&&v.type===vr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case qs:e:{for(var k=v.key,L=p;L!==null;){if(L.key===k){if(k=v.type,k===vr){if(L.tag===7){n(g,L.sibling),p=s(L,v.props.children),p.return=g,g=p;break e}}else if(L.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===bn&&nu(k)===L.type){n(g,L.sibling),p=s(L,v.props),p.ref=ns(g,L,v),p.return=g,g=p;break e}n(g,L);break}else t(g,L);L=L.sibling}v.type===vr?(p=Xn(v.props.children,g.mode,j,v.key),p.return=g,g=p):(j=Ei(v.type,v.key,v.props,null,g.mode,j),j.ref=ns(g,p,v),j.return=g,g=j)}return o(g);case yr:e:{for(L=v.key;p!==null;){if(p.key===L)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Yl(v,g.mode,j),p.return=g,g=p}return o(g);case bn:return L=v._init,F(g,p,L(v._payload),j)}if(cs(v))return m(g,p,v,j);if(Xr(v))return S(g,p,v,j);ui(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,v),p.return=g,g=p):(n(g,p),p=Ql(v,g.mode,j),p.return=g,g=p),o(g)):n(g,p)}return F}var Dr=mf(!0),gf=mf(!1),Vi=Dn(null),Bi=null,Cr=null,$a=null;function Fa(){$a=Cr=Bi=null}function Da(e){var t=Vi.current;Le(Vi),e._currentValue=t}function Ro(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mr(e,t){Bi=e,$a=Cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if($a!==e)if(e={context:e,memoizedValue:t,next:null},Cr===null){if(Bi===null)throw Error(U(308));Cr=e,Bi.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return t}var Kn=null;function Aa(e){Kn===null?Kn=[e]:Kn.push(e)}function xf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Aa(t)):(n.next=s.next,s.next=n),t.interleaved=n,fn(e,r)}function fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _n=!1;function Wa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,fn(e,n)}return s=r.interleaved,s===null?(t.next=t,Aa(r)):(t.next=s.next,s.next=t),r.interleaved=t,fn(e,n)}function ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sa(e,n)}}function ru(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gi(e,t,n,r){var s=e.updateQueue;_n=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var u=a.lane,b=a.eventTime;if((r&u)===u){h!==null&&(h=h.next={eventTime:b,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,S=a;switch(u=t,b=n,S.tag){case 1:if(m=S.payload,typeof m=="function"){f=m.call(b,f,u);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=S.payload,u=typeof m=="function"?m.call(b,f,u):m,u==null)break e;f=Me({},f,u);break e;case 2:_n=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,u=s.effects,u===null?s.effects=[a]:u.push(a))}else b={eventTime:b,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=b,c=f):h=h.next=b,o|=u;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;u=a,a=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(1);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);tr|=o,e.lanes=o,e.memoizedState=f}}function su(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Ks={},tn=Dn(Ks),Ms=Dn(Ks),Rs=Dn(Ks);function Jn(e){if(e===Ks)throw Error(U(174));return e}function Ua(e,t){switch(Ne(Rs,t),Ne(Ms,e),Ne(tn,Ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mo(t,e)}Le(tn),Ne(tn,t)}function Ar(){Le(tn),Le(Ms),Le(Rs)}function vf(e){Jn(Rs.current);var t=Jn(tn.current),n=mo(t,e.type);t!==n&&(Ne(Ms,e),Ne(tn,n))}function Ha(e){Ms.current===e&&(Le(tn),Le(Ms))}var Pe=Dn(0);function Ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hl=[];function Va(){for(var e=0;e<Hl.length;e++)Hl[e]._workInProgressVersionPrimary=null;Hl.length=0}var ji=hn.ReactCurrentDispatcher,Vl=hn.ReactCurrentBatchConfig,er=0,Ie=null,We=null,He=null,Ji=!1,xs=!1,Ts=0,Gm=0;function qe(){throw Error(U(321))}function Ba(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function Ga(e,t,n,r,s,i){if(er=i,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ji.current=e===null||e.memoizedState===null?Ym:Xm,e=n(r,s),xs){i=0;do{if(xs=!1,Ts=0,25<=i)throw Error(U(301));i+=1,He=We=null,t.updateQueue=null,ji.current=Zm,e=n(r,s)}while(xs)}if(ji.current=Qi,t=We!==null&&We.next!==null,er=0,He=We=Ie=null,Ji=!1,t)throw Error(U(300));return e}function Ka(){var e=Ts!==0;return Ts=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ie.memoizedState=He=e:He=He.next=e,He}function Tt(){if(We===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=He===null?Ie.memoizedState:He.next;if(t!==null)He=t,We=e;else{if(e===null)throw Error(U(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},He===null?Ie.memoizedState=He=e:He=He.next=e}return He}function $s(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=Tt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=We,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((er&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ie.lanes|=h,tr|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,Bt(r,t.memoizedState)||(ht=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ie.lanes|=i,tr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gl(e){var t=Tt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Bt(i,t.memoizedState)||(ht=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function wf(){}function bf(e,t){var n=Ie,r=Tt(),s=t(),i=!Bt(r.memoizedState,s);if(i&&(r.memoizedState=s,ht=!0),r=r.queue,Ja(jf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Fs(9,kf.bind(null,n,r,s,t),void 0,null),Ve===null)throw Error(U(349));er&30||_f(n,t,s)}return s}function _f(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kf(e,t,n,r){t.value=n,t.getSnapshot=r,Nf(t)&&Sf(e)}function jf(e,t,n){return n(function(){Nf(t)&&Sf(e)})}function Nf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function Sf(e){var t=fn(e,1);t!==null&&Vt(t,e,1,-1)}function iu(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t.queue=e,e=e.dispatch=Qm.bind(null,Ie,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cf(){return Tt().memoizedState}function Ni(e,t,n,r){var s=Yt();Ie.flags|=e,s.memoizedState=Fs(1|t,n,void 0,r===void 0?null:r)}function fl(e,t,n,r){var s=Tt();r=r===void 0?null:r;var i=void 0;if(We!==null){var o=We.memoizedState;if(i=o.destroy,r!==null&&Ba(r,o.deps)){s.memoizedState=Fs(t,n,i,r);return}}Ie.flags|=e,s.memoizedState=Fs(1|t,n,i,r)}function lu(e,t){return Ni(8390656,8,e,t)}function Ja(e,t){return fl(2048,8,e,t)}function zf(e,t){return fl(4,2,e,t)}function Ef(e,t){return fl(4,4,e,t)}function Lf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Of(e,t,n){return n=n!=null?n.concat([e]):null,fl(4,4,Lf.bind(null,t,e),n)}function Qa(){}function Pf(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function If(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mf(e,t,n){return er&21?(Bt(n,t)||(n=Fd(),Ie.lanes|=n,tr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=n)}function Km(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=Vl.transition;Vl.transition={};try{e(!1),t()}finally{_e=n,Vl.transition=r}}function Rf(){return Tt().memoizedState}function Jm(e,t,n){var r=Mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tf(e))$f(t,n);else if(n=xf(e,t,n,r),n!==null){var s=ot();Vt(n,e,r,s),Ff(n,t,r)}}function Qm(e,t,n){var r=Mn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tf(e))$f(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Bt(a,o)){var c=t.interleaved;c===null?(s.next=s,Aa(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=xf(e,t,s,r),n!==null&&(s=ot(),Vt(n,e,r,s),Ff(n,t,r))}}function Tf(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function $f(e,t){xs=Ji=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ff(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sa(e,n)}}var Qi={readContext:Rt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},Ym={readContext:Rt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:lu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ni(4194308,4,Lf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ni(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jm.bind(null,Ie,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:iu,useDebugValue:Qa,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=iu(!1),t=e[0];return e=Km.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ie,s=Yt();if(Oe){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ve===null)throw Error(U(349));er&30||_f(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,lu(jf.bind(null,r,i,e),[e]),r.flags|=2048,Fs(9,kf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Yt(),t=Ve.identifierPrefix;if(Oe){var n=on,r=ln;n=(r&~(1<<32-Ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ts++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xm={readContext:Rt,useCallback:Pf,useContext:Rt,useEffect:Ja,useImperativeHandle:Of,useInsertionEffect:zf,useLayoutEffect:Ef,useMemo:If,useReducer:Bl,useRef:Cf,useState:function(){return Bl($s)},useDebugValue:Qa,useDeferredValue:function(e){var t=Tt();return Mf(t,We.memoizedState,e)},useTransition:function(){var e=Bl($s)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:wf,useSyncExternalStore:bf,useId:Rf,unstable_isNewReconciler:!1},Zm={readContext:Rt,useCallback:Pf,useContext:Rt,useEffect:Ja,useImperativeHandle:Of,useInsertionEffect:zf,useLayoutEffect:Ef,useMemo:If,useReducer:Gl,useRef:Cf,useState:function(){return Gl($s)},useDebugValue:Qa,useDeferredValue:function(e){var t=Tt();return We===null?t.memoizedState=e:Mf(t,We.memoizedState,e)},useTransition:function(){var e=Gl($s)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:wf,useSyncExternalStore:bf,useId:Rf,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function To(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pl={isMounted:function(e){return(e=e._reactInternals)?lr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ot(),s=Mn(e),i=an(r,s);i.payload=t,n!=null&&(i.callback=n),t=Pn(e,i,s),t!==null&&(Vt(t,e,s,r),ki(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ot(),s=Mn(e),i=an(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Pn(e,i,s),t!==null&&(Vt(t,e,s,r),ki(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),r=Mn(e),s=an(n,r);s.tag=2,t!=null&&(s.callback=t),t=Pn(e,s,r),t!==null&&(Vt(t,e,r,n),ki(t,e,r))}};function ou(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ls(n,r)||!Ls(s,i):!0}function Df(e,t,n){var r=!1,s=$n,i=t.contextType;return typeof i=="object"&&i!==null?i=Rt(i):(s=gt(t)?Zn:nt.current,r=t.contextTypes,i=(r=r!=null)?$r(e,s):$n),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function au(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function $o(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Wa(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Rt(i):(i=gt(t)?Zn:nt.current,s.context=$r(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(To(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pl.enqueueReplaceState(s,s.state,null),Gi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wr(e,t){try{var n="",r=t;do n+=Sh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Kl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qm=typeof WeakMap=="function"?WeakMap:Map;function Af(e,t,n){n=an(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xi||(Xi=!0,Jo=r),Fo(e,t)},n}function Wf(e,t,n){n=an(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Fo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fo(e,t),typeof r!="function"&&(In===null?In=new Set([this]):In.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function cu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=pg.bind(null,e,t,n),t.then(e,e))}function uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function du(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=an(-1,1),t.tag=2,Pn(n,t,1))),n.lanes|=1),e)}var eg=hn.ReactCurrentOwner,ht=!1;function lt(e,t,n,r){t.child=e===null?gf(t,null,n,r):Dr(t,e.child,n,r)}function fu(e,t,n,r,s){n=n.render;var i=t.ref;return Mr(t,s),r=Ga(e,t,n,r,i,s),n=Ka(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(Oe&&n&&Ma(t),t.flags|=1,lt(e,t,r,s),t.child)}function pu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!rc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Uf(e,t,i,r,s)):(e=Ei(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ls,n(o,r)&&e.ref===t.ref)return pn(e,t,s)}return t.flags|=1,e=Rn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Uf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ls(i,r)&&e.ref===t.ref)if(ht=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,pn(e,t,s)}return Do(e,t,n,r,s)}function Hf(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Er,jt),jt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Er,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ne(Er,jt),jt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ne(Er,jt),jt|=r;return lt(e,t,s,n),t.child}function Vf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Do(e,t,n,r,s){var i=gt(n)?Zn:nt.current;return i=$r(t,i),Mr(t,s),n=Ga(e,t,n,r,i,s),r=Ka(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(Oe&&r&&Ma(t),t.flags|=1,lt(e,t,n,s),t.child)}function hu(e,t,n,r,s){if(gt(n)){var i=!0;Wi(t)}else i=!1;if(Mr(t,s),t.stateNode===null)Si(e,t),Df(t,n,r),$o(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Rt(d):(d=gt(n)?Zn:nt.current,d=$r(t,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&au(t,o,r,d),_n=!1;var u=t.memoizedState;o.state=u,Gi(t,r,o,s),c=t.memoizedState,a!==r||u!==c||mt.current||_n?(typeof h=="function"&&(To(t,n,h,r),c=t.memoizedState),(a=_n||ou(t,n,a,r,u,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,yf(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:At(t.type,a),o.props=d,f=t.pendingProps,u=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Rt(c):(c=gt(n)?Zn:nt.current,c=$r(t,c));var b=n.getDerivedStateFromProps;(h=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||u!==c)&&au(t,o,r,c),_n=!1,u=t.memoizedState,o.state=u,Gi(t,r,o,s);var m=t.memoizedState;a!==f||u!==m||mt.current||_n?(typeof b=="function"&&(To(t,n,b,r),m=t.memoizedState),(d=_n||ou(t,n,d,r,u,m,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return Ao(e,t,n,r,i,s)}function Ao(e,t,n,r,s,i){Vf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&qc(t,n,!1),pn(e,t,i);r=t.stateNode,eg.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Dr(t,e.child,null,i),t.child=Dr(t,null,a,i)):lt(e,t,a,i),t.memoizedState=r.state,s&&qc(t,n,!0),t.child}function Bf(e){var t=e.stateNode;t.pendingContext?Zc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zc(e,t.context,!1),Ua(e,t.containerInfo)}function mu(e,t,n,r,s){return Fr(),Ta(s),t.flags|=256,lt(e,t,n,r),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0};function Uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gf(e,t,n){var r=t.pendingProps,s=Pe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ne(Pe,s&1),e===null)return Mo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=gl(o,r,0,null),e=Xn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Uo(n),t.memoizedState=Wo,e):Ya(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return tg(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Rn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Rn(a,i):(i=Xn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Uo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Wo,r}return i=e.child,e=i.sibling,r=Rn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ya(e,t){return t=gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function di(e,t,n,r){return r!==null&&Ta(r),Dr(t,e.child,null,n),e=Ya(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tg(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Kl(Error(U(422))),di(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=gl({mode:"visible",children:r.children},s,0,null),i=Xn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Dr(t,e.child,null,o),t.child.memoizedState=Uo(o),t.memoizedState=Wo,i);if(!(t.mode&1))return di(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=Kl(i,r,void 0),di(e,t,o,r)}if(a=(o&e.childLanes)!==0,ht||a){if(r=Ve,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fn(e,s),Vt(r,e,s,-1))}return nc(),r=Kl(Error(U(421))),di(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=hg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Nt=On(s.nextSibling),St=t,Oe=!0,Ut=null,e!==null&&(Ot[Pt++]=ln,Ot[Pt++]=on,Ot[Pt++]=qn,ln=e.id,on=e.overflow,qn=t),t=Ya(t,r.children),t.flags|=4096,t)}function gu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ro(e.return,t,n)}function Jl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Kf(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(lt(e,t,r.children,n),r=Pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gu(e,n,t);else if(e.tag===19)gu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(Pe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ki(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Jl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ki(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Jl(t,!0,n,null,i);break;case"together":Jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Si(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ng(e,t,n){switch(t.tag){case 3:Bf(t),Fr();break;case 5:vf(t);break;case 1:gt(t.type)&&Wi(t);break;case 4:Ua(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ne(Vi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Pe,Pe.current&1),t.flags|=128,null):n&t.child.childLanes?Gf(e,t,n):(Ne(Pe,Pe.current&1),e=pn(e,t,n),e!==null?e.sibling:null);Ne(Pe,Pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Kf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Pe,Pe.current),r)break;return null;case 22:case 23:return t.lanes=0,Hf(e,t,n)}return pn(e,t,n)}var Jf,Ho,Qf,Yf;Jf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ho=function(){};Qf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Jn(tn.current);var i=null;switch(n){case"input":s=uo(e,s),r=uo(e,r),i=[];break;case"select":s=Me({},s,{value:void 0}),r=Me({},r,{value:void 0}),i=[];break;case"textarea":s=ho(e,s),r=ho(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Di)}go(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ks.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ks.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ee("scroll",e),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Yf=function(e,t,n,r){n!==r&&(t.flags|=4)};function rs(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rg(e,t,n){var r=t.pendingProps;switch(Ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return gt(t.type)&&Ai(),et(t),null;case 3:return r=t.stateNode,Ar(),Le(mt),Le(nt),Va(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ci(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ut!==null&&(Xo(Ut),Ut=null))),Ho(e,t),et(t),null;case 5:Ha(t);var s=Jn(Rs.current);if(n=t.type,e!==null&&t.stateNode!=null)Qf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return et(t),null}if(e=Jn(tn.current),ci(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Xt]=t,r[Is]=i,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(s=0;s<ds.length;s++)Ee(ds[s],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Nc(r,i),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",r);break;case"textarea":Cc(r,i),Ee("invalid",r)}go(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ai(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ai(r.textContent,a,e),s=["children",""+a]):ks.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":ei(r),Sc(r,i,!0);break;case"textarea":ei(r),zc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Di)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Xt]=t,e[Is]=r,Jf(e,t,!1,!1),t.stateNode=e;e:{switch(o=xo(n,r),n){case"dialog":Ee("cancel",e),Ee("close",e),s=r;break;case"iframe":case"object":case"embed":Ee("load",e),s=r;break;case"video":case"audio":for(s=0;s<ds.length;s++)Ee(ds[s],e);s=r;break;case"source":Ee("error",e),s=r;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),s=r;break;case"details":Ee("toggle",e),s=r;break;case"input":Nc(e,r),s=uo(e,r),Ee("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Me({},r,{value:void 0}),Ee("invalid",e);break;case"textarea":Cc(e,r),s=ho(e,r),Ee("invalid",e);break;default:s=r}go(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Sd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jd(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&js(e,c):typeof c=="number"&&js(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ks.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ee("scroll",e):c!=null&&wa(e,i,c,o))}switch(n){case"input":ei(e),Sc(e,r,!1);break;case"textarea":ei(e),zc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Lr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Di)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Yf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Jn(Rs.current),Jn(tn.current),ci(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xt]=t,(i=r.nodeValue!==n)&&(e=St,e!==null))switch(e.tag){case 3:ai(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ai(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xt]=t,t.stateNode=r}return et(t),null;case 13:if(Le(Pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Nt!==null&&t.mode&1&&!(t.flags&128))hf(),Fr(),t.flags|=98560,i=!1;else if(i=ci(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Xt]=t}else Fr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),i=!1}else Ut!==null&&(Xo(Ut),Ut=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?Ue===0&&(Ue=3):nc())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Ar(),Ho(e,t),e===null&&Os(t.stateNode.containerInfo),et(t),null;case 10:return Da(t.type._context),et(t),null;case 17:return gt(t.type)&&Ai(),et(t),null;case 19:if(Le(Pe),i=t.memoizedState,i===null)return et(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)rs(i,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ki(e),o!==null){for(t.flags|=128,rs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Pe,Pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&$e()>Ur&&(t.flags|=128,r=!0,rs(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ki(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Oe)return et(t),null}else 2*$e()-i.renderingStartTime>Ur&&n!==1073741824&&(t.flags|=128,r=!0,rs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,n=Pe.current,Ne(Pe,r?n&1|2:n&1),t):(et(t),null);case 22:case 23:return tc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?jt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function sg(e,t){switch(Ra(t),t.tag){case 1:return gt(t.type)&&Ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ar(),Le(mt),Le(nt),Va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ha(t),null;case 13:if(Le(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Fr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Pe),null;case 4:return Ar(),null;case 10:return Da(t.type._context),null;case 22:case 23:return tc(),null;case 24:return null;default:return null}}var fi=!1,tt=!1,ig=typeof WeakSet=="function"?WeakSet:Set,q=null;function zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Vo(e,t,n){try{n()}catch(r){Re(e,t,r)}}var xu=!1;function lg(e,t){if(Co=Ti,e=ef(),Ia(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=e,u=null;t:for(;;){for(var b;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(b=f.firstChild)!==null;)u=f,f=b;for(;;){if(f===e)break t;if(u===n&&++d===s&&(a=o),u===i&&++h===r&&(c=o),(b=f.nextSibling)!==null)break;f=u,u=f.parentNode}f=b}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zo={focusedElem:e,selectionRange:n},Ti=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var S=m.memoizedProps,F=m.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?S:At(t.type,S),F);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(j){Re(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return m=xu,xu=!1,m}function ys(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vo(t,n,i)}s=s.next}while(s!==r)}}function hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xf(e){var t=e.alternate;t!==null&&(e.alternate=null,Xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xt],delete t[Is],delete t[Oo],delete t[Um],delete t[Hm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zf(e){return e.tag===5||e.tag===3||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Go(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Di));else if(r!==4&&(e=e.child,e!==null))for(Go(e,t,n),e=e.sibling;e!==null;)Go(e,t,n),e=e.sibling}function Ko(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ko(e,t,n),e=e.sibling;e!==null;)Ko(e,t,n),e=e.sibling}var Ke=null,Wt=!1;function vn(e,t,n){for(n=n.child;n!==null;)qf(e,t,n),n=n.sibling}function qf(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 5:tt||zr(n,t);case 6:var r=Ke,s=Wt;Ke=null,vn(e,t,n),Ke=r,Wt=s,Ke!==null&&(Wt?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Wt?(e=Ke,n=n.stateNode,e.nodeType===8?Wl(e.parentNode,n):e.nodeType===1&&Wl(e,n),zs(e)):Wl(Ke,n.stateNode));break;case 4:r=Ke,s=Wt,Ke=n.stateNode.containerInfo,Wt=!0,vn(e,t,n),Ke=r,Wt=s;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vo(n,t,o),s=s.next}while(s!==r)}vn(e,t,n);break;case 1:if(!tt&&(zr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,t,a)}vn(e,t,n);break;case 21:vn(e,t,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,vn(e,t,n),tt=r):vn(e,t,n);break;default:vn(e,t,n)}}function vu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ig),t.forEach(function(r){var s=mg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,Wt=!1;break e;case 3:Ke=a.stateNode.containerInfo,Wt=!0;break e;case 4:Ke=a.stateNode.containerInfo,Wt=!0;break e}a=a.return}if(Ke===null)throw Error(U(160));qf(i,o,s),Ke=null,Wt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Re(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ep(t,e),t=t.sibling}function ep(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),Jt(e),r&4){try{ys(3,e,e.return),hl(3,e)}catch(S){Re(e,e.return,S)}try{ys(5,e,e.return)}catch(S){Re(e,e.return,S)}}break;case 1:Ft(t,e),Jt(e),r&512&&n!==null&&zr(n,n.return);break;case 5:if(Ft(t,e),Jt(e),r&512&&n!==null&&zr(n,n.return),e.flags&32){var s=e.stateNode;try{js(s,"")}catch(S){Re(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bd(s,i),xo(a,o);var d=xo(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Sd(s,f):h==="dangerouslySetInnerHTML"?jd(s,f):h==="children"?js(s,f):wa(s,h,f,d)}switch(a){case"input":fo(s,i);break;case"textarea":_d(s,i);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var b=i.value;b!=null?Lr(s,!!i.multiple,b,!1):u!==!!i.multiple&&(i.defaultValue!=null?Lr(s,!!i.multiple,i.defaultValue,!0):Lr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Is]=i}catch(S){Re(e,e.return,S)}}break;case 6:if(Ft(t,e),Jt(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){Re(e,e.return,S)}}break;case 3:if(Ft(t,e),Jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(S){Re(e,e.return,S)}break;case 4:Ft(t,e),Jt(e);break;case 13:Ft(t,e),Jt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qa=$e())),r&4&&vu(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(d=tt)||h,Ft(t,e),tt=d):Ft(t,e),Jt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(q=e,h=e.child;h!==null;){for(f=q=h;q!==null;){switch(u=q,b=u.child,u.tag){case 0:case 11:case 14:case 15:ys(4,u,u.return);break;case 1:zr(u,u.return);var m=u.stateNode;if(typeof m.componentWillUnmount=="function"){r=u,n=u.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(S){Re(r,n,S)}}break;case 5:zr(u,u.return);break;case 22:if(u.memoizedState!==null){bu(f);continue}}b!==null?(b.return=u,q=b):bu(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Nd("display",o))}catch(S){Re(e,e.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(S){Re(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ft(t,e),Jt(e),r&4&&vu(e);break;case 21:break;default:Ft(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zf(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(js(s,""),r.flags&=-33);var i=yu(e);Ko(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yu(e);Go(e,a,o);break;default:throw Error(U(161))}}catch(c){Re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function og(e,t,n){q=e,tp(e)}function tp(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fi;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||tt;a=fi;var d=tt;if(fi=o,(tt=c)&&!d)for(q=s;q!==null;)o=q,c=o.child,o.tag===22&&o.memoizedState!==null?_u(s):c!==null?(c.return=o,q=c):_u(s);for(;i!==null;)q=i,tp(i),i=i.sibling;q=s,fi=a,tt=d}wu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):wu(e)}}function wu(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||hl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:At(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&su(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}su(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&zs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}tt||t.flags&512&&Bo(t)}catch(u){Re(t,t.return,u)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function bu(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function _u(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hl(4,t)}catch(c){Re(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Re(t,s,c)}}var i=t.return;try{Bo(t)}catch(c){Re(t,i,c)}break;case 5:var o=t.return;try{Bo(t)}catch(c){Re(t,o,c)}}}catch(c){Re(t,t.return,c)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var ag=Math.ceil,Yi=hn.ReactCurrentDispatcher,Xa=hn.ReactCurrentOwner,Mt=hn.ReactCurrentBatchConfig,ye=0,Ve=null,Fe=null,Je=0,jt=0,Er=Dn(0),Ue=0,Ds=null,tr=0,ml=0,Za=0,vs=null,pt=null,qa=0,Ur=1/0,rn=null,Xi=!1,Jo=null,In=null,pi=!1,Sn=null,Zi=0,ws=0,Qo=null,Ci=-1,zi=0;function ot(){return ye&6?$e():Ci!==-1?Ci:Ci=$e()}function Mn(e){return e.mode&1?ye&2&&Je!==0?Je&-Je:Bm.transition!==null?(zi===0&&(zi=Fd()),zi):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Bd(e.type)),e):1}function Vt(e,t,n,r){if(50<ws)throw ws=0,Qo=null,Error(U(185));Vs(e,n,r),(!(ye&2)||e!==Ve)&&(e===Ve&&(!(ye&2)&&(ml|=n),Ue===4&&jn(e,Je)),xt(e,r),n===1&&ye===0&&!(t.mode&1)&&(Ur=$e()+500,dl&&An()))}function xt(e,t){var n=e.callbackNode;Bh(e,t);var r=Ri(e,e===Ve?Je:0);if(r===0)n!==null&&Oc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Oc(n),t===1)e.tag===0?Vm(ku.bind(null,e)):df(ku.bind(null,e)),Am(function(){!(ye&6)&&An()}),n=null;else{switch(Dd(r)){case 1:n=Na;break;case 4:n=Td;break;case 16:n=Mi;break;case 536870912:n=$d;break;default:n=Mi}n=cp(n,np.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function np(e,t){if(Ci=-1,zi=0,ye&6)throw Error(U(327));var n=e.callbackNode;if(Rr()&&e.callbackNode!==n)return null;var r=Ri(e,e===Ve?Je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qi(e,r);else{t=r;var s=ye;ye|=2;var i=sp();(Ve!==e||Je!==t)&&(rn=null,Ur=$e()+500,Yn(e,t));do try{dg();break}catch(a){rp(e,a)}while(1);Fa(),Yi.current=i,ye=s,Fe!==null?t=0:(Ve=null,Je=0,t=Ue)}if(t!==0){if(t===2&&(s=_o(e),s!==0&&(r=s,t=Yo(e,s))),t===1)throw n=Ds,Yn(e,0),jn(e,r),xt(e,$e()),n;if(t===6)jn(e,r);else{if(s=e.current.alternate,!(r&30)&&!cg(s)&&(t=qi(e,r),t===2&&(i=_o(e),i!==0&&(r=i,t=Yo(e,i))),t===1))throw n=Ds,Yn(e,0),jn(e,r),xt(e,$e()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Vn(e,pt,rn);break;case 3:if(jn(e,r),(r&130023424)===r&&(t=qa+500-$e(),10<t)){if(Ri(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ot(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Lo(Vn.bind(null,e,pt,rn),t);break}Vn(e,pt,rn);break;case 4:if(jn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ht(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ag(r/1960))-r,10<r){e.timeoutHandle=Lo(Vn.bind(null,e,pt,rn),r);break}Vn(e,pt,rn);break;case 5:Vn(e,pt,rn);break;default:throw Error(U(329))}}}return xt(e,$e()),e.callbackNode===n?np.bind(null,e):null}function Yo(e,t){var n=vs;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=qi(e,t),e!==2&&(t=pt,pt=n,t!==null&&Xo(t)),e}function Xo(e){pt===null?pt=e:pt.push.apply(pt,e)}function cg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~Za,t&=~ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(ye&6)throw Error(U(327));Rr();var t=Ri(e,0);if(!(t&1))return xt(e,$e()),null;var n=qi(e,t);if(e.tag!==0&&n===2){var r=_o(e);r!==0&&(t=r,n=Yo(e,r))}if(n===1)throw n=Ds,Yn(e,0),jn(e,t),xt(e,$e()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vn(e,pt,rn),xt(e,$e()),null}function ec(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(Ur=$e()+500,dl&&An())}}function nr(e){Sn!==null&&Sn.tag===0&&!(ye&6)&&Rr();var t=ye;ye|=1;var n=Mt.transition,r=_e;try{if(Mt.transition=null,_e=1,e)return e()}finally{_e=r,Mt.transition=n,ye=t,!(ye&6)&&An()}}function tc(){jt=Er.current,Le(Er)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dm(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Ra(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ai();break;case 3:Ar(),Le(mt),Le(nt),Va();break;case 5:Ha(r);break;case 4:Ar();break;case 13:Le(Pe);break;case 19:Le(Pe);break;case 10:Da(r.type._context);break;case 22:case 23:tc()}n=n.return}if(Ve=e,Fe=e=Rn(e.current,null),Je=jt=t,Ue=0,Ds=null,Za=ml=tr=0,pt=vs=null,Kn!==null){for(t=0;t<Kn.length;t++)if(n=Kn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Kn=null}return e}function rp(e,t){do{var n=Fe;try{if(Fa(),ji.current=Qi,Ji){for(var r=Ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ji=!1}if(er=0,He=We=Ie=null,xs=!1,Ts=0,Xa.current=null,n===null||n.return===null){Ue=1,Ds=t,Fe=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Je,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var u=h.alternate;u?(h.updateQueue=u.updateQueue,h.memoizedState=u.memoizedState,h.lanes=u.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=uu(o);if(b!==null){b.flags&=-257,du(b,o,a,i,t),b.mode&1&&cu(i,d,t),t=b,c=d;var m=t.updateQueue;if(m===null){var S=new Set;S.add(c),t.updateQueue=S}else m.add(c);break e}else{if(!(t&1)){cu(i,d,t),nc();break e}c=Error(U(426))}}else if(Oe&&a.mode&1){var F=uu(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),du(F,o,a,i,t),Ta(Wr(c,a));break e}}i=c=Wr(c,a),Ue!==4&&(Ue=2),vs===null?vs=[i]:vs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Af(i,c,t);ru(i,g);break e;case 1:a=c;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(In===null||!In.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Wf(i,a,t);ru(i,j);break e}}i=i.return}while(i!==null)}lp(n)}catch(k){t=k,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(1)}function sp(){var e=Yi.current;return Yi.current=Qi,e===null?Qi:e}function nc(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ve===null||!(tr&268435455)&&!(ml&268435455)||jn(Ve,Je)}function qi(e,t){var n=ye;ye|=2;var r=sp();(Ve!==e||Je!==t)&&(rn=null,Yn(e,t));do try{ug();break}catch(s){rp(e,s)}while(1);if(Fa(),ye=n,Yi.current=r,Fe!==null)throw Error(U(261));return Ve=null,Je=0,Ue}function ug(){for(;Fe!==null;)ip(Fe)}function dg(){for(;Fe!==null&&!Th();)ip(Fe)}function ip(e){var t=ap(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?lp(e):Fe=t,Xa.current=null}function lp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sg(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Fe=null;return}}else if(n=rg(n,t,jt),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ue===0&&(Ue=5)}function Vn(e,t,n){var r=_e,s=Mt.transition;try{Mt.transition=null,_e=1,fg(e,t,n,r)}finally{Mt.transition=s,_e=r}return null}function fg(e,t,n,r){do Rr();while(Sn!==null);if(ye&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Gh(e,i),e===Ve&&(Fe=Ve=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pi||(pi=!0,cp(Mi,function(){return Rr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mt.transition,Mt.transition=null;var o=_e;_e=1;var a=ye;ye|=4,Xa.current=null,lg(e,n),ep(n,e),Pm(zo),Ti=!!Co,zo=Co=null,e.current=n,og(n),$h(),ye=a,_e=o,Mt.transition=i}else e.current=n;if(pi&&(pi=!1,Sn=e,Zi=s),i=e.pendingLanes,i===0&&(In=null),Ah(n.stateNode),xt(e,$e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xi)throw Xi=!1,e=Jo,Jo=null,e;return Zi&1&&e.tag!==0&&Rr(),i=e.pendingLanes,i&1?e===Qo?ws++:(ws=0,Qo=e):ws=0,An(),null}function Rr(){if(Sn!==null){var e=Dd(Zi),t=Mt.transition,n=_e;try{if(Mt.transition=null,_e=16>e?16:e,Sn===null)var r=!1;else{if(e=Sn,Sn=null,Zi=0,ye&6)throw Error(U(331));var s=ye;for(ye|=4,q=e.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(q=d;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:ys(8,h,i)}var f=h.child;if(f!==null)f.return=h,q=f;else for(;q!==null;){h=q;var u=h.sibling,b=h.return;if(Xf(h),h===d){q=null;break}if(u!==null){u.return=b,q=u;break}q=b}}}var m=i.alternate;if(m!==null){var S=m.child;if(S!==null){m.child=null;do{var F=S.sibling;S.sibling=null,S=F}while(S!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ys(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,q=g;break e}q=i.return}}var p=e.current;for(q=p;q!==null;){o=q;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,q=v;else e:for(o=p;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hl(9,a)}}catch(k){Re(a,a.return,k)}if(a===o){q=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,q=j;break e}q=a.return}}if(ye=s,An(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ll,e)}catch{}r=!0}return r}finally{_e=n,Mt.transition=t}}return!1}function ju(e,t,n){t=Wr(n,t),t=Af(e,t,1),e=Pn(e,t,1),t=ot(),e!==null&&(Vs(e,1,t),xt(e,t))}function Re(e,t,n){if(e.tag===3)ju(e,e,n);else for(;t!==null;){if(t.tag===3){ju(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))){e=Wr(n,e),e=Wf(t,e,1),t=Pn(t,e,1),e=ot(),t!==null&&(Vs(t,1,e),xt(t,e));break}}t=t.return}}function pg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Je&n)===n&&(Ue===4||Ue===3&&(Je&130023424)===Je&&500>$e()-qa?Yn(e,0):Za|=n),xt(e,t)}function op(e,t){t===0&&(e.mode&1?(t=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):t=1);var n=ot();e=fn(e,t),e!==null&&(Vs(e,t,n),xt(e,n))}function hg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),op(e,n)}function mg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),op(e,n)}var ap;ap=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)ht=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ht=!1,ng(e,t,n);ht=!!(e.flags&131072)}else ht=!1,Oe&&t.flags&1048576&&ff(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Si(e,t),e=t.pendingProps;var s=$r(t,nt.current);Mr(t,n),s=Ga(null,t,r,e,s,n);var i=Ka();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(r)?(i=!0,Wi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wa(t),s.updater=pl,t.stateNode=s,s._reactInternals=t,$o(t,r,e,n),t=Ao(null,t,r,!0,i,n)):(t.tag=0,Oe&&i&&Ma(t),lt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Si(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=xg(r),e=At(r,e),s){case 0:t=Do(null,t,r,e,n);break e;case 1:t=hu(null,t,r,e,n);break e;case 11:t=fu(null,t,r,e,n);break e;case 14:t=pu(null,t,r,At(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:At(r,s),Do(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:At(r,s),hu(e,t,r,s,n);case 3:e:{if(Bf(t),e===null)throw Error(U(387));r=t.pendingProps,i=t.memoizedState,s=i.element,yf(e,t),Gi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Wr(Error(U(423)),t),t=mu(e,t,r,n,s);break e}else if(r!==s){s=Wr(Error(U(424)),t),t=mu(e,t,r,n,s);break e}else for(Nt=On(t.stateNode.containerInfo.firstChild),St=t,Oe=!0,Ut=null,n=gf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fr(),r===s){t=pn(e,t,n);break e}lt(e,t,r,n)}t=t.child}return t;case 5:return vf(t),e===null&&Mo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Eo(r,s)?o=null:i!==null&&Eo(r,i)&&(t.flags|=32),Vf(e,t),lt(e,t,o,n),t.child;case 6:return e===null&&Mo(t),null;case 13:return Gf(e,t,n);case 4:return Ua(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dr(t,null,r,n):lt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:At(r,s),fu(e,t,r,s,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ne(Vi,r._currentValue),r._currentValue=o,i!==null)if(Bt(i.value,o)){if(i.children===s.children&&!mt.current){t=pn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=an(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ro(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ro(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}lt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Mr(t,n),s=Rt(s),r=r(s),t.flags|=1,lt(e,t,r,n),t.child;case 14:return r=t.type,s=At(r,t.pendingProps),s=At(r.type,s),pu(e,t,r,s,n);case 15:return Uf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:At(r,s),Si(e,t),t.tag=1,gt(r)?(e=!0,Wi(t)):e=!1,Mr(t,n),Df(t,r,s),$o(t,r,s,n),Ao(null,t,r,!0,e,n);case 19:return Kf(e,t,n);case 22:return Hf(e,t,n)}throw Error(U(156,t.tag))};function cp(e,t){return Rd(e,t)}function gg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new gg(e,t,n,r)}function rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xg(e){if(typeof e=="function")return rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_a)return 11;if(e===ka)return 14}return 2}function Rn(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ei(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")rc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vr:return Xn(n.children,s,i,t);case ba:o=8,s|=8;break;case lo:return e=It(12,n,t,s|2),e.elementType=lo,e.lanes=i,e;case oo:return e=It(13,n,t,s),e.elementType=oo,e.lanes=i,e;case ao:return e=It(19,n,t,s),e.elementType=ao,e.lanes=i,e;case yd:return gl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gd:o=10;break e;case xd:o=9;break e;case _a:o=11;break e;case ka:o=14;break e;case bn:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=It(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Xn(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function gl(e,t,n,r){return e=It(22,e,r,t),e.elementType=yd,e.lanes=n,e.stateNode={isHidden:!1},e}function Ql(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function Yl(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sc(e,t,n,r,s,i,o,a,c){return e=new yg(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=It(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wa(i),e}function vg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function up(e){if(!e)return $n;e=e._reactInternals;e:{if(lr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(gt(n))return uf(e,n,t)}return t}function dp(e,t,n,r,s,i,o,a,c){return e=sc(n,r,!0,e,s,i,o,a,c),e.context=up(null),n=e.current,r=ot(),s=Mn(n),i=an(r,s),i.callback=t??null,Pn(n,i,s),e.current.lanes=s,Vs(e,s,r),xt(e,r),e}function xl(e,t,n,r){var s=t.current,i=ot(),o=Mn(s);return n=up(n),t.context===null?t.context=n:t.pendingContext=n,t=an(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pn(s,t,o),e!==null&&(Vt(e,s,o,i),ki(e,s,o)),o}function el(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ic(e,t){Nu(e,t),(e=e.alternate)&&Nu(e,t)}function wg(){return null}var fp=typeof reportError=="function"?reportError:function(e){console.error(e)};function lc(e){this._internalRoot=e}yl.prototype.render=lc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));xl(e,t,null,null)};yl.prototype.unmount=lc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nr(function(){xl(null,e,null,null)}),t[dn]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ud();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&Vd(e)}};function oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Su(){}function bg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=el(o);i.call(d)}}var o=dp(t,r,e,0,null,!1,!1,"",Su);return e._reactRootContainer=o,e[dn]=o.current,Os(e.nodeType===8?e.parentNode:e),nr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=el(c);a.call(d)}}var c=sc(e,0,!1,null,null,!1,!1,"",Su);return e._reactRootContainer=c,e[dn]=c.current,Os(e.nodeType===8?e.parentNode:e),nr(function(){xl(t,c,n,r)}),c}function wl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=el(o);a.call(c)}}xl(t,o,e,s)}else o=bg(n,t,e,s,r);return el(o)}Ad=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=us(t.pendingLanes);n!==0&&(Sa(t,n|1),xt(t,$e()),!(ye&6)&&(Ur=$e()+500,An()))}break;case 13:nr(function(){var r=fn(e,1);if(r!==null){var s=ot();Vt(r,e,1,s)}}),ic(e,1)}};Ca=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var n=ot();Vt(t,e,134217728,n)}ic(e,134217728)}};Wd=function(e){if(e.tag===13){var t=Mn(e),n=fn(e,t);if(n!==null){var r=ot();Vt(n,e,t,r)}ic(e,t)}};Ud=function(){return _e};Hd=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};vo=function(e,t,n){switch(t){case"input":if(fo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ul(r);if(!s)throw Error(U(90));wd(r),fo(r,s)}}}break;case"textarea":_d(e,n);break;case"select":t=n.value,t!=null&&Lr(e,!!n.multiple,t,!1)}};Ed=ec;Ld=nr;var _g={usingClientEntryPoint:!1,Events:[Gs,kr,ul,Cd,zd,ec]},ss={findFiberByHostInstance:Gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kg={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Id(e),e===null?null:e.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||wg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hi.isDisabled&&hi.supportsFiber)try{ll=hi.inject(kg),en=hi}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_g;zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oc(t))throw Error(U(200));return vg(e,t,null,n)};zt.createRoot=function(e,t){if(!oc(e))throw Error(U(299));var n=!1,r="",s=fp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sc(e,1,!1,null,null,n,!1,r,s),e[dn]=t.current,Os(e.nodeType===8?e.parentNode:e),new lc(t)};zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Id(t),e=e===null?null:e.stateNode,e};zt.flushSync=function(e){return nr(e)};zt.hydrate=function(e,t,n){if(!vl(t))throw Error(U(200));return wl(null,e,t,!0,n)};zt.hydrateRoot=function(e,t,n){if(!oc(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=fp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=dp(t,null,e,1,n??null,s,!1,i,o),e[dn]=t.current,Os(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new yl(t)};zt.render=function(e,t,n){if(!vl(t))throw Error(U(200));return wl(null,e,t,!1,n)};zt.unmountComponentAtNode=function(e){if(!vl(e))throw Error(U(40));return e._reactRootContainer?(nr(function(){wl(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};zt.unstable_batchedUpdates=ec;zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vl(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return wl(e,t,n,!1,r)};zt.version="18.3.1-next-f1338f8080-20240426";function pp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pp)}catch(e){console.error(e)}}pp(),fd.exports=zt;var jg=fd.exports,Cu=jg;so.createRoot=Cu.createRoot,so.hydrateRoot=Cu.hydrateRoot;var Ng={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Sg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cg=(e,t)=>{const n=I.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...c},d)=>I.createElement("svg",{ref:d,...Ng,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${Sg(e)}`,...c},[...t.map(([h,f])=>I.createElement(h,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n};var ae=Cg;const Cn=ae("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),zg=ae("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),zu=ae("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Eg=ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),tl=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Zo=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Lg=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Og=ae("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),Pg=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Xl=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Bn=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ig=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),qo=ae("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),ea=ae("FolderPlus",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["line",{x1:"12",x2:"12",y1:"10",y2:"16",key:"3c25pp"}],["line",{x1:"9",x2:"15",y1:"13",y2:"13",key:"10hoct"}]]),Mg=ae("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),Rg=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Eu=ae("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),hp=ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),mp=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),xr=ae("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),Tg=ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),As=ae("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),$g=ae("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Fg=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Dg=ae("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),ta=ae("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Ag=ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Lu=ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Hr=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Wg=ae("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]),ac=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ug=ae("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),Ws=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),gp=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zl=ae("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Li=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),rr=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Hg=ae("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),Vg=ae("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),na=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ra=ae("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),cn=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sa=ae("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ge={mana_max:1e5,mana_charge_speed:1e5,reload_time:20,fire_rate_wait:10,deck_capacity:26,shuffle_deck_when_empty:!1,spread_degrees:0,speed_multiplier:1,actions_per_round:1,spells:{},spell_uses:{},always_cast:[]},Bg=[{id:0,name:"",color:"#4d2020"},{id:1,name:"",color:"#612c11"},{id:2,name:"",color:"#2b3668"},{id:3,name:"",color:"#18595e"},{id:4,name:"",color:"#31633e"},{id:5,name:"",color:"#6e4932"},{id:6,name:"",color:"#692663"},{id:7,name:"",color:"#202b24"}],Gg=[{name:"",types:[0],color:"from-blue-500/10 to-blue-600/20"},{name:"",types:[2],color:"from-green-500/10 to-green-600/20"},{name:"++",types:[6,3,5],color:"from-purple-500/10 to-purple-600/20"},{name:"++",types:[1,4,7],color:"from-orange-500/10 to-orange-600/20"}],oe=e=>typeof e=="string",is=()=>{let e,t;const n=new Promise((r,s)=>{e=r,t=s});return n.resolve=e,n.reject=t,n},Ou=e=>e==null?"":""+e,Kg=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Jg=/###/g,Pu=e=>e&&e.indexOf("###")>-1?e.replace(Jg,"."):e,Iu=e=>!e||oe(e),bs=(e,t,n)=>{const r=oe(t)?t.split("."):t;let s=0;for(;s<r.length-1;){if(Iu(e))return{};const i=Pu(r[s]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++s}return Iu(e)?{}:{obj:e,k:Pu(r[s])}},Mu=(e,t,n)=>{const{obj:r,k:s}=bs(e,t,Object);if(r!==void 0||t.length===1){r[s]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),a=bs(e,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=bs(e,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},Qg=(e,t,n,r)=>{const{obj:s,k:i}=bs(e,t,Object);s[i]=s[i]||[],s[i].push(n)},nl=(e,t)=>{const{obj:n,k:r}=bs(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Yg=(e,t,n)=>{const r=nl(e,n);return r!==void 0?r:nl(t,n)},xp=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?oe(e[r])||e[r]instanceof String||oe(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):xp(e[r],t[r],n):e[r]=t[r]);return e},hr=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Xg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Zg=e=>oe(e)?e.replace(/[&<>"'\/]/g,t=>Xg[t]):e;class qg{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const e0=[" ",",","?","!",";"],t0=new qg(20),n0=(e,t,n)=>{t=t||"",n=n||"";const r=e0.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=t0.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(e);if(!i){const o=e.indexOf(n);o>0&&!s.test(e.substring(0,o))&&(i=!0)}return i},ia=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let s=e;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let c=i;c<r.length;++c)if(c!==i&&(a+=n),a+=r[c],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;i+=c-i+1;break}s=o}return s},Us=e=>e==null?void 0:e.replace("_","-"),r0={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class rl{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||r0,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,s){return s&&!this.debug?null:(oe(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new rl(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new rl(this.logger,t)}}var Zt=new rl;class bl{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[t,...n])})}}class Ru extends bl{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,s={}){var d,h;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):oe(r)&&i?a.push(...r.split(i)):a.push(r)));const c=nl(this.data,a);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),c||!o||!oe(r)?c:ia((h=(d=this.data)==null?void 0:d[t])==null?void 0:h[n],r,i)}addResource(t,n,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."),s=n,n=a[1]),this.addNamespaces(n),Mu(this.data,a,s),i.silent||this.emit("added",t,n,r,s)}addResources(t,n,r,s={silent:!1}){for(const i in r)(oe(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});s.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,s,i,o={silent:!1,skipCopy:!1}){let a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let c=nl(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?xp(c,r,i):c={...c,...r},Mu(this.data,a,c),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var yp={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,s){return e.forEach(i=>{var o;t=((o=this.processors[i])==null?void 0:o.process(t,n,r,s))??t}),t}};const vp=Symbol("i18next/PATH_KEY");function s0(){const e=[],t=Object.create(null);let n;return t.get=(r,s)=>{var i;return(i=n==null?void 0:n.revoke)==null||i.call(n),s===vp?e:(e.push(s),n=Proxy.revocable(r,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function la(e,t){const{[vp]:n}=e(s0());return n.join((t==null?void 0:t.keySeparator)??".")}const Tu={},ql=e=>!oe(e)&&typeof e!="boolean"&&typeof e!="number";class sl extends bl{constructor(t,n={}){super(),Kg(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zt.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const s=this.resolve(t,r);if((s==null?void 0:s.res)===void 0)return!1;const i=ql(s.res);return!(r.returnObjects===!1&&i)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!n0(t,r,s);if(o&&!a){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:oe(i)?[i]:i};const d=t.split(r);(r!==s||r===s&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(s)}return{key:t,namespaces:oe(i)?[i]:i}}translate(t,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=la(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:c}=this.extractFromKey(t[t.length-1],s),d=c[c.length-1];let h=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const f=s.lng||this.language,u=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return u?i?{res:`${d}${h}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${h}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:a;const b=this.resolve(t,s);let m=b==null?void 0:b.res;const S=(b==null?void 0:b.usedKey)||a,F=(b==null?void 0:b.exactUsedKey)||a,g=["[object Number]","[object Function]","[object RegExp]"],p=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,j=s.count!==void 0&&!oe(s.count),k=sl.hasDefaultValue(s),L=j?this.pluralResolver.getSuffix(f,s.count,s):"",N=s.ordinal&&j?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",E=j&&!s.ordinal&&s.count===0,_=E&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${L}`]||s[`defaultValue${N}`]||s.defaultValue;let C=m;v&&!m&&k&&(C=_);const W=ql(C),M=Object.prototype.toString.apply(C);if(v&&C&&W&&g.indexOf(M)<0&&!(oe(p)&&Array.isArray(C))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,C,{...s,ns:c}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(b.res=A,b.usedParams=this.getUsedParamsDetails(s),b):A}if(o){const A=Array.isArray(C),H=A?[]:{},Z=A?F:S;for(const J in C)if(Object.prototype.hasOwnProperty.call(C,J)){const se=`${Z}${o}${J}`;k&&!m?H[J]=this.translate(se,{...s,defaultValue:ql(_)?_[J]:void 0,joinArrays:!1,ns:c}):H[J]=this.translate(se,{...s,joinArrays:!1,ns:c}),H[J]===se&&(H[J]=C[J])}m=H}}else if(v&&oe(p)&&Array.isArray(m))m=m.join(p),m&&(m=this.extendTranslation(m,t,s,r));else{let A=!1,H=!1;!this.isValidLookup(m)&&k&&(A=!0,m=_),this.isValidLookup(m)||(H=!0,m=a);const J=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&H?void 0:m,se=k&&_!==m&&this.options.updateMissing;if(H||A||se){if(this.logger.log(se?"updateKey":"missingKey",f,d,a,se?_:m),o){const ee=this.resolve(a,{...s,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let D=[];const X=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&X&&X[0])for(let ee=0;ee<X.length;ee++)D.push(X[ee]);else this.options.saveMissingTo==="all"?D=this.languageUtils.toResolveHierarchy(s.lng||this.language):D.push(s.lng||this.language);const Q=(ee,de,fe)=>{var Xe;const Ye=k&&fe!==m?fe:J;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,d,de,Ye,se,s):(Xe=this.backendConnector)!=null&&Xe.saveMissing&&this.backendConnector.saveMissing(ee,d,de,Ye,se,s),this.emit("missingKey",ee,d,de,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?D.forEach(ee=>{const de=this.pluralResolver.getSuffixes(ee,s);E&&s[`defaultValue${this.options.pluralSeparator}zero`]&&de.indexOf(`${this.options.pluralSeparator}zero`)<0&&de.push(`${this.options.pluralSeparator}zero`),de.forEach(fe=>{Q([ee],a+fe,s[`defaultValue${fe}`]||_)})}):Q(D,a,_))}m=this.extendTranslation(m,t,s,b,r),H&&m===a&&this.options.appendNamespaceToMissingKey&&(m=`${d}${h}${a}`),(H||A)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${h}${a}`:a,A?m:void 0,s))}return i?(b.res=m,b.usedParams=this.getUsedParamsDetails(s),b):m}extendTranslation(t,n,r,s,i){var c,d;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const h=oe(t)&&(((d=r==null?void 0:r.interpolation)==null?void 0:d.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(h){const b=t.match(this.interpolator.nestingRegexp);f=b&&b.length}let u=r.replace&&!oe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),t=this.interpolator.interpolate(t,u,r.lng||this.language||s.usedLng,r),h){const b=t.match(this.interpolator.nestingRegexp),m=b&&b.length;f<m&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...b)=>(i==null?void 0:i[0])===b[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):this.translate(...b,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=oe(o)?[o]:o;return t!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(t=yp.handle(a,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,s,i,o,a;return oe(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(c,n),h=d.key;s=h;let f=d.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const u=n.count!==void 0&&!oe(n.count),b=u&&!n.ordinal&&n.count===0,m=n.context!==void 0&&(oe(n.context)||typeof n.context=="number")&&n.context!=="",S=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(F=>{var g,p;this.isValidLookup(r)||(a=F,!Tu[`${S[0]}-${F}`]&&((g=this.utils)!=null&&g.hasLoadedNamespace)&&!((p=this.utils)!=null&&p.hasLoadedNamespace(a))&&(Tu[`${S[0]}-${F}`]=!0,this.logger.warn(`key "${s}" for languages "${S.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(v=>{var L;if(this.isValidLookup(r))return;o=v;const j=[h];if((L=this.i18nFormat)!=null&&L.addLookupKeys)this.i18nFormat.addLookupKeys(j,h,v,F,n);else{let N;u&&(N=this.pluralResolver.getSuffix(v,n.count,n));const E=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(n.ordinal&&N.indexOf(_)===0&&j.push(h+N.replace(_,this.options.pluralSeparator)),j.push(h+N),b&&j.push(h+E)),m){const C=`${h}${this.options.contextSeparator||"_"}${n.context}`;j.push(C),u&&(n.ordinal&&N.indexOf(_)===0&&j.push(C+N.replace(_,this.options.pluralSeparator)),j.push(C+N),b&&j.push(C+E))}}let k;for(;k=j.pop();)this.isValidLookup(r)||(i=k,r=this.getResource(v,F,k,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(t,n,r,s):this.resourceStore.getResource(t,n,r,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!oe(t.replace);let s=r?t.replace:t;if(r&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class $u{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zt.create("languageUtils")}getScriptPartFromCode(t){if(t=Us(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Us(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(oe(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),oe(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return oe(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):oe(t)&&i(this.formatLanguageCode(t)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const Fu={zero:0,one:1,two:2,few:3,many:4,other:5},Du={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class i0{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Zt.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=Us(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Du;if(!t.match(/-|_/))return Du;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,n)}return this.pluralRulesCache[i]=o,o}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>Fu[s]-Fu[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,r={}){const s=this.getRule(t,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const Au=(e,t,n,r=".",s=!0)=>{let i=Yg(e,t,n);return!i&&s&&oe(n)&&(i=ia(e,n,r),i===void 0&&(i=ia(t,n,r))),i},eo=e=>e.replace(/\$/g,"$$$$");class Wu{constructor(t={}){var n;this.logger=Zt.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:c,formatSeparator:d,unescapeSuffix:h,unescapePrefix:f,nestingPrefix:u,nestingPrefixEscaped:b,nestingSuffix:m,nestingSuffixEscaped:S,nestingOptionsSeparator:F,maxReplaces:g,alwaysFormat:p}=t.interpolation;this.escape=n!==void 0?n:Zg,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?hr(i):o||"{{",this.suffix=a?hr(a):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=h?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=u?hr(u):b||hr("$t("),this.nestingSuffix=m?hr(m):S||hr(")"),this.nestingOptionsSeparator=F||",",this.maxReplaces=g||1e3,this.alwaysFormat=p!==void 0?p:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,s){var b;let i,o,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const p=Au(n,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,r,{...s,...n,interpolationkey:m}):p}const S=m.split(this.formatSeparator),F=S.shift().trim(),g=S.join(this.formatSeparator).trim();return this.format(Au(n,c,F,this.options.keySeparator,this.options.ignoreJSONStructure),g,r,{...s,...n,interpolationkey:F})};this.resetRegExp();const h=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((b=s==null?void 0:s.interpolation)==null?void 0:b.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>eo(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?eo(this.escape(m)):eo(m)}].forEach(m=>{for(a=0;i=m.regex.exec(t);){const S=i[1].trim();if(o=d(S),o===void 0)if(typeof h=="function"){const g=h(t,i,s);o=oe(g)?g:""}else if(s&&Object.prototype.hasOwnProperty.call(s,S))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${t}`),o="";else!oe(o)&&!this.useRawValueToEscape&&(o=Ou(o));const F=m.safeValue(o);if(t=t.replace(i[0],F),f?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n,r={}){let s,i,o;const a=(c,d)=>{const h=this.nestingOptionsSeparator;if(c.indexOf(h)<0)return c;const f=c.split(new RegExp(`${h}[ ]*{`));let u=`{${f[1]}`;c=f[0],u=this.interpolate(u,o);const b=u.match(/'/g),m=u.match(/"/g);(((b==null?void 0:b.length)??0)%2===0&&!m||m.length%2!==0)&&(u=u.replace(/'/g,'"'));try{o=JSON.parse(u),d&&(o={...d,...o})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,S),`${c}${h}${u}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;s=this.nestingRegexp.exec(t);){let c=[];o={...r},o=o.replace&&!oe(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(d!==-1&&(c=s[1].slice(d).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),s[1]=s[1].slice(0,d)),i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===t&&!oe(i))return i;oe(i)||(i=Ou(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),i=""),c.length&&(i=c.reduce((h,f)=>this.format(h,f,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),t=t.replace(s[0],i),this.regexp.lastIndex=0}return t}}const l0=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),h=a.trim();n[h]||(n[h]=d),d==="false"&&(n[h]=!1),d==="true"&&(n[h]=!0),isNaN(d)||(n[h]=parseInt(d,10))}})}return{formatName:t,formatOptions:n}},Uu=e=>{const t={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=t[o];return a||(a=e(Us(r),s),t[o]=a),a(n)}},o0=e=>(t,n,r)=>e(Us(n),r)(t);class a0{constructor(t={}){this.logger=Zt.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Uu:o0;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return a=>o.format(a)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return a=>o.format(a)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return a=>o.format(a)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return a=>o.format(a,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return a=>o.format(a)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Uu(n)}format(t,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,c)=>{var f;const{formatName:d,formatOptions:h}=l0(c);if(this.formats[d]){let u=a;try{const b=((f=s==null?void 0:s.formatParams)==null?void 0:f[s.interpolationkey])||{},m=b.locale||b.lng||s.locale||s.lng||r;u=this.formats[d](a,m,{...h,...s,...b})}catch(b){this.logger.warn(b)}return u}else this.logger.warn(`there was no format function for ${d}`);return a},t)}}const c0=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class u0 extends bl{constructor(t,n,r,s={}){var i,o;super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Zt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,r,s.backend,s)}queueLoad(t,n,r,s){const i={},o={},a={},c={};return t.forEach(d=>{let h=!0;n.forEach(f=>{const u=`${d}|${f}`;!r.reload&&this.store.hasResourceBundle(d,f)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?o[u]===void 0&&(o[u]=!0):(this.state[u]=1,h=!1,o[u]===void 0&&(o[u]=!0),i[u]===void 0&&(i[u]=!0),c[f]===void 0&&(c[f]=!0)))}),h||(a[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const s=t.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(c=>{Qg(c.loaded,[i],o),c0(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{a[d]||(a[d]={});const h=c.loaded[d];h.length&&h.forEach(f=>{a[d][f]===void 0&&(a[d][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r,s=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(d,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(d&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,s+1,i*2,o)},i);return}o(d,h)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const d=c(t,n);d&&typeof d.then=="function"?d.then(h=>a(null,h)).catch(a):a(null,d)}catch(d){a(d)}return}return c(t,n,a)}prepareLoading(t,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();oe(t)&&(t=this.languageUtils.toResolveHierarchy(t)),oe(n)&&(n=[n]);const i=this.queueLoad(t,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(t,o,a)})}saveMissing(t,n,r,s,i,o={},a=()=>{}){var c,d,h,f,u;if((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace&&!((f=(h=this.services)==null?void 0:h.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((u=this.backend)!=null&&u.create){const b={...o,isUpdate:i},m=this.backend.create.bind(this.backend);if(m.length<6)try{let S;m.length===5?S=m(t,n,r,s,b):S=m(t,n,r,s),S&&typeof S.then=="function"?S.then(F=>a(null,F)).catch(a):a(null,S)}catch(S){a(S)}else m(t,n,r,s,a,b)}!t||!t[0]||this.store.addResource(t[0],n,r,s)}}}const to=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),oe(e[1])&&(t.defaultValue=e[1]),oe(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Hu=e=>{var t,n;return oe(e.ns)&&(e.ns=[e.ns]),oe(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),oe(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},mi=()=>{},d0=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class _s extends bl{constructor(t={},n){if(super(),this.options=Hu(t),this.services={},this.logger=Zt,this.modules={external:[]},d0(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(oe(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=to();this.options={...r,...this.options,...Hu(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Zt.init(s(this.modules.logger),this.options):Zt.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=a0;const h=new $u(this.options);this.store=new Ru(this.options.resources,this.options);const f=this.services;f.logger=Zt,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new i0(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=s(d),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Wu(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new u0(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(b,...m)=>{this.emit(b,...m)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new sl(this.services,this.options),this.translator.on("*",(b,...m)=>{this.emit(b,...m)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=mi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...h)=>this.store[d](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...h)=>(this.store[d](...h),this)});const a=is(),c=()=>{const d=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),n(h,f)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),a}loadResources(t,n=mi){var i,o;let r=n;const s=oe(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};s?c(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>c(h)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,d=>c(d)),this.services.backendConnector.load(a,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(t,n,r){const s=is();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=mi),this.services.backendConnector.reload(t,n,i=>{s.resolve(),r(i)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&yp.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=is();this.emit("languageChanging",t);const s=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},i=(a,c)=>{c?this.isLanguageChangingTo===t&&(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),n&&n(a,(...d)=>this.t(...d))},o=a=>{var h,f;!t&&!a&&this.services.languageDetector&&(a=[]);const c=oe(a)?a:a&&a[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(oe(a)?[a]:a);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),(f=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||f.call(h,d)),this.loadResources(d,u=>{i(u,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,r){const s=(i,o,...a)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([i,o].concat(a)):c={...o},c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||s.keyPrefix);const d=this.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(i)?h=i.map(f=>(typeof f=="function"&&(f=la(f,{...this.options,...o})),`${c.keyPrefix}${d}${f}`)):(typeof i=="function"&&(i=la(i,{...this.options,...o})),h=c.keyPrefix?`${c.keyPrefix}${d}${i}`:i),this.t(h,c)};return oe(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=r,s}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,c)=>{const d=this.services.backendConnector.state[`${a}|${c}`];return d===-1||d===0||d===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))}loadNamespaces(t,n){const r=is();return this.options.ns?(oe(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=is();oe(t)&&(t=[t]);const s=this.options.preload||[],i=t.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){var s,i;if(t||(t=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new $u(to());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const r=new _s(t,n);return r.createInstance=_s.createInstance,r}cloneInstance(t={},n=mi){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},i=new _s(s);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((h,f)=>(h[f]={...c[d][f]},h),c[d]),c),{});i.store=new Ru(a,s),i.services.resourceStore=i.store}if(t.interpolation){const c={...to().interpolation,...this.options.interpolation,...t.interpolation},d={...s,interpolation:c};i.services.interpolator=new Wu(d)}return i.translator=new sl(i.services,s),i.translator.on("*",(a,...c)=>{i.emit(a,...c)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ut=_s.createInstance();ut.createInstance;ut.dir;ut.init;ut.loadResources;ut.reloadResources;ut.use;ut.changeLanguage;ut.getFixedT;ut.t;ut.exists;ut.setDefaultNamespace;ut.hasLoadedNamespace;ut.loadNamespaces;ut.loadLanguages;const f0=(e,t,n,r)=>{var i,o,a,c;const s=[n,{code:t,...r||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);sr(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(c=(a=e==null?void 0:e.services)==null?void 0:a.logger)!=null&&c.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Vu={},wp=(e,t,n,r)=>{sr(n)&&Vu[n]||(sr(n)&&(Vu[n]=new Date),f0(e,t,n,r))},bp=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},oa=(e,t,n)=>{e.loadNamespaces(t,bp(e,n))},Bu=(e,t,n,r)=>{if(sr(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return oa(e,n,r);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,bp(e,r))},p0=(e,t,n={})=>!t.languages||!t.languages.length?(wp(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,e))return!1}}),sr=e=>typeof e=="string",h0=e=>typeof e=="object"&&e!==null,m0=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,g0={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},x0=e=>g0[e],y0=e=>e.replace(m0,x0);let aa={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:y0,transDefaultProps:void 0};const v0=(e={})=>{aa={...aa,...e}},w0=()=>aa;let _p;const b0=e=>{_p=e},_0=()=>_p,k0={type:"3rdParty",init(e){v0(e.options.react),b0(e)}},j0=I.createContext();class N0{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var kp={exports:{}},jp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=I;function S0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var C0=typeof Object.is=="function"?Object.is:S0,z0=Vr.useState,E0=Vr.useEffect,L0=Vr.useLayoutEffect,O0=Vr.useDebugValue;function P0(e,t){var n=t(),r=z0({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return L0(function(){s.value=n,s.getSnapshot=t,no(s)&&i({inst:s})},[e,n,t]),E0(function(){return no(s)&&i({inst:s}),e(function(){no(s)&&i({inst:s})})},[e]),O0(n),n}function no(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!C0(e,n)}catch{return!0}}function I0(e,t){return t()}var M0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?I0:P0;jp.useSyncExternalStore=Vr.useSyncExternalStore!==void 0?Vr.useSyncExternalStore:M0;kp.exports=jp;var R0=kp.exports;const T0=(e,t)=>sr(t)?t:h0(t)&&sr(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,$0={t:T0,ready:!1},F0=()=>()=>{},rt=(e,t={})=>{var _,C,W;const{i18n:n}=t,{i18n:r,defaultNS:s}=I.useContext(j0)||{},i=n||r||_0();i&&!i.reportNamespaces&&(i.reportNamespaces=new N0),i||wp(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=I.useMemo(()=>{var M;return{...w0(),...(M=i==null?void 0:i.options)==null?void 0:M.react,...t}},[i,t]),{useSuspense:a,keyPrefix:c}=o,d=e||s||((_=i==null?void 0:i.options)==null?void 0:_.defaultNS),h=sr(d)?[d]:d||["translation"],f=I.useMemo(()=>h,h);(W=(C=i==null?void 0:i.reportNamespaces)==null?void 0:C.addUsedNamespaces)==null||W.call(C,f);const u=I.useRef(0),b=I.useCallback(M=>{if(!i)return F0;const{bindI18n:A,bindI18nStore:H}=o,Z=()=>{u.current+=1,M()};return A&&i.on(A,Z),H&&i.store.on(H,Z),()=>{A&&A.split(" ").forEach(J=>i.off(J,Z)),H&&H.split(" ").forEach(J=>i.store.off(J,Z))}},[i,o]),m=I.useRef(),S=I.useCallback(()=>{if(!i)return $0;const M=!!(i.isInitialized||i.initializedStoreOnce)&&f.every(D=>p0(D,i,o)),A=t.lng||i.language,H=u.current,Z=m.current;if(Z&&Z.ready===M&&Z.lng===A&&Z.keyPrefix===c&&Z.revision===H)return Z;const se={t:i.getFixedT(A,o.nsMode==="fallback"?f:f[0],c),ready:M,lng:A,keyPrefix:c,revision:H};return m.current=se,se},[i,f,c,o,t.lng]),[F,g]=I.useState(0),{t:p,ready:v}=R0.useSyncExternalStore(b,S,S);I.useEffect(()=>{if(i&&!v&&!a){const M=()=>g(A=>A+1);t.lng?Bu(i,t.lng,f,M):oa(i,f,M)}},[i,t.lng,f,v,a,F]);const j=i||{},k=I.useRef(null),L=I.useRef(),N=M=>{const A=Object.getOwnPropertyDescriptors(M);A.__original&&delete A.__original;const H=Object.create(Object.getPrototypeOf(M),A);if(!Object.prototype.hasOwnProperty.call(H,"__original"))try{Object.defineProperty(H,"__original",{value:M,writable:!1,enumerable:!1,configurable:!1})}catch{}return H},E=I.useMemo(()=>{const M=j,A=M==null?void 0:M.language;let H=M;M&&(k.current&&k.current.__original===M?L.current!==A?(H=N(M),k.current=H,L.current=A):H=k.current:(H=N(M),k.current=H,L.current=A));const Z=[p,H,v];return Z.t=p,Z.i18n=H,Z.ready=v,Z},[p,j,v,j.resolvedLanguage,j.language,j.languages]);if(i&&a&&!v)throw new Promise(M=>{const A=()=>M();t.lng?Bu(i,t.lng,f,A):oa(i,f,A)});return E};function D0({tabs:e,activeTabId:t,setActiveTabId:n,setTabs:r,setTabMenu:s,addNewTab:i,deleteTab:o,pullData:a,pushData:c,toggleSync:d,addWand:h,clipboard:f,activeTab:u,performAction:b,importWorkflow:m,exportWorkflow:S,setIsSettingsOpen:F,isConnected:g,setIsWarehouseOpen:p}){const{t:v}=rt();return l.jsxs("header",{className:"flex items-center px-4 pt-2 bg-zinc-900/50 border-b border-white/5 space-x-0.5",children:[l.jsxs("div",{className:"flex items-center gap-2.5 px-3 py-2 mr-4",children:[l.jsx("button",{onClick:()=>p(j=>!j),className:"w-8 h-8 rounded bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20 hover:scale-105 active:scale-95 transition-all group",title:v("nav.warehouse")+" (Ctrl+B)",children:l.jsx(As,{size:16,className:"text-white group-hover:rotate-12 transition-transform"})}),l.jsx("span",{className:"font-extrabold text-[13px] tracking-tight",children:"TWWE"})]}),l.jsxs("div",{className:"flex items-center gap-0.5 max-w-[70vw] overflow-x-auto no-scrollbar",children:[e.map(j=>l.jsx("div",{className:"group relative",children:l.jsxs("button",{onClick:()=>n(j.id),onDoubleClick:()=>{const k=prompt(":",j.name);k&&r(L=>L.map(N=>N.id===j.id?{...N,name:k}:N))},onContextMenu:k=>{k.preventDefault(),k.stopPropagation(),s({x:k.clientX,y:k.clientY,tabId:j.id})},className:`
                relative px-5 py-2.5 text-[10px] font-black tracking-wider uppercase transition-all flex items-center gap-2
                ${t===j.id?"text-white":"text-zinc-500 hover:text-zinc-300"}
              `,children:[j.isRealtime?l.jsx(Cn,{size:12,className:g?"text-green-500":"text-zinc-600"}):l.jsx(xr,{size:12}),j.name,!j.isRealtime&&e.length>1&&l.jsx(cn,{size:10,className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity ml-1",onClick:k=>o(j.id,k)}),t===j.id&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-indigo-500"})]})},j.id)),l.jsx("button",{onClick:i,className:"p-2 text-zinc-600 hover:text-zinc-300 transition-colors",title:v("tabs.new_workflow"),children:l.jsx(Hr,{size:16})})]}),l.jsx("div",{className:"flex-1"}),l.jsxs("div",{className:"flex items-center gap-1.5 pr-4 pb-1",children:[l.jsxs("button",{onClick:()=>a(!0),onContextMenu:j=>{j.preventDefault(),c()},title:":  / : ",className:`
            neo-button text-[10px] w-32 justify-between px-3
            ${u.isRealtime?"bg-green-500/10 text-green-400 border border-green-500/20 hover:bg-green-500/20":"bg-zinc-800 text-zinc-400 border border-white/5 hover:bg-zinc-700"}
          `,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u.isRealtime?l.jsx(Cn,{size:14,className:"animate-pulse"}):l.jsx(ac,{size:14}),l.jsxs("div",{className:"flex flex-col items-start leading-none",children:[l.jsx("span",{className:"text-[8px] opacity-70 mb-0.5",children:u.isRealtime?v("tabs.realtime"):v("tabs.manual")}),l.jsx("span",{className:"font-black",children:u.isRealtime?"ON":"OFF"})]})]}),u.isRealtime?l.jsx(Vg,{size:10,className:"opacity-50"}):l.jsx(Fg,{size:10,className:"opacity-50"})]}),l.jsx("div",{className:"h-4 w-[1px] bg-white/10 mx-2"}),l.jsxs("button",{onClick:h,className:"neo-button bg-indigo-500/10 text-indigo-400 hover:bg-indigo-500/20",children:[l.jsx(Hr,{size:14})," ",v("nav.new_wand")]}),l.jsxs("label",{className:"neo-button bg-white/5 hover:bg-white/10 cursor-pointer text-[10px]",children:[l.jsx(na,{size:14})," ",v("nav.import"),l.jsx("input",{type:"file",className:"hidden",onChange:m})]}),l.jsxs("button",{onClick:()=>S(),className:"neo-button bg-white/5 hover:bg-white/10 text-[10px]",children:[l.jsx(Bn,{size:14})," ",v("nav.export")]}),l.jsx("button",{onClick:()=>F(!0),className:"p-2 text-zinc-500 hover:text-white transition-colors",children:l.jsx(gp,{size:18})})]})]})}function A0({isConnected:e,activeTab:t,tabsCount:n,notification:r}){return l.jsxs(l.Fragment,{children:[l.jsxs("footer",{className:"px-3 py-1.5 bg-zinc-900 border-t border-white/10 flex justify-between items-center text-[9px] font-bold text-zinc-600 uppercase tracking-tighter",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${e?"bg-green-500 shadow-[0_0_8px_#22c55e]":"bg-red-500 animate-pulse"}`}),e?"Sync: Connected":"Sync: Offline"]}),l.jsx("div",{className:"w-px h-3 bg-white/10"}),l.jsxs("span",{children:["Active: ",t.name]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("span",{children:["Tabs: ",n]}),l.jsx("span",{children:"TheWebWandEngine  Professional Refactored v0.4.0"})]})]}),r&&l.jsx("div",{className:"fixed bottom-12 right-6 z-[500] animate-in slide-in-from-bottom-4 fade-in duration-300",children:l.jsxs("div",{className:`px-4 py-3 rounded-lg shadow-2xl border flex items-center gap-3 ${r.type==="success"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-indigo-500/10 border-indigo-500/20 text-indigo-400"}`,children:[r.type==="success"?l.jsx(sa,{size:16}):l.jsx(mp,{size:16}),l.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:r.msg})]})})]})}function Un({label:e,value:t,onChange:n,colorClass:r,secondaryValue:s}){return l.jsxs("div",{className:"flex flex-col group/prop",children:[l.jsx("label",{className:"text-[10px] font-black text-zinc-500 mb-1 uppercase tracking-wider transition-colors group-hover/prop:text-zinc-400",children:e}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("input",{type:"number",value:t,onChange:i=>n(parseFloat(i.target.value)||0),className:`bg-transparent font-mono text-xl font-bold w-24 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none ${r||"text-white"}`}),s&&l.jsx("span",{className:"text-xs font-mono text-zinc-600 italic whitespace-nowrap",children:s})]}),l.jsx("div",{className:"h-0.5 w-full bg-white/5 group-hover/prop:bg-indigo-500/30 transition-colors mt-1"})]})}let Qt=null;function Be(e,t){return`./static_data/icons/${e}`}async function W0(e,t,n){return new Promise((r,s)=>{Qt||(Qt=new Worker(new URL(""+new URL("evaluator.worker-6af4be37.js",import.meta.url).href,self.location),{type:"module"}));const i=o=>{o.data.type==="RESULT"?(Qt==null||Qt.removeEventListener("message",i),r(o.data.data)):o.data.type==="ERROR"&&(Qt==null||Qt.removeEventListener("message",i),console.error("Worker Error:",o.data.error),alert(": "+o.data.error),s(o.data.error))};Qt.addEventListener("message",i),Qt.postMessage({type:"EVALUATE",data:e,options:t})})}function U0({slot:e,data:t,spellDb:n,selection:r,hoveredSlot:s,updateWand:i,handleSlotMouseDown:o,handleSlotMouseUp:a,handleSlotMouseEnter:c,handleSlotMouseMove:d,handleSlotMouseLeave:h,openPicker:f,setSelection:u,setSettings:b,settings:m,isConnected:S}){const{t:F,i18n:g}=rt(),[p,v]=qt.useState(!1),j=qt.useMemo(()=>{const L={};let N=1;for(let E=1;E<=t.deck_capacity;E++)t.spells[E.toString()]&&(L[E]=N++);return L},[t.spells,t.deck_capacity]);qt.useEffect(()=>{const L=E=>{E.key==="Alt"&&v(!0)},N=E=>{E.key==="Alt"&&v(!1)};return window.addEventListener("keydown",L),window.addEventListener("keyup",N),window.addEventListener("blur",()=>v(!1)),()=>{window.removeEventListener("keydown",L),window.removeEventListener("keyup",N)}},[]);const k=(L,N,E)=>{const _=m.showStatsInFrames?N:parseFloat((N/60).toFixed(3)),C=m.showStatsInFrames?(N/60).toFixed(2)+"s":N+"f";return l.jsx(Un,{label:L,value:_,secondaryValue:C,colorClass:"text-amber-300",onChange:W=>i(e,{[E]:m.showStatsInFrames?Math.round(W):Math.round(W*60)})})};return l.jsxs("div",{className:"p-6 bg-zinc-950/50 border-t border-white/5 space-y-8 select-none",children:[l.jsxs("div",{className:"flex items-start justify-between gap-8",children:[l.jsxs("div",{className:"flex flex-wrap items-center bg-zinc-900/50 border border-white/5 rounded-xl p-1 pr-6 shadow-2xl",onMouseUp:()=>a(e,-1e3),children:[l.jsx("div",{className:"px-6 py-2 border-r border-white/5 flex items-center h-16",children:l.jsxs("button",{onClick:()=>i(e,{shuffle_deck_when_empty:!t.shuffle_deck_when_empty}),className:`flex items-center gap-2 px-3 py-1.5 rounded border transition-all ${t.shuffle_deck_when_empty?"bg-red-500/10 border-red-500/30 text-red-400":"bg-emerald-500/10 border-emerald-500/30 text-emerald-400"}`,children:[l.jsx("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${t.shuffle_deck_when_empty?"bg-red-500":"bg-emerald-500"}`}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:t.shuffle_deck_when_empty?"Shuffle":"No Shuffle"})]})}),l.jsxs("div",{className:"px-8 py-2 border-r border-white/5 flex gap-10",children:[l.jsx(Un,{label:"Mana Max",value:t.mana_max,colorClass:"text-cyan-400",onChange:L=>i(e,{mana_max:L})}),l.jsx(Un,{label:"Recharge",value:t.mana_charge_speed,colorClass:"text-cyan-400",onChange:L=>i(e,{mana_charge_speed:L})})]}),l.jsxs("div",{className:"px-8 py-2 border-r border-white/5 flex gap-10",children:[k("Cast Delay",t.fire_rate_wait,"fire_rate_wait"),k("Rechg. Time",t.reload_time,"reload_time")]}),l.jsxs("div",{className:"px-8 py-2 flex gap-10",children:[l.jsx(Un,{label:"Capacity",value:t.deck_capacity,onChange:L=>i(e,{deck_capacity:L})}),l.jsx(Un,{label:"Spread",value:t.spread_degrees,colorClass:t.spread_degrees<=0?"text-emerald-400":"text-red-400",onChange:L=>i(e,{spread_degrees:L})}),l.jsx(Un,{label:"Spells/Cast",value:t.actions_per_round,onChange:L=>i(e,{actions_per_round:Math.max(1,Math.round(L))})}),l.jsx(Un,{label:"Speed",value:t.speed_multiplier,colorClass:"text-indigo-400",onChange:L=>i(e,{speed_multiplier:L})})]})]}),l.jsxs("div",{className:"text-[10px] font-black text-zinc-600 bg-white/[0.02] border border-white/5 px-3 py-2 rounded-lg tracking-[0.2em] flex items-center gap-2 shrink-0 h-fit",children:[l.jsx(Ag,{size:14,className:"opacity-50"})," EDITOR VIEW"]})]}),t.always_cast&&t.always_cast.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-amber-500/30 to-transparent"}),l.jsx("span",{className:"text-[10px] font-black text-amber-500 uppercase tracking-[0.3em]",children:"Always Cast Slots"}),l.jsx("div",{className:"h-px flex-1 bg-gradient-to-l from-amber-500/30 to-transparent"})]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:t.always_cast.map((L,N)=>{const E=n[L],_=E?g.language.startsWith("en")&&E.en_name?E.en_name:E.name:L,C=-(N+1),W=(s==null?void 0:s.wandSlot)===e&&(s==null?void 0:s.idx)===C;return l.jsx("div",{className:"group/ac relative",onMouseDown:M=>o(e,C,M.button===2),onMouseUp:()=>a(e,C),onMouseMove:M=>d(M,e,C),onMouseLeave:h,onClick:M=>{if(M.altKey){const A=[...t.always_cast];A.splice(N,1),i(e,{always_cast:A},"");return}f(e,`ac-${N}`,M)},children:l.jsxs("div",{className:`
                    w-12 h-12 rounded-lg border flex items-center justify-center relative shadow-[0_0_15px_rgba(245,158,11,0.1)] transition-transform hover:scale-105
                    ${W?"border-indigo-500 bg-indigo-500/20":"border-amber-500/30 bg-amber-500/5"}
                  `,children:[W&&l.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-indigo-400 z-50 animate-pulse rounded-full",style:{[s.isRightHalf?"right":"left"]:"-6px"}}),E?l.jsx("img",{src:Be(E.icon),className:"w-10 h-10 image-pixelated",alt:"",title:`Always Cast: ${_}
ID: ${L}
(Alt+Click to remove)`}):l.jsx("span",{className:"text-amber-500/20 text-xs",children:"?"}),l.jsx("button",{onClick:M=>{M.stopPropagation();const A=[...t.always_cast];A.splice(N,1),i(e,{always_cast:A})},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 text-white flex items-center justify-center opacity-0 group-hover/ac:opacity-100 transition-opacity z-10 shadow-lg",children:l.jsx(cn,{size:12})})]})},N)})})]}),l.jsx("div",{className:"max-h-[600px] overflow-y-auto custom-scrollbar p-1 select-none",children:l.jsx("div",{className:"grid gap-0",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${56+(m.editorSpellGap||0)}px, 1fr))`},children:Array.from({length:Math.max(t.deck_capacity,24)}).map((L,N)=>{const E=(N+1).toString(),_=t.spells[E],C=_?n[_]:null,W=(t.spell_uses||{})[E]??(C==null?void 0:C.max_uses),M=N>=t.deck_capacity,A=(r==null?void 0:r.wandSlot)===e&&r.indices.includes(N+1),H=(s==null?void 0:s.wandSlot)===e&&(s==null?void 0:s.idx)===N+1,Z=m.editorSpellGap||0;return l.jsx("div",{className:"aspect-square relative",style:{padding:`${Z/2}px`},onMouseMove:J=>!M&&d(J,e,N+1),onMouseLeave:h,children:l.jsxs("div",{onMouseDown:J=>{if(!M){if(J.button===1&&C){J.preventDefault(),J.stopPropagation();const se=t.marked_slots||[],D=N+1,X=se.includes(D)?se.filter(Q=>Q!==D):[...se,D];i(e,{marked_slots:X});return}J.preventDefault(),o(e,N+1,J.button===2)}},onMouseUp:J=>{M||a(e,N+1)},onContextMenu:J=>{C&&J.preventDefault()},onMouseEnter:()=>!M&&c(e,N+1),onClick:J=>{if(J.altKey&&C){if(J.preventDefault(),J.stopPropagation(),_==="IF_HP"||_==="IF_PROJECTILE"||_==="IF_ENEMY"){b(Q=>{const ee={...Q};return _==="IF_HP"&&(ee.simulateLowHp=!Q.simulateLowHp),_==="IF_PROJECTILE"&&(ee.simulateManyProjectiles=!Q.simulateManyProjectiles),_==="IF_ENEMY"&&(ee.simulateManyEnemies=!Q.simulateManyEnemies),ee});return}const se=W===0?C.max_uses??-1:0,D={...t.spell_uses||{},[E]:se},X=F(se===0?"app.notification.set_charges_0":"app.notification.restore_charges");i(e,{spell_uses:D},X);return}r&&r.indices.length>1?u(null):!M&&f(e,E,J)},className:`
                      w-full h-full rounded-lg border flex items-center justify-center relative group/cell transition-all active:scale-95
                      ${M?"bg-black/40 border-transparent opacity-10":"bg-zinc-800/80 border-white/5 hover:border-indigo-500/50 cursor-pointer shadow-inner hover:bg-zinc-700/80"}
                      ${A?"ring-2 ring-indigo-500 ring-inset bg-indigo-500/20 border-indigo-400/50 z-10":""}
                    `,children:[H&&l.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-indigo-400 z-50 animate-pulse rounded-full",style:{[s.isRightHalf?"right":"left"]:`-${Z/2+2}px`}}),C?l.jsxs("div",{className:"relative w-full h-full flex items-center justify-center pointer-events-none",children:[(()=>{const J=_==="IF_HP"&&m.simulateLowHp||_==="IF_PROJECTILE"&&m.simulateManyProjectiles||_==="IF_ENEMY"&&m.simulateManyEnemies,se=W===0||J,D=(t.marked_slots||[]).includes(N+1);return l.jsxs(l.Fragment,{children:[l.jsx("img",{src:Be(C.icon),className:`w-11 h-11 image-pixelated transition-transform group-hover/cell:scale-110 ${se?"grayscale opacity-50":""}`,alt:"",draggable:"false"}),D&&l.jsx("div",{className:"absolute inset-0 border-2 border-amber-500 rounded-lg shadow-[0_0_10px_rgba(245,158,11,0.5)] z-10 pointer-events-none"}),J&&l.jsx("div",{className:"absolute bottom-0 left-0",children:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",className:"drop-shadow-[0_0_2px_rgba(239,68,68,0.8)]",children:l.jsx("path",{d:"M0 12 L12 12 L0 0 Z",fill:"rgb(239, 68, 68)"})})}),W!==void 0&&(m.showSpellCharges||W===0)&&W!==-1&&!J&&l.jsx("div",{className:`absolute bottom-0 left-0 px-1.5 py-0.5 bg-black/90 text-[10px] font-mono font-black border-tr border-white/10 rounded-tr pointer-events-auto cursor-pointer select-none z-20 shadow-lg ${W===0?"text-red-500":"text-amber-400"}`,title:" (Alt+0, )",onClick:X=>{X.stopPropagation();const Q=W===0?C.max_uses??10:0,ee={...t.spell_uses||{},[E]:Q};i(e,{spell_uses:ee})},children:W})]})})(),l.jsx("button",{onClick:J=>{J.stopPropagation();const se={...t.spells},D={...t.spell_uses||{}};delete se[E],delete D[E],i(e,{spells:se,spell_uses:D})},className:"absolute -top-1.5 -right-1.5 w-5 h-5 rounded-full bg-red-500 text-white flex items-center justify-center opacity-0 group-hover/cell:opacity-100 transition-opacity z-10 pointer-events-auto shadow-lg",children:l.jsx(cn,{size:12})})]}):!M&&l.jsx("span",{className:"text-zinc-800 text-2xl font-thin opacity-50",children:"+"}),!M&&j[N+1]&&l.jsx("div",{className:`
                      absolute bottom-1 right-1 text-[10px] font-black transition-all duration-200 pointer-events-none
                      ${p||m.showIndices?"text-cyan-400 scale-110 drop-shadow-[0_0_2px_rgba(0,0,0,0.8)]":"text-white/5"}
                    `,children:j[N+1]})]})},N)})})})]})}const Gu=(e,t)=>{const n=new Map;t.forEach(o=>n.set(o.id,{state:o,children:[]}));const r=[],s=new Set,i=(o,a)=>{var d;let c=a;if(o.shot_id){if(a!==null&&a!==o.shot_id){const h=n.get(a),f=n.get(o.shot_id);h&&f&&!h.children.includes(f)&&h.children.push(f)}else if(a===null){const h=n.get(o.shot_id);h&&!r.includes(h)&&r.push(h)}c=o.shot_id,s.add(o.shot_id)}(d=o.children)==null||d.forEach(h=>i(h,c))};return i(e,null),t.forEach(o=>{if(!s.has(o.id)){const a=n.get(o.id);a&&!r.includes(a)&&r.push(a)}}),r},ca=e=>{if(!e)return 0;let t=1;return e.children&&e.children.forEach(n=>t+=ca(n)),t},Np=(e,t)=>{var s,i;const n=e.name.startsWith("Cast #")?"Cast":e.name,r=t.name.startsWith("Cast #")?"Cast":t.name;if(n!==r||e.count!==t.count||e.extra!==t.extra||(((s=e.children)==null?void 0:s.length)||0)!==(((i=t.children)==null?void 0:i.length)||0))return!1;if(e.children){for(let o=0;o<e.children.length;o++)if(!Np(e.children[o],t.children[o]))return!1}return!0},H0=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){const r=Object.keys(e[n].stats),s=Object.keys(t[n].stats);if(r.length!==s.length)return!1;for(const i of r)if(e[n].stats[i]!==t[n].stats[i])return!1}return!0},ua=({nodes:e,hoveredShotId:t,currentCast:n,isRoot:r})=>l.jsx("div",{className:"flex flex-col gap-6",children:e.map(s=>l.jsx("div",{className:"flex items-center shrink-0",children:l.jsxs("div",{className:"relative flex items-center",children:[!r&&l.jsx("div",{className:"w-8 h-px bg-zinc-800 shrink-0"}),l.jsx(B0,{state:s.state,isHighlighted:(t==null?void 0:t.cast)===n&&(t==null?void 0:t.id)===s.state.id}),s.children.length>0&&l.jsxs("div",{className:"flex flex-col gap-6 relative",children:[l.jsx("div",{className:"flex flex-col gap-6 ml-0 shrink-0",children:l.jsx(ua,{nodes:s.children,hoveredShotId:t,currentCast:n,isRoot:!1})}),s.children.length>1&&l.jsx("div",{className:"absolute left-0 top-[24px] bottom-[24px] w-px bg-zinc-800"})]})]})},s.state.id))}),V0=({data:e,spellDb:t,onHoverSlots:n,settings:r,markedSlots:s=[],wandSpells:i,deckCapacity:o})=>{const{t:a,i18n:c}=rt(),[d,h]=I.useState({}),[f,u]=I.useState({}),[b,m]=I.useState(!1),[S,F]=I.useState(null),g=I.useMemo(()=>{if(!i||o===void 0)return null;const k={};let L=1;for(let N=1;N<=o;N++)i[N.toString()]&&(k[N]=L++);return k},[i,o]);I.useEffect(()=>{const k=N=>{N.key==="Alt"&&m(!0)},L=N=>{N.key==="Alt"&&m(!1)};return window.addEventListener("keydown",k),window.addEventListener("keyup",L),window.addEventListener("blur",()=>m(!1)),()=>{window.removeEventListener("keydown",k),window.removeEventListener("keyup",L)}},[]);const p=I.useMemo(()=>{var L;return!((L=e==null?void 0:e.tree)!=null&&L.children)||e.tree.children.length<=1?!1:ca(e.tree.children[0])>(r.autoHideThreshold||20)},[e==null?void 0:e.tree,r.autoHideThreshold]);if(I.useEffect(()=>{h({}),u({})},[e]),!e||!e.tree)return null;const v=Object.entries(e.counts||{}).sort(([,k],[,L])=>L-k),j=I.useMemo(()=>{var N;const k=e.tree.children;if(!k||k.length===0)return[];const L=[];if(!r.groupIdenticalCasts)return k.forEach((E,_)=>{var W;const C=_+1;L.push({start:C,end:C,node:E,states:e.states.filter(M=>M.cast===C),counts:((W=e.cast_counts)==null?void 0:W[C.toString()])||{}})}),L;for(let E=0;E<k.length;E++){const _=E+1,C=k[E],W=e.states.filter(A=>A.cast===_),M=((N=e.cast_counts)==null?void 0:N[_.toString()])||{};if(L.length>0){const A=L[L.length-1],H=Np(A.node,C),Z=H0(A.states,W),J=JSON.stringify(A.counts)===JSON.stringify(M);if(H&&Z&&J){A.end=_;continue}}L.push({start:_,end:_,node:C,states:W,counts:M})}return L},[e,r.groupIdenticalCasts]);return l.jsxs("div",{className:"mt-6 p-4 bg-black/40 border border-white/10 rounded-lg space-y-12 animate-in fade-in slide-in-from-top-4 duration-500",children:[v.length>0&&l.jsxs("section",{children:[l.jsxs("h3",{className:"sticky top-0 z-40 py-2 bg-zinc-950/80 backdrop-blur-sm text-[10px] font-black text-zinc-500 mb-4 flex items-center gap-2 tracking-widest uppercase",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.5)] rounded-full"}),a("evaluator.overall_counts")," (Overall)"]}),l.jsx("div",{className:"flex flex-wrap gap-2 opacity-60 grayscale-[0.5] hover:opacity-100 hover:grayscale-0 transition-all duration-300",children:v.map(([k,L])=>{const N=t[k],E=N?c.language.startsWith("en")&&N.en_name?N.en_name:N.name:k;return l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900/40 border border-white/5 pl-1 pr-3 py-0.5 rounded-md transition-all group/count",children:[N?l.jsx("img",{src:Be(N.icon),alt:k,className:"w-5 h-5 image-pixelated"}):l.jsx("div",{className:"w-5 h-5 bg-zinc-800 rounded flex items-center justify-center text-[8px] text-zinc-500 font-mono",children:"?"}),l.jsxs("div",{className:"flex flex-col -space-y-1",children:[l.jsx("span",{className:"text-[8px] font-bold text-zinc-500 uppercase tracking-tighter truncate max-w-[60px]",title:k,children:E}),l.jsx("span",{className:"text-[9px] font-black text-amber-500/80 font-mono",children:L.toLocaleString()})]})]},k)})})]}),l.jsxs("section",{children:[l.jsx("div",{className:"sticky top-0 z-40 py-2 bg-zinc-950/80 backdrop-blur-sm flex items-center justify-between mb-4",children:l.jsxs("h3",{className:"text-[10px] font-black text-zinc-500 flex items-center gap-2 tracking-widest uppercase",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.5)] rounded-full"}),a("evaluator.shot_states")," (Shot States)"]})}),l.jsx("div",{className:"space-y-6",children:j.map(k=>{const L=k.start!==k.end,N=d[k.start]??!0,E=f[k.start]??!1;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group/h",onClick:()=>h(_=>({..._,[k.start]:!N})),children:[l.jsxs("div",{className:`flex items-center gap-2 px-2 py-0.5 rounded border uppercase tracking-tighter transition-colors ${L?"bg-amber-500/10 text-amber-500 border-amber-500/20":"bg-indigo-500/10 text-indigo-400 border-indigo-500/20"}`,children:[l.jsx("span",{className:"text-[9px] font-black",children:L?`Cast #${k.start} - #${k.end}`:`Cast #${k.start}`}),L&&l.jsx("span",{className:"text-[7px] font-bold bg-amber-500/20 px-1 rounded",children:a("evaluator.repeat_merged")})]}),L&&N&&l.jsx("button",{onClick:_=>{_.stopPropagation(),u(C=>({...C,[k.start]:!E}))},className:"text-[8px] font-black text-zinc-500 hover:text-white bg-white/5 px-2 py-0.5 rounded border border-white/5 transition-all uppercase",children:E?a("evaluator.collapse_preview"):a("evaluator.expand_all_details",{count:k.end-k.start+1})}),l.jsx("div",{className:"h-px flex-1 bg-white/5"}),l.jsx("div",{className:"text-zinc-600 group-hover/h:text-zinc-400 transition-colors",children:N?l.jsx(tl,{size:12}):l.jsx(Zo,{size:12})})]}),N&&l.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-top-1 duration-200",children:!L||!E?l.jsxs("div",{className:"flex items-start gap-8",children:[l.jsx(gi,{group:k,spellDb:t}),l.jsx("div",{className:"flex-1 overflow-x-auto pt-4 pb-4 custom-scrollbar-mini",children:l.jsx(ua,{nodes:Gu(k.node,k.states),hoveredShotId:S,currentCast:k.start,isRoot:!0})})]}):Array.from({length:k.end-k.start+1}).map((_,C)=>{var Z,J;const W=k.start+C,M=(Z=e.tree.children)==null?void 0:Z[W-1],A=e.states.filter(se=>se.cast===W),H=((J=e.cast_counts)==null?void 0:J[W.toString()])||{};return M?l.jsxs("div",{className:"flex items-start gap-8 opacity-90 hover:opacity-100 transition-opacity",children:[l.jsx("div",{className:"shrink-0 w-12 pt-4",children:l.jsxs("span",{className:"text-[8px] font-black text-zinc-600 uppercase",children:["# ",W]})}),l.jsx(gi,{group:{counts:H},spellDb:t}),l.jsx("div",{className:"flex-1 overflow-x-auto pt-4 pb-4 custom-scrollbar-mini",children:l.jsx(ua,{nodes:Gu(M,A),hoveredShotId:S,currentCast:W,isRoot:!0})})]},W):null})})]},k.start)})})]}),l.jsxs("section",{children:[l.jsxs("h3",{className:"sticky top-0 z-40 py-2 bg-zinc-950/80 backdrop-blur-sm text-[10px] font-black text-zinc-500 mb-4 flex items-center gap-2 tracking-widest uppercase",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)] rounded-full"}),a("evaluator.execution_flow")]}),l.jsx("div",{className:"space-y-4",children:j.map(k=>{const L=ca(k.node),N=k.start!==k.end,E=p&&k.start>1,_=d[k.start]??!E,C=f[k.start]??!1;return l.jsxs("div",{className:"bg-zinc-950/30 rounded-lg border border-white/5 overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-2 bg-white/5 flex items-center justify-between cursor-pointer hover:bg-white/10 transition-colors group/treeh",onClick:()=>h(W=>({...W,[k.start]:!_})),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`text-[10px] font-black uppercase ${N?"text-amber-500":"text-emerald-500"}`,children:N?`Cast #${k.start} - #${k.end}`:`Cast #${k.start}`}),l.jsxs("span",{className:"text-[8px] text-zinc-600 font-mono",children:[a("evaluator.nodes_count"),": ",L]}),N&&_&&l.jsx("button",{onClick:W=>{W.stopPropagation(),u(M=>({...M,[k.start]:!C}))},className:"text-[8px] font-black text-zinc-500 hover:text-white bg-white/5 px-2 py-0.5 rounded border border-white/5 transition-all uppercase",children:C?a("evaluator.collapse_preview"):a("evaluator.expand_all_trees",{count:k.end-k.start+1})}),E&&!_&&l.jsx("span",{className:"text-[8px] bg-amber-500/10 text-amber-500 px-1.5 py-0.5 rounded border border-amber-500/20",children:a("evaluator.auto_folded")})]}),l.jsx("div",{className:"text-zinc-500 group-hover/treeh:text-zinc-300",children:_?l.jsx(tl,{size:14}):l.jsx(Zo,{size:14})})]}),_&&l.jsx("div",{className:"p-6 space-y-12 animate-in fade-in slide-in-from-top-1 duration-200",children:!N||!C?l.jsxs("div",{className:"flex items-start gap-8",children:[l.jsx(gi,{group:k,spellDb:t}),l.jsx("div",{className:"flex-1 overflow-x-auto pt-4 pb-4 custom-scrollbar",children:l.jsx("div",{className:"w-fit",children:l.jsx(da,{node:k.node,spellDb:t,isRoot:!0,onHover:n,onHoverShotId:W=>F(W?{cast:k.start,id:W}:null),markedSlots:s,showIndices:b||r.showIndices,absoluteToOrdinal:g})})})]}):Array.from({length:k.end-k.start+1}).map((W,M)=>{var J,se;const A=k.start+M,H=(J=e.tree.children)==null?void 0:J[A-1],Z=((se=e.cast_counts)==null?void 0:se[A.toString()])||{};return H?l.jsxs("div",{className:"flex items-start gap-8 opacity-90 hover:opacity-100 transition-opacity",children:[l.jsx("div",{className:"shrink-0 w-12 pt-4",children:l.jsxs("span",{className:"text-[8px] font-black text-zinc-600 uppercase",children:["# ",A]})}),l.jsx(gi,{group:{counts:Z},spellDb:t}),l.jsx("div",{className:"flex-1 overflow-x-auto pt-4 pb-4 custom-scrollbar",children:l.jsx("div",{className:"w-fit",children:l.jsx(da,{node:H,spellDb:t,isRoot:!0,onHover:n,onHoverShotId:D=>F(D?{cast:A,id:D}:null),markedSlots:s,showIndices:b||r.showIndices,absoluteToOrdinal:g})})})]},A):null})})]},k.start)})})]})]})},gi=qt.memo(({group:e,spellDb:t})=>{const{t:n,i18n:r}=rt(),s=Object.entries(e.counts||{}).sort(([,i],[,o])=>o-i);return s.length===0?null:l.jsxs("div",{className:"flex-shrink-0 w-48 space-y-2",children:[l.jsxs("div",{className:"text-[8px] font-black text-zinc-600 uppercase tracking-widest flex items-center gap-1.5",children:[l.jsx("div",{className:"w-1 h-1 bg-amber-500/50 rounded-full"}),n("evaluator.cast_stats")]}),l.jsx("div",{className:"flex flex-col gap-1.5 max-h-48 overflow-y-auto custom-scrollbar-mini pr-2",children:s.map(([i,o])=>{const a=t[i],c=a?r.language.startsWith("en")&&a.en_name?a.en_name:a.name:i;return l.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900/60 border border-white/5 pl-1 pr-2 py-1 rounded transition-all",children:[a?l.jsx("img",{src:Be(a.icon),alt:i,className:"w-6 h-6 image-pixelated"}):l.jsx("div",{className:"w-6 h-6 bg-zinc-800 rounded flex items-center justify-center text-[8px] text-zinc-500 font-mono",children:"?"}),l.jsxs("div",{className:"flex-1 flex justify-between items-baseline min-w-0",children:[l.jsx("span",{className:"text-[9px] font-bold text-zinc-400 truncate uppercase tracking-tighter mr-2",title:i,children:c}),l.jsxs("span",{className:"text-[10px] font-black text-amber-500 font-mono",children:["x",o.toLocaleString()]})]})]},i)})})]})}),B0=qt.memo(({state:e,isHighlighted:t})=>(rt(),l.jsxs("div",{className:`flex-shrink-0 w-56 p-3 bg-zinc-900/50 border rounded-md transition-all duration-300 group/state ${t?"border-blue-500 bg-blue-500/10 scale-105 shadow-[0_0_20px_rgba(59,130,246,0.3)] z-10":"border-white/5 hover:border-blue-500/30"}`,children:[l.jsxs("div",{className:`text-[10px] font-mono font-bold mb-3 border-b border-white/5 pb-1.5 flex justify-between items-center uppercase tracking-tighter ${t?"text-white":"text-blue-400"}`,children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center text-[9px] font-black border transition-colors ${t?"bg-blue-500 border-blue-400 text-white shadow-[0_0_10px_rgba(59,130,246,0.5)]":"bg-zinc-800 border-white/10 text-zinc-400"}`,children:e.id})}),l.jsx("span",{className:`${t?"opacity-100":"opacity-0"} group-hover/state:opacity-100 text-[8px] text-zinc-600 transition-opacity`,children:"SHOT STATE"})]}),l.jsx("div",{className:"space-y-1.5",children:Object.entries(e.stats).map(([n,r])=>l.jsxs("div",{className:"flex justify-between text-[10px] font-mono leading-none",children:[l.jsx("span",{className:"text-zinc-500 uppercase text-[9px]",children:n.replace(/_/g," ")}),l.jsx("span",{className:"text-zinc-300",children:r})]},n))})]}))),da=qt.memo(({node:e,spellDb:t,isRoot:n,onHover:r,onHoverShotId:s,markedSlots:i,showIndices:o,absoluteToOrdinal:a})=>{const{i18n:c}=rt(),d=e.name.startsWith("Cast #")||e.name==="Wand",h=t[e.name],f=h?c.language.startsWith("en")&&h.en_name?h.en_name:h.name:e.name,u=h?Be(h.icon):null,b=e.index&&e.index.some(m=>i.includes(m));return l.jsx("div",{className:"flex items-center shrink-0",children:l.jsxs("div",{className:"relative flex items-center",children:[!n&&l.jsx("div",{className:"w-6 h-px bg-zinc-800 shrink-0"}),l.jsxs("div",{onMouseEnter:()=>{e.index&&(r==null||r(e.index)),e.shot_id&&(s==null||s(e.shot_id))},onMouseLeave:()=>{r==null||r(null),s==null||s(null)},className:`
            group relative p-2 rounded border transition-all cursor-help shrink-0
            ${d?"bg-indigo-500/10 border-indigo-500/30":"bg-zinc-900 border-white/10 shadow-xl"}
            ${b?"ring-2 ring-amber-500 ring-offset-2 ring-offset-black scale-105 z-10 !border-amber-500/50":""}
            hover:scale-110 hover:z-20 hover:border-indigo-400 hover:bg-indigo-400/20
          `,children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-[24px] justify-center",children:[u?l.jsx("img",{src:u,alt:e.name,className:"w-7 h-7 image-pixelated drop-shadow-md",title:f}):l.jsx("span",{className:"text-[10px] font-black font-mono text-zinc-400 px-1 whitespace-nowrap uppercase italic tracking-tighter",children:f}),e.count>1&&l.jsxs("span",{className:"text-[10px] font-black bg-indigo-500 text-white px-1 rounded shadow-sm",children:["x",e.count]}),e.shot_id&&l.jsxs("div",{className:"absolute -top-1.5 -right-1.5 px-1 bg-blue-600 text-white text-[7px] font-black rounded-sm border border-blue-400/50 shadow-lg z-30",children:["@",e.shot_id]}),o&&e.index&&e.index.length>0&&l.jsx("div",{className:"absolute -bottom-1.5 -right-1 text-cyan-400 text-[10px] font-black z-20 scale-110 drop-shadow-[0_0_2px_rgba(0,0,0,0.8)]",children:e.index.map(m=>(a==null?void 0:a[m])||m).join(",")})]}),e.extra&&l.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap bg-zinc-800 text-[9px] font-bold px-2 py-1 rounded border border-white/10 text-zinc-300 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-30 shadow-2xl uppercase tracking-tighter",children:e.extra})]}),e.children&&e.children.length>0&&l.jsxs("div",{className:"flex flex-col gap-3 relative",children:[l.jsx("div",{className:"flex flex-col gap-3 ml-0 shrink-0",children:e.children.map((m,S)=>l.jsx("div",{className:"flex items-center",children:l.jsx(da,{node:m,spellDb:t,onHover:r,onHoverShotId:s,markedSlots:i,showIndices:o,absoluteToOrdinal:a})},S))}),e.children.length>1&&l.jsx("div",{className:"absolute left-6 top-5 bottom-5 w-px bg-zinc-800"})]})]})})});function G0({slot:e,data:t,activeTab:n,isConnected:r,spellDb:s,selection:i,hoveredSlot:o,clipboard:a,toggleExpand:c,deleteWand:d,copyWand:h,copyLegacyWand:f,pasteWand:u,updateWand:b,handleSlotMouseDown:m,handleSlotMouseUp:S,handleSlotMouseEnter:F,handleSlotMouseMove:g,handleSlotMouseLeave:p,openPicker:v,setSelection:j,setSettings:k,evalData:L,settings:N,onSaveToWarehouse:E}){const{t:_,i18n:C}=rt(),W=(A,H,Z)=>{const J=N.showStatsInFrames?H:(H/60).toFixed(2)+"s",se=N.showStatsInFrames?(H/60).toFixed(2)+"s":H;return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-wider leading-none mb-1",children:A}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("span",{className:`text-[13px] font-mono font-bold leading-none ${Z}`,children:J}),l.jsx("span",{className:"text-[10px] font-mono text-zinc-600 leading-none",children:se})]})]})},M=({label:A,value:H,colorClass:Z})=>l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-wider leading-none mb-1",children:A}),l.jsx("span",{className:`text-[13px] font-mono font-bold leading-none ${Z||"text-zinc-200"}`,children:H})]});return l.jsxs("div",{className:`glass-card group/wand border-white/5 ${n.expandedWands.has(e)?"bg-zinc-900/40":"hover:bg-zinc-900/20 overflow-hidden"}`,children:[l.jsxs("div",{className:"flex items-center px-4 py-2 cursor-pointer gap-4",onClick:()=>c(e),children:[l.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[l.jsx("div",{className:"w-8 h-8 rounded bg-zinc-800 flex items-center justify-center border border-white/5",children:l.jsx(ra,{size:16,className:`${n.isRealtime?"text-indigo-400":"text-amber-400"}`})}),l.jsx("div",{className:"text-[10px] font-black w-6 text-center",children:e})]}),l.jsxs("div",{className:"flex-1 flex items-center gap-1 overflow-x-auto no-scrollbar py-1",children:[Object.entries(t.spells).sort(([A],[H])=>parseInt(A)-parseInt(H)).map(([A,H])=>{const Z=s[H],J=(t.spell_uses||{})[A]??(Z==null?void 0:Z.max_uses),se=H==="IF_HP"&&N.simulateLowHp||H==="IF_PROJECTILE"&&N.simulateManyProjectiles||H==="IF_ENEMY"&&N.simulateManyEnemies,D=(t.marked_slots||[]).includes(parseInt(A)),X=J===0||se,Q=(J===0||N.showSpellCharges)&&!se;if(!Z)return null;const ee=C.language.startsWith("en")&&Z.en_name?Z.en_name:Z.name;return l.jsxs("div",{className:"relative shrink-0",children:[l.jsx("img",{src:Be(Z.icon),className:`w-7 h-7 image-pixelated border rounded bg-black/20 transition-all ${D?"border-amber-500 shadow-[0_0_5px_rgba(245,158,11,0.5)] scale-110 z-10":"border-white/10"} ${X?"grayscale opacity-50":""}`,alt:ee,title:`${A}: ${ee}${J!==void 0?` (${_("evaluator.cast_stats")} x${J})`:""}`}),se&&l.jsx("div",{className:"absolute bottom-0 left-0",children:l.jsx("svg",{width:"8",height:"8",viewBox:"0 0 12 12",children:l.jsx("path",{d:"M0 12 L12 12 L0 0 Z",fill:"rgb(239, 68, 68)"})})}),J!==void 0&&J!==-1&&Q&&l.jsx("div",{className:`absolute bottom-0 left-0 px-0.5 bg-black/80 text-[6px] font-mono leading-none border-tr border-white/10 rounded-tr ${J===0?"text-red-500":"text-amber-400"}`,children:J})]},A)}),Object.keys(t.spells).length===0&&l.jsx("span",{className:"text-[10px] text-zinc-700 italic font-medium ml-2",children:_("tabs.empty_wand")})]}),l.jsxs("div",{className:"flex items-center gap-0 border-l border-white/5 shrink-0 h-10",children:[l.jsx("div",{className:"px-3 h-full flex items-center border-r border-white/5",children:l.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded border ${t.shuffle_deck_when_empty?"bg-red-500/5 border-red-500/20 text-red-400":"bg-emerald-500/5 border-emerald-500/20 text-emerald-400"}`,children:[l.jsx("div",{className:`w-1 h-1 rounded-full ${t.shuffle_deck_when_empty?"bg-red-500":"bg-emerald-500"}`}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider whitespace-nowrap",children:t.shuffle_deck_when_empty?"Shuffle":"No Shuffle"})]})}),l.jsxs("div",{className:"px-3 h-full flex items-center gap-4 border-r border-white/5",children:[l.jsx(M,{label:"Mana Max",value:t.mana_max,colorClass:"text-cyan-400"}),l.jsx(M,{label:"Recharge",value:t.mana_charge_speed,colorClass:"text-cyan-400"})]}),l.jsxs("div",{className:"px-3 h-full flex items-center gap-4 border-r border-white/5",children:[W("Cast Delay",t.fire_rate_wait,"text-amber-300"),W("Rechg. Time",t.reload_time,"text-amber-300")]}),l.jsxs("div",{className:"px-3 h-full flex items-center gap-4 border-r border-white/5",children:[l.jsx(M,{label:"Capacity",value:t.deck_capacity}),l.jsx(M,{label:"Spread",value:(t.spread_degrees>0?"+":"")+t.spread_degrees+"",colorClass:t.spread_degrees<=0?"text-emerald-400":"text-red-400"}),l.jsx(M,{label:"Cast",value:t.actions_per_round}),l.jsx(M,{label:"Speed",value:t.speed_multiplier.toFixed(2)+"x",colorClass:"text-indigo-400"})]}),l.jsxs("div",{className:"flex items-center bg-black/40 rounded-md p-0.5 ml-2 opacity-0 group-hover/wand:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:A=>{A.stopPropagation(),h(e)},className:"p-1.5 hover:bg-white/10 text-zinc-500 hover:text-indigo-400 rounded transition-colors",title:" (Ctrl+C)",children:l.jsx(Ug,{size:14})}),N.showLegacyWandButton&&l.jsx("button",{onClick:A=>{A.stopPropagation(),f(e)},className:"p-1.5 hover:bg-white/10 text-zinc-500 hover:text-amber-400 rounded transition-colors text-[10px] font-black",title:"Wand",children:"W"}),l.jsx("button",{onClick:A=>{A.stopPropagation(),u(e)},disabled:!a,className:`p-1.5 rounded transition-colors ${a?"hover:bg-white/10 text-zinc-500 hover:text-emerald-400":"text-zinc-800 cursor-not-allowed"}`,title:" ()",children:l.jsx(Og,{size:14})}),l.jsx("div",{className:"w-px h-3 bg-white/10 mx-1"}),l.jsx("button",{onClick:A=>{A.stopPropagation(),E&&E(t)},className:"p-1.5 hover:bg-purple-500/20 text-zinc-500 hover:text-purple-400 rounded transition-colors",title:"",children:l.jsx(As,{size:14})}),l.jsx("button",{onClick:A=>{A.stopPropagation(),d(e)},className:"p-1.5 hover:bg-red-500/20 text-zinc-500 hover:text-red-400 rounded transition-colors",children:l.jsx(rr,{size:14})}),l.jsx("div",{className:"p-1.5 text-zinc-600",children:n.expandedWands.has(e)?l.jsx(Lg,{size:16}):l.jsx(tl,{size:16})})]})]})]}),n.expandedWands.has(e)&&l.jsxs(l.Fragment,{children:[l.jsx(U0,{slot:e,data:t,spellDb:s,selection:i,hoveredSlot:o,updateWand:b,handleSlotMouseDown:m,handleSlotMouseUp:S,handleSlotMouseEnter:F,handleSlotMouseMove:g,handleSlotMouseLeave:p,openPicker:v,setSelection:j,setSettings:k,settings:N,isConnected:r}),L&&l.jsx("div",{className:"px-4 pb-4",children:l.jsx(V0,{data:L,spellDb:s,settings:N,markedSlots:t.marked_slots,wandSpells:t.spells,deckCapacity:t.deck_capacity})})]})]})}function K0({isOpen:e,onClose:t,activeTab:n,spellDb:r,onJumpPast:s,onJumpFuture:i,onUndo:o,onRedo:a,isConnected:c}){var h,f;const{t:d}=rt();return e?l.jsxs("div",{className:"fixed inset-y-0 right-0 w-80 bg-zinc-900/95 backdrop-blur-xl border-l border-white/10 shadow-[0_0_50px_rgba(0,0,0,0.5)] z-[300] flex flex-col animate-in slide-in-from-right duration-300",children:[l.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-black/40",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hp,{size:18,className:"text-indigo-400"}),l.jsx("h2",{className:"text-sm font-black uppercase tracking-widest",children:d("history.title")})]}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full text-zinc-500 hover:text-white transition-colors",title:d("history.close"),children:l.jsx(cn,{size:18})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:l.jsxs("div",{className:"flex flex-col",children:[(!n.past||n.past.length===0)&&(!n.future||n.future.length===0)&&l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-zinc-600 gap-2",children:[l.jsx(Pg,{size:32,className:"opacity-10"}),l.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:d("history.no_records")})]}),l.jsx("div",{className:"flex flex-col",children:n.past&&n.past.map((u,b)=>l.jsxs("button",{onClick:()=>s(b),className:"flex flex-col px-4 py-3 text-left border-b border-white/5 transition-all hover:bg-indigo-500/5 group/hitem relative overflow-hidden",children:[l.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500/0 group-hover/hitem:bg-indigo-500 transition-all"}),l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("span",{className:"text-xs font-bold text-zinc-300 group-hover/hitem:text-white",children:u.name}),l.jsx("span",{className:"text-[9px] font-mono text-zinc-600 group-hover/hitem:text-indigo-300/50",children:new Date(u.timestamp).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),u.icons&&u.icons.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 max-h-12 overflow-hidden group-hover/hitem:max-h-none transition-all duration-300",children:[u.icons.slice(0,15).map((m,S)=>{const F=r[m];return F?l.jsx("img",{src:Be(F.icon),className:"w-5 h-5 image-pixelated border border-white/5 rounded-sm bg-black/40 shadow-sm",alt:""},S):null}),u.icons.length>15&&l.jsxs("span",{className:"text-[8px] text-zinc-500 flex items-center px-1 font-black",children:["+",u.icons.length-15]})]})]},u.id))}),(((h=n.past)==null?void 0:h.length)>0||((f=n.future)==null?void 0:f.length)>0)&&l.jsxs("div",{className:"px-4 py-4 bg-indigo-600/20 border-l-4 border-l-indigo-500 border-y border-white/10 sticky top-0 z-10 backdrop-blur-md",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 animate-pulse"}),l.jsx("span",{className:"text-xs font-black text-white uppercase tracking-wider",children:d("history.current_state")})]}),l.jsx("div",{className:"text-[9px] text-indigo-400/70 uppercase font-black tracking-widest mt-1",children:d("history.latest_version")})]}),l.jsx("div",{className:"flex flex-col",children:n.future&&n.future.map((u,b)=>l.jsxs("button",{onClick:()=>i(b),className:"flex flex-col px-4 py-3 text-left border-b border-white/5 group/fitem relative overflow-hidden transition-all hover:bg-emerald-500/10",children:[l.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500/0 group-hover/fitem:bg-emerald-500 transition-all"}),l.jsxs("div",{className:"flex justify-between items-start mb-2 opacity-50 group-hover/fitem:opacity-100 transition-opacity",children:[l.jsx("span",{className:"text-xs font-bold text-zinc-400 group-hover/fitem:text-emerald-400",children:u.name}),l.jsx("span",{className:"text-[9px] font-mono text-zinc-700",children:new Date(u.timestamp).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),u.icons&&u.icons.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 opacity-30 group-hover/fitem:opacity-100 transition-all",children:u.icons.slice(0,15).map((m,S)=>{const F=r[m];return F?l.jsx("img",{src:Be(F.icon),className:"w-4 h-4 image-pixelated border border-white/5 rounded-sm bg-black/40 grayscale group-hover/fitem:grayscale-0",alt:""},S):null})})]},u.id))})]})}),l.jsxs("div",{className:"p-4 bg-black/40 border-t border-white/10 space-y-3 shadow-[0_-10px_30px_rgba(0,0,0,0.3)]",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:o,disabled:!n.past||n.past.length===0,className:"flex-1 py-2.5 bg-zinc-800 hover:bg-indigo-600 disabled:bg-zinc-900 disabled:opacity-20 disabled:cursor-not-allowed rounded-lg text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 group shadow-lg active:scale-95",children:[l.jsx(Hg,{size:14,className:"group-hover:-translate-x-0.5 transition-transform"}),d("history.undo")]}),l.jsxs("button",{onClick:a,disabled:!n.future||n.future.length===0,className:"flex-1 py-2.5 bg-zinc-800 hover:bg-emerald-600 disabled:bg-zinc-900 disabled:opacity-20 disabled:cursor-not-allowed rounded-lg text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 group shadow-lg active:scale-95",children:[d("history.redo"),l.jsx(Wg,{size:14,className:"group-hover:translate-x-0.5 transition-transform"})]})]}),l.jsx("p",{className:"text-[9px] text-zinc-600 text-center uppercase font-black tracking-[0.2em] opacity-50",children:d("history.scope_info")})]})]}):null}const J0=()=>{const{i18n:e,t}=rt();return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(Rg,{size:12,className:"text-indigo-400"}),t("settings.language")]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>e.changeLanguage("zh"),className:`px-3 py-1.5 rounded text-[11px] font-bold transition-all border ${e.language.startsWith("zh")?"bg-indigo-500/20 border-indigo-500/40 text-white":"bg-black/40 border-white/5 text-zinc-500 hover:text-zinc-300"}`,children:""}),l.jsx("button",{onClick:()=>e.changeLanguage("en"),className:`px-3 py-1.5 rounded text-[11px] font-bold transition-all border ${e.language.startsWith("en")?"bg-indigo-500/20 border-indigo-500/40 text-white":"bg-black/40 border-white/5 text-zinc-500 hover:text-zinc-300"}`,children:"English"})]})]})};function Q0({isOpen:e,onClose:t,settings:n,setSettings:r,onImport:s,onExport:i}){const[o,a]=I.useState("general"),[c,d]=I.useState(""),[h,f]=I.useState(!1),{t:u}=rt();if(!e||!n)return null;n.themeColors;const b=n.defaultWandStats||{},m=(_,C)=>{r(W=>({...W,defaultWandStats:{...W.defaultWandStats||{},[_]:C}}))},S=(_,C)=>{r(W=>({...W,spellTypes:W.spellTypes.map(M=>M.id===_?{...M,color:C}:M)}))},F=(_,C)=>{r(W=>({...W,spellGroups:W.spellGroups.map((M,A)=>A===_?{...M,color:C}:M)}))},g=(_,C)=>{r(W=>({...W,spellGroups:W.spellGroups.map((M,A)=>A===_?{...M,name:C}:M)}))},p=["from-blue-500/10 to-blue-600/20","from-green-500/10 to-green-600/20","from-purple-500/10 to-purple-600/20","from-orange-500/10 to-orange-600/20","from-red-500/10 to-red-600/20","from-zinc-500/10 to-zinc-600/20"],v=()=>{r(_=>({..._,spellGroups:[..._.spellGroups,{name:u("settings.new_group_default_name"),types:[]}]}))},j=_=>{n.spellGroups.length<=1||r(C=>({...C,spellGroups:C.spellGroups.filter((W,M)=>M!==_)}))},k=(_,C)=>{r(W=>({...W,spellGroups:W.spellGroups.map((M,A)=>{if(A===_){const H=M.types.includes(C);return{...M,types:H?M.types.filter(Z=>Z!==C):[...M.types,C]}}return M})}))},L=[{id:"general",name:u("settings.categories.general"),icon:l.jsx(gp,{size:16})},{id:"appearance",name:u("settings.categories.appearance"),icon:l.jsx(xr,{size:16})},{id:"wand",name:u("settings.categories.wand"),icon:l.jsx(ra,{size:16})},{id:"cast",name:u("settings.categories.cast"),icon:l.jsx(sa,{size:16})},{id:"spell_types",name:u("settings.categories.spell_types"),icon:l.jsx(Li,{size:16})},{id:"sync",name:u("settings.categories.sync"),icon:l.jsx(Cn,{size:16})},{id:"data",name:u("settings.categories.data"),icon:l.jsx(Xl,{size:16})}];let N=!1;const E=_=>{if(!c)return!0;const C=_.toLowerCase().includes(c.toLowerCase());return C&&(N=!0),C};return l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md px-4 py-8",onClick:t,children:[l.jsxs("div",{className:"glass-card bg-[#0c0c0e] border-white/10 w-full max-w-3xl h-full max-h-[600px] flex overflow-hidden shadow-2xl animate-in fade-in zoom-in-95 duration-200",onClick:_=>_.stopPropagation(),children:[l.jsxs("div",{className:"w-40 bg-black/40 border-r border-white/5 flex flex-col shrink-0",children:[l.jsx("div",{className:"p-4 border-b border-white/5",children:l.jsx("h2",{className:"text-[10px] font-black tracking-widest uppercase text-indigo-500",children:u("settings.title")})}),l.jsx("nav",{className:"p-2 space-y-1 flex-1",children:L.map(_=>l.jsxs("button",{onClick:()=>{a(_.id),d("")},className:`w-full flex items-center gap-3 px-3 py-2 rounded text-[11px] font-bold transition-all ${o===_.id&&!c?"bg-indigo-500/10 text-white":"text-zinc-500 hover:bg-white/5"}`,children:[_.icon,l.jsx("span",{className:"hidden sm:inline",children:_.name})]},_.id))}),l.jsx("div",{className:"p-2 mt-auto border-t border-white/5",children:l.jsxs("button",{onClick:()=>f(!0),className:"w-full flex items-center gap-3 px-3 py-2 rounded text-[11px] font-bold text-zinc-500 hover:bg-white/5 transition-all",children:[l.jsx(Eu,{size:14,className:"text-amber-500"}),l.jsx("span",{className:"hidden sm:inline",children:u("guide.button")})]})})]}),l.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[l.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center gap-4 bg-black/20",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-600",size:14}),l.jsx("input",{type:"text",placeholder:u("settings.search_placeholder"),value:c,onChange:_=>d(_.target.value),className:"w-full bg-black/40 border border-white/5 rounded-full pl-9 pr-4 py-1.5 text-[11px] outline-none focus:border-indigo-500/30 text-white"})]}),l.jsx("button",{onClick:t,className:"p-1 hover:bg-white/10 rounded-full text-zinc-500 transition-colors",children:l.jsx(cn,{size:20})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-8",children:[(c||o==="general")&&l.jsxs("div",{className:"space-y-6",children:[E(u("settings.language"))&&l.jsx(J0,{}),E(u("settings.common_limit"))&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:u("settings.common_limit")}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"range",min:"0",max:"50",value:n.commonLimit,onChange:_=>r(C=>({...C,commonLimit:parseInt(_.target.value)||0})),className:"flex-1 accent-indigo-500"}),l.jsx("span",{className:"text-xs font-mono font-bold text-indigo-400 w-8",children:n.commonLimit})]})]}),E(u("settings.category_limit"))&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:u("settings.category_limit")}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"range",min:"1",max:"50",value:n.categoryLimit,onChange:_=>r(C=>({...C,categoryLimit:parseInt(_.target.value)||1})),className:"flex-1 accent-emerald-500"}),l.jsx("span",{className:"text-xs font-mono font-bold text-emerald-400 w-8",children:n.categoryLimit})]})]})]}),(c||o==="appearance")&&l.jsxs("div",{className:"space-y-6",children:[E(u("settings.wrap_limit"))&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:[u("settings.wrap_limit")," (",n.wrapLimit,")"]}),l.jsx("input",{type:"range",min:"5",max:"40",value:n.wrapLimit,onChange:_=>r(C=>({...C,wrapLimit:parseInt(_.target.value)||20})),className:"w-full accent-indigo-500"})]}),E(u("settings.picker_row_height"))&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:[u("settings.picker_row_height")," (",n.pickerRowHeight,"px)"]}),l.jsx("input",{type:"range",min:"24",max:"64",step:"4",value:n.pickerRowHeight,onChange:_=>r(C=>({...C,pickerRowHeight:parseInt(_.target.value)||32})),className:"w-full accent-amber-500"})]}),E(u("settings.warehouse_folder_height"))&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:[u("settings.warehouse_folder_height")," (",n.warehouseFolderHeight,"px)"]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"range",min:"0",max:"800",step:"50",value:n.warehouseFolderHeight,onChange:_=>r(C=>({...C,warehouseFolderHeight:parseInt(_.target.value)||0})),className:"flex-1 accent-indigo-500"}),l.jsx("span",{className:"text-xs font-mono font-bold text-indigo-400 w-12",children:n.warehouseFolderHeight||u("settings.unlimit")})]}),l.jsx("div",{className:"text-[9px] text-zinc-600 italic",children:u("settings.warehouse_folder_height_desc")})]}),E(u("settings.editor_spell_gap"))&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:[u("settings.editor_spell_gap")," (",n.editorSpellGap,"px)"]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"range",min:"0",max:"20",step:"2",value:n.editorSpellGap,onChange:_=>r(C=>({...C,editorSpellGap:parseInt(_.target.value)||0})),className:"flex-1 accent-indigo-500"}),l.jsx("span",{className:"text-xs font-mono font-bold text-indigo-400 w-8",children:n.editorSpellGap})]})]}),E(u("settings.hide_labels"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-zinc-500/10 rounded-lg text-zinc-400",children:l.jsx(xr,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.hide_labels")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.hide_labels_desc")})]})]}),l.jsx("button",{onClick:()=>r(_=>({..._,hideLabels:!_.hideLabels})),className:`w-10 h-5 rounded-full relative transition-colors ${n.hideLabels?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.hideLabels?"left-6":"left-1"}`})})]})]}),(c||o==="wand")&&l.jsxs("div",{className:"space-y-6",children:[E(u("settings.show_stats_in_frames"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400",children:l.jsx(Cn,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.show_stats_in_frames")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.show_stats_in_frames_desc")})]})]}),l.jsx("button",{onClick:()=>r(_=>({..._,showStatsInFrames:!_.showStatsInFrames})),className:`w-10 h-5 rounded-full relative transition-colors ${n.showStatsInFrames?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.showStatsInFrames?"left-6":"left-1"}`})})]}),E(u("settings.show_legacy_wand_button"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg text-amber-400",children:l.jsx(ra,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.show_legacy_wand_button")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.show_legacy_wand_button_desc")})]})]}),l.jsx("button",{onClick:()=>r(_=>({..._,showLegacyWandButton:!_.showLegacyWandButton})),className:`w-10 h-5 rounded-full relative transition-colors ${n.showLegacyWandButton?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.showLegacyWandButton?"left-6":"left-1"}`})})]}),E(u("settings.delete_empty_slots"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg text-red-400",children:l.jsx(rr,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.delete_empty_slots")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.delete_empty_slots_desc")})]})]}),l.jsx("button",{onClick:()=>r(_=>({..._,deleteEmptySlots:!_.deleteEmptySlots})),className:`w-10 h-5 rounded-full relative transition-colors ${n.deleteEmptySlots?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.deleteEmptySlots?"left-6":"left-1"}`})})]}),E(u("settings.default_wand_stats"))&&l.jsxs("div",{className:"bg-indigo-500/5 border border-indigo-500/20 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-[11px] font-black text-indigo-400 uppercase mb-4 flex items-center gap-2",children:u("settings.default_wand_stats")}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:["mana_max","mana_charge_speed","deck_capacity","fire_rate_wait","reload_time"].map(_=>{const C=_==="fire_rate_wait"||_==="reload_time",W=C&&!n.showStatsInFrames?parseFloat(((b[_]||0)/60).toFixed(3)):b[_]??"",M=C?`${_.replace(/_/g," ")} (${n.showStatsInFrames?"f":"s"})`:_.replace(/_/g," ");return l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[9px] font-bold text-zinc-500 uppercase",children:M}),l.jsx("input",{type:"number",value:W,onChange:A=>{let H=parseFloat(A.target.value)||0;C&&!n.showStatsInFrames&&(H=Math.round(H*60)),m(_,H)},className:"w-full bg-black/40 border border-white/10 rounded px-2 py-1.5 text-xs font-mono text-indigo-300 outline-none focus:border-indigo-500/50"})]},_)})})]})]}),(c||o==="cast")&&l.jsxs("div",{className:"space-y-6",children:[E(u("settings.unlimited_spells"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg text-purple-400",children:l.jsx(Li,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.unlimited_spells")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.unlimited_spells_desc")})]})]}),l.jsx("button",{onClick:()=>r(_=>({..._,unlimitedSpells:!_.unlimitedSpells})),className:`w-10 h-5 rounded-full relative transition-colors ${n.unlimitedSpells?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.unlimitedSpells?"left-6":"left-1"}`})})]}),E(u("settings.initial_if_half"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg text-amber-400",children:l.jsx(Cn,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.initial_if_half")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.initial_if_half_desc")})]})]}),l.jsx("button",{onClick:()=>r(_=>({..._,initialIfHalf:!_.initialIfHalf})),className:`w-10 h-5 rounded-full relative transition-colors ${n.initialIfHalf?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.initialIfHalf?"left-6":"left-1"}`})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E(u("settings.simulate_low_hp"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.simulate_low_hp")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.simulate_low_hp_desc")})]}),l.jsx("button",{onClick:()=>r(_=>({..._,simulateLowHp:!_.simulateLowHp})),className:`w-8 h-4 rounded-full relative transition-colors shrink-0 ${n.simulateLowHp?"bg-red-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-0.5 w-2 h-2 rounded-full bg-white transition-all ${n.simulateLowHp?"left-5":"left-1"}`})})]}),E(u("settings.simulate_many_enemies"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.simulate_many_enemies")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.simulate_many_enemies_desc")})]}),l.jsx("button",{onClick:()=>r(_=>({..._,simulateManyEnemies:!_.simulateManyEnemies})),className:`w-8 h-4 rounded-full relative transition-colors shrink-0 ${n.simulateManyEnemies?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-0.5 w-2 h-2 rounded-full bg-white transition-all ${n.simulateManyEnemies?"left-5":"left-1"}`})})]}),E(u("settings.simulate_many_projectiles"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.simulate_many_projectiles")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.simulate_many_projectiles_desc")})]}),l.jsx("button",{onClick:()=>r(_=>({..._,simulateManyProjectiles:!_.simulateManyProjectiles})),className:`w-8 h-4 rounded-full relative transition-colors shrink-0 ${n.simulateManyProjectiles?"bg-blue-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-0.5 w-2 h-2 rounded-full bg-white transition-all ${n.simulateManyProjectiles?"left-5":"left-1"}`})})]})]}),E(u("settings.show_spell_charges"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg text-amber-400",children:l.jsx(Xl,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.show_spell_charges")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.show_spell_charges_desc")})]})]}),l.jsx("button",{onClick:()=>r(_=>({..._,showSpellCharges:!_.showSpellCharges})),className:`w-10 h-5 rounded-full transition-colors relative ${n.showSpellCharges?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.showSpellCharges?"left-6":"left-1"}`})})]}),E(u("settings.num_casts"))&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:[u("settings.num_casts")," (",n.numCasts||3,")"]}),l.jsx("div",{className:"text-[10px] text-zinc-500 mb-2 italic",children:u("settings.num_casts_desc")}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"range",min:"1",max:"50",value:n.numCasts||3,onChange:_=>r(C=>({...C,numCasts:parseInt(_.target.value)||3})),className:"flex-1 accent-blue-500"}),l.jsx("span",{className:"text-xs font-mono font-bold text-blue-400 w-8",children:n.numCasts||3})]})]}),E(u("settings.auto_hide_threshold"))&&l.jsxs("div",{className:"space-y-2 text-zinc-400",children:[l.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest",children:u("settings.auto_hide_threshold")}),l.jsx("div",{className:"text-[10px] text-zinc-500 mb-2 italic",children:u("settings.auto_hide_threshold_desc")}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"range",min:"5",max:"100",value:n.autoHideThreshold||20,onChange:_=>r(C=>({...C,autoHideThreshold:parseInt(_.target.value)||20})),className:"flex-1 accent-indigo-500"}),l.jsx("span",{className:"text-xs font-mono font-bold text-indigo-400 w-8",children:n.autoHideThreshold||20})]})]}),E(u("settings.group_identical_casts"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400",children:l.jsx(xr,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.group_identical_casts")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.group_identical_casts_desc")})]})]}),l.jsx("button",{onClick:()=>r(_=>({..._,groupIdenticalCasts:!_.groupIdenticalCasts})),className:`w-10 h-5 rounded-full relative transition-colors ${n.groupIdenticalCasts?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.groupIdenticalCasts?"left-6":"left-1"}`})})]}),E(u("settings.fold_nodes"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg text-emerald-400",children:l.jsx(xr,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.fold_nodes")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.fold_nodes_desc")})]})]}),l.jsx("button",{onClick:()=>r(_=>({..._,foldNodes:!_.foldNodes})),className:`w-10 h-5 rounded-full relative transition-colors ${n.foldNodes?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.foldNodes?"left-6":"left-1"}`})})]}),E(u("settings.show_indices"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg text-amber-400",children:l.jsx(Xl,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.show_indices")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.show_indices_desc")})]})]}),l.jsx("button",{onClick:()=>r(_=>({..._,showIndices:!_.showIndices})),className:`w-10 h-5 rounded-full relative transition-colors ${n.showIndices?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.showIndices?"left-6":"left-1"}`})})]})]}),(c||o==="spell_types")&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-[11px] font-black text-zinc-300 uppercase flex items-center gap-2",children:[l.jsx("div",{className:"w-1 h-3 rounded-full bg-amber-500"}),u("settings.spell_type_colors")]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.spellTypes.map(_=>l.jsxs("div",{className:"flex items-center gap-3 bg-white/5 p-2 rounded border border-white/5",children:[l.jsx("input",{type:"color",value:_.color,onChange:C=>S(_.id,C.target.value),className:"w-8 h-8 rounded border-0 bg-transparent cursor-pointer overflow-hidden p-0"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] font-bold text-zinc-300",children:_.name}),l.jsx("span",{className:"text-[8px] font-mono text-zinc-500 uppercase",children:_.color})]})]},_.id))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-[11px] font-black text-zinc-300 uppercase flex items-center gap-2",children:[l.jsx("div",{className:"w-1 h-3 rounded-full bg-indigo-500"}),u("settings.spell_group_management")]}),l.jsxs("button",{onClick:v,className:"text-[9px] font-black bg-indigo-500/10 text-indigo-400 px-2 py-1 rounded hover:bg-indigo-500/20 flex items-center gap-1",children:[l.jsx(Hr,{size:10})," ",u("settings.add_group")]})]}),l.jsx("div",{className:"space-y-4",children:n.spellGroups.map((_,C)=>l.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"p-3 border-b border-white/5 bg-black/20 flex items-center gap-3",children:[l.jsx("input",{value:_.name,onChange:W=>g(C,W.target.value),className:"bg-transparent text-xs font-bold text-zinc-200 outline-none focus:text-white flex-1"}),l.jsx("div",{className:"flex gap-1",children:p.map(W=>l.jsx("button",{onClick:()=>F(C,W),className:`w-3 h-3 rounded-full bg-gradient-to-r ${W} border ${_.color===W?"border-white":"border-white/10"}`},W))}),l.jsx("button",{onClick:()=>j(C),className:"text-zinc-600 hover:text-red-400 transition-colors ml-1",children:l.jsx(rr,{size:12})})]}),l.jsxs("div",{className:"p-3",children:[l.jsxs("div",{className:"text-[9px] font-black text-zinc-500 uppercase mb-2 tracking-widest",children:[u("settings.contains_types"),":"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.spellTypes.map(W=>l.jsx("button",{onClick:()=>k(C,W.id),className:`
                                  px-2 py-1 rounded text-[10px] font-bold border transition-all
                                  ${_.types.includes(W.id)?"bg-indigo-500/20 border-indigo-500/40 text-indigo-300":"bg-black/20 border-white/5 text-zinc-600 hover:text-zinc-400"}
                                `,children:W.name},W.id))})]})]},C))})]})]}),(c||o==="sync")&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-[11px] font-black text-zinc-300 uppercase",children:u("settings.conflict_strategy")}),["ask","override_game","new_workflow"].map(_=>l.jsx("button",{onClick:()=>r(C=>({...C,conflictStrategy:_})),className:`w-full text-left px-4 py-3 rounded border transition-all ${n.conflictStrategy===_?"bg-indigo-500/10 border-indigo-500/50":"bg-black/20 border-white/5"}`,children:l.jsx("div",{className:"text-[11px] font-bold text-zinc-200",children:u(_==="ask"?"settings.conflict_ask":_==="override_game"?"settings.conflict_override":"settings.conflict_new")})},_))]}),(c||o==="data")&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-[11px] font-black text-zinc-300 uppercase",children:u("settings.data_backup")}),E(u("settings.export_history"))&&l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg text-indigo-400",children:l.jsx(Cn,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-zinc-200",children:u("settings.export_history")}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:u("settings.export_history_desc")})]})]}),l.jsx("button",{onClick:()=>r(_=>({..._,exportHistory:!_.exportHistory})),className:`w-10 h-5 rounded-full relative transition-all ${n.exportHistory?"bg-indigo-600":"bg-zinc-700"}`,children:l.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.exportHistory?"left-6":"left-1"}`})})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("label",{className:"neo-button bg-indigo-500/10 text-indigo-400 border border-indigo-500/20 cursor-pointer text-xs py-3 justify-center",children:[u("settings.import_json")," ",l.jsx("input",{type:"file",className:"hidden",onChange:s})]}),l.jsx("button",{onClick:i,className:"neo-button bg-white/5 border border-white/10 text-xs py-3 justify-center",children:u("settings.export_backup")})]})]}),c&&!N&&l.jsx("div",{className:"text-center py-20 text-zinc-600 text-xs font-black uppercase tracking-widest",children:u("settings.no_results")})]})]})]}),h&&l.jsxs("div",{className:"absolute inset-0 z-[200] bg-black/90 backdrop-blur-xl flex flex-col p-8 animate-in fade-in zoom-in-95 duration-200",onClick:()=>f(!1),children:[l.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-white/10 pb-4",onClick:_=>_.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-500/10 rounded-xl text-amber-500",children:l.jsx(Eu,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-black uppercase tracking-widest text-white",children:u("guide.title")}),l.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-widest font-bold",children:u("guide.subtitle")})]})]}),l.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white/10 rounded-full text-zinc-500 transition-colors",children:l.jsx(cn,{size:24})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-4 space-y-8",onClick:_=>_.stopPropagation(),children:[l.jsxs("section",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-xs font-black text-indigo-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(xr,{size:14})," ",u("guide.categories.basic")]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx(ft,{keys:["Ctrl","C / V / X"],label:u("guide.shortcuts.copy_paste")}),l.jsx(ft,{keys:["Ctrl","A"],label:u("guide.shortcuts.select_all")}),l.jsx(ft,{keys:["Ctrl","Z / Y"],label:u("guide.shortcuts.undo_redo")}),l.jsx(ft,{keys:["Delete","Backspace"],label:u("guide.shortcuts.delete")}),l.jsx(ft,{keys:["Space"],label:u("guide.shortcuts.insert_slot")}),l.jsx(ft,{keys:["Delete"],label:u("guide.shortcuts.remove_slot")})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-xs font-black text-emerald-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(sa,{size:14})," ",u("guide.categories.mouse")]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx(ft,{keys:["L-Click"],label:u("guide.shortcuts.select_toggle")}),l.jsx(ft,{keys:["L-Drag"],label:u("guide.shortcuts.box_select")}),l.jsx(ft,{keys:["R-Drag"],label:u("guide.shortcuts.move_spells")}),l.jsx(ft,{keys:["Right Half","AC Zone"],label:u("guide.shortcuts.to_always_cast")})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-xs font-black text-amber-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(Li,{size:14})," ",u("guide.categories.advanced")]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx(ft,{keys:["Alt","L-Click"],label:u("guide.shortcuts.modify_uses")}),l.jsx(ft,{keys:["Hold Alt"],label:u("guide.shortcuts.show_indices")}),l.jsx(ft,{keys:["Ctrl","B"],label:u("guide.shortcuts.toggle_warehouse")}),l.jsx(ft,{keys:["Ctrl","H"],label:u("guide.shortcuts.toggle_history")})]})]}),l.jsxs("section",{className:"mt-8 p-4 bg-white/[0.02] border border-white/5 rounded-2xl space-y-3",children:[l.jsxs("h4",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-[0.2em] flex items-center gap-2",children:[l.jsx(mp,{size:14})," ",u("guide.categories.tips")]}),l.jsxs("ul",{className:"text-xs text-zinc-400 space-y-2 list-disc list-inside leading-relaxed",children:[l.jsx("li",{children:u("guide.tips.triggered")}),l.jsx("li",{children:u("guide.tips.skipped")}),l.jsx("li",{children:u("guide.tips.rounds")})]})]})]})]})]})}function ft({keys:e,label:t}){return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/[0.03] border border-white/5 rounded-xl hover:bg-white/[0.05] transition-colors group",children:[l.jsx("span",{className:"text-xs text-zinc-400 group-hover:text-zinc-300 transition-colors",children:t}),l.jsx("div",{className:"flex gap-1",children:e.map((n,r)=>l.jsxs(qt.Fragment,{children:[l.jsx("kbd",{className:"px-2 py-1 bg-zinc-800 border-b-2 border-zinc-950 rounded text-[10px] font-mono font-bold text-zinc-200",children:n}),r<e.length-1&&l.jsx("span",{className:"text-zinc-600 text-[10px] self-center",children:"+"})]},r))})]})}function Y0({conflict:e,activeTab:t,onResolve:n}){const{t:r}=rt();return e?l.jsx("div",{className:"fixed inset-0 z-[400] flex items-center justify-center bg-black/80 backdrop-blur-md px-4",children:l.jsxs("div",{className:"glass-card bg-zinc-900 border-indigo-500/30 w-full max-w-md p-6 shadow-2xl animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4 text-amber-400",children:[l.jsx(ac,{className:"animate-spin-slow"}),l.jsx("h2",{className:"text-sm font-black tracking-widest uppercase",children:r("conflict.title")})]}),l.jsx("p",{className:"text-xs text-zinc-400 leading-relaxed mb-6",children:r("conflict.description")}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>n("web"),className:"w-full flex flex-col items-start px-4 py-3 rounded-lg bg-indigo-500/10 border border-indigo-500/30 hover:bg-indigo-500/20 transition-all group",children:[l.jsx("span",{className:"text-xs font-bold text-indigo-400 group-hover:text-indigo-300",children:r("conflict.use_web")}),l.jsx("span",{className:"text-[10px] text-zinc-500",children:r("conflict.use_web_desc")})]}),l.jsxs("button",{onClick:()=>n("game"),className:"w-full flex flex-col items-start px-4 py-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-all group",children:[l.jsx("span",{className:"text-xs font-bold text-zinc-300 group-hover:text-white",children:r("conflict.use_game")}),l.jsx("span",{className:"text-[10px] text-zinc-500",children:r("conflict.use_game_desc")})]}),l.jsxs("button",{onClick:()=>n("both"),className:"w-full flex flex-col items-start px-4 py-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30 hover:bg-emerald-500/20 transition-all group",children:[l.jsx("span",{className:"text-xs font-bold text-emerald-400 group-hover:text-emerald-300",children:r("conflict.use_both")}),l.jsx("span",{className:"text-[10px] text-zinc-500",children:r("conflict.use_both_desc")})]})]})]})}):null}function X0({pickerConfig:e,onClose:t,pickerSearch:n,setPickerSearch:r,pickSpell:s,searchResults:i,spellStats:o,settings:a,pickerExpandedGroups:c,setPickerExpandedGroups:d,isConnected:h}){var b;const{t:f,i18n:u}=rt();return e?l.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",onClick:t,children:l.jsxs("div",{className:"absolute glass-card bg-zinc-900/95 border-white/10 shadow-2xl flex flex-col max-h-[600px] animate-in slide-in-from-top-4 duration-200 overflow-hidden",style:{top:Math.min(e.y,window.innerHeight-520),left:Math.min(e.x,window.innerWidth-620),width:Math.max(400,Math.min(window.innerWidth-40,a.wrapLimit*(a.pickerRowHeight+6)+24))},onClick:m=>m.stopPropagation(),children:[l.jsxs("div",{className:"p-3 border-b border-white/5 flex items-center gap-2 bg-black/20",children:[l.jsx(Ws,{size:14,className:"text-zinc-500"}),l.jsx("input",{autoFocus:!0,placeholder:f("settings.title")==="Settings"?"Search spells...":"...",className:"bg-transparent flex-1 text-sm outline-none placeholder:text-zinc-600",value:n,onChange:m=>r(m.target.value),onKeyDown:m=>{m.key==="Escape"&&t(),m.key==="Enter"&&n===""&&s(null)}}),l.jsx("button",{onClick:()=>s(null),className:"text-[10px] font-black text-red-400 bg-red-400/10 px-2 py-1 rounded hover:bg-red-400/20",children:f("settings.title")==="Settings"?"CLEAR":""})]}),l.jsxs("div",{className:`flex-1 overflow-y-auto custom-scrollbar p-2 ${a.hideLabels?"space-y-2":"space-y-4"}`,children:[n?(b=i==null?void 0:i[0])!=null&&b.length?l.jsxs("div",{children:[!a.hideLabels&&l.jsxs("div",{className:"flex items-center gap-2 px-2 mb-2",children:[l.jsx(Ws,{size:12,className:"text-indigo-400"}),l.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-widest",children:" ()"})]}),l.jsx("div",{className:`flex flex-wrap gap-1.5 px-1 ${a.hideLabels?"mb-4":""}`,children:i[0].map(m=>{const S=a.spellTypes.find(p=>p.id===m.type),g=`${u.language.startsWith("en")&&m.en_name?m.en_name:m.name}${m.aliases?` (${m.aliases})`:""}
ID: ${m.id}`;return l.jsx("button",{onClick:()=>s(m.id),style:{height:a.pickerRowHeight,width:a.pickerRowHeight,backgroundColor:(S==null?void 0:S.color)||"rgba(255,255,255,0.05)"},className:"aspect-square hover:bg-white/10 border border-white/5 rounded flex items-center justify-center transition-all group overflow-hidden",title:g,children:l.jsx("img",{src:Be(m.icon),className:"w-7 h-7 image-pixelated group-hover:scale-110",alt:""})},m.id)})})]}):null:l.jsxs(l.Fragment,{children:[o.overall.length>0&&l.jsx("div",{className:`rounded-lg overflow-hidden ${a.hideLabels?"bg-white/5 border border-white/5 shadow-inner":""}`,children:l.jsxs("div",{className:`p-2 relative group/header ${a.hideLabels?"pt-1.5 pb-1.5":`bg-gradient-to-r from-indigo-500/10 to-zinc-800/20 ${a.hideLabels?"":"mb-2"}`}`,children:[l.jsxs("div",{className:`flex items-center justify-between ${a.hideLabels?"absolute top-1 right-1 z-10":"mb-2"}`,children:[!a.hideLabels&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Li,{size:12,className:"text-amber-500"}),l.jsx("span",{className:"text-[9px] font-black text-white/70 uppercase tracking-widest",children:" (Global)"})]}),l.jsx("button",{onClick:()=>d(m=>{const S=new Set(m);return S.has(-1)?S.delete(-1):S.add(-1),S}),className:`w-5 h-5 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded transition-all group/plus ${a.hideLabels?"opacity-0 group-hover/header:opacity-100 shadow-lg":"ml-auto"}`,children:c.has(-1)?l.jsx(ta,{size:12,className:"text-white/50 group-hover/plus:text-white"}):l.jsx(Hr,{size:12,className:"text-white/50 group-hover/plus:text-white"})})]}),l.jsx("div",{className:"flex flex-wrap gap-1.5 px-0.5",children:o.overall.map(m=>{const S=a.spellTypes.find(p=>p.id===m.type),g=`${u.language.startsWith("en")&&m.en_name?m.en_name:m.name}${m.aliases?` (${m.aliases})`:""}
ID: ${m.id}`;return l.jsx("button",{onClick:()=>s(m.id),style:{height:a.pickerRowHeight,width:a.pickerRowHeight,backgroundColor:(S==null?void 0:S.color)||"rgba(0,0,0,0.2)"},className:"aspect-square hover:bg-black/40 border border-white/5 rounded flex items-center justify-center transition-all group overflow-hidden",title:g,children:l.jsx("img",{src:Be(m.icon),className:"w-7 h-7 image-pixelated group-hover:scale-110",alt:""})},m.id)})})]})}),a.spellGroups.map((m,S)=>l.jsx("div",{className:`rounded-lg overflow-hidden ${o.categories[S].length===0?"hidden":""} ${a.hideLabels?"bg-white/5 border border-white/5 shadow-inner":""}`,children:l.jsxs("div",{className:`p-2 relative group/header ${a.hideLabels?"pt-1.5 pb-1.5":`bg-gradient-to-r ${m.color||"from-zinc-800/20 to-zinc-800/20"} ${a.hideLabels?"":"mb-2"}`}`,children:[l.jsxs("div",{className:`flex items-center justify-between ${a.hideLabels?"absolute top-1 right-1 z-10":"mb-2"}`,children:[!a.hideLabels&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-1 h-3 rounded-full bg-white/20"}),l.jsxs("span",{className:"text-[9px] font-black text-white/70 uppercase tracking-widest",children:[m.name," ",!c.has(S)&&`(Top ${a.categoryLimit})`]})]}),l.jsx("button",{onClick:()=>d(F=>{const g=new Set(F);return g.has(S)?g.delete(S):g.add(S),g}),className:`w-5 h-5 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded transition-all group/plus ${a.hideLabels?"opacity-0 group-hover/header:opacity-100 shadow-lg":"ml-auto"}`,children:c.has(S)?l.jsx(ta,{size:12,className:"text-white/50 group-hover/plus:text-white"}):l.jsx(Hr,{size:12,className:"text-white/50 group-hover/plus:text-white"})})]}),l.jsx("div",{className:"flex flex-wrap gap-1.5 px-0.5",children:o.categories[S].map(F=>{const g=a.spellTypes.find(j=>j.id===F.type),v=`${u.language.startsWith("en")&&F.en_name?F.en_name:F.name}${F.aliases?` (${F.aliases})`:""}
ID: ${F.id}`;return l.jsx("button",{onClick:()=>s(F.id),style:{height:a.pickerRowHeight,width:a.pickerRowHeight,backgroundColor:(g==null?void 0:g.color)||"rgba(0,0,0,0.2)"},className:"aspect-square hover:bg-black/40 border border-white/5 rounded flex items-center justify-center transition-all group overflow-hidden",title:v,children:l.jsx("img",{src:Be(F.icon),className:"w-7 h-7 image-pixelated group-hover:scale-110",alt:""})},F.id)})})]})},m.name))]}),n&&(i==null?void 0:i.every(m=>m.length===0))&&l.jsx("div",{className:"py-10 text-center text-zinc-600 text-xs",children:""})]})]})}):null}function Sp(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Sp(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cc(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Sp(e))&&(r&&(r+=" "),r+=t);return r}function Z0(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Cp(t))&&(r&&(r+=" "),r+=n);return r}function Cp(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Cp(e[r]))&&(n&&(n+=" "),n+=t);return n}var uc="-";function q0(e){var t=tx(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(a){var c=a.split(uc);return c[0]===""&&c.length!==1&&c.shift(),zp(c,t)||ex(a)}function o(a,c){var d=n[a]||[];return c&&s[a]?[].concat(d,s[a]):d}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function zp(e,t){var o;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?zp(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(uc);return(o=t.validators.find(function(a){var c=a.validator;return c(i)}))==null?void 0:o.classGroupId}}var Ku=/^\[(.+)\]$/;function ex(e){if(Ku.test(e)){var t=Ku.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function tx(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=rx(Object.entries(e.classGroups),n);return s.forEach(function(i){var o=i[0],a=i[1];fa(a,r,o,t)}),r}function fa(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:Ju(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(nx(s)){fa(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var a=o[0],c=o[1];fa(c,Ju(t,a),n,r)})})}function Ju(e,t){var n=e;return t.split(uc).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function nx(e){return e.isThemeGetter}function rx(e,t){return t?e.map(function(n){var r=n[0],s=n[1],i=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var c=a[0],d=a[1];return[t+c,d]})):o});return[r,i]}):e}function sx(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(i,o){n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):s(o,a)}}}var Ep="!";function ix(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(o){for(var a=[],c=0,d=0,h,f=0;f<o.length;f++){var u=o[f];if(c===0){if(u===r&&(n||o.slice(f,f+s)===t)){a.push(o.slice(d,f)),d=f+s;continue}if(u==="/"){h=f;continue}}u==="["?c++:u==="]"&&c--}var b=a.length===0?o:o.substring(d),m=b.startsWith(Ep),S=m?b.substring(1):b,F=h&&h>d?h-d:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:S,maybePostfixModifierPosition:F}}}function lx(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function ox(e){return{cache:sx(e.cacheSize),splitModifiers:ix(e),...q0(e)}}var ax=/\s+/;function cx(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(ax).map(function(o){var a=n(o),c=a.modifiers,d=a.hasImportantModifier,h=a.baseClassName,f=a.maybePostfixModifierPosition,u=r(f?h.substring(0,f):h),b=!!f;if(!u){if(!f)return{isTailwindClass:!1,originalClassName:o};if(u=r(h),!u)return{isTailwindClass:!1,originalClassName:o};b=!1}var m=lx(c).join(":"),S=d?m+Ep:m;return{isTailwindClass:!0,modifierId:S,classGroupId:u,originalClassName:o,hasPostfixModifier:b}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,c=o.classGroupId,d=o.hasPostfixModifier,h=a+c;return i.has(h)?!1:(i.add(h),s(c,d).forEach(function(f){return i.add(a+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function ux(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,i,o=a;function a(d){var h=t[0],f=t.slice(1),u=f.reduce(function(b,m){return m(b)},h());return r=ox(u),s=r.cache.get,i=r.cache.set,o=c,c(d)}function c(d){var h=s(d);if(h)return h;var f=cx(d,r);return i(d,f),f}return function(){return o(Z0.apply(null,arguments))}}function ze(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Lp=/^\[(?:([a-z-]+):)?(.+)\]$/i,dx=/^\d+\/\d+$/,fx=new Set(["px","full","screen"]),px=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mx=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Dt(e){return Qn(e)||fx.has(e)||dx.test(e)||pa(e)}function pa(e){return or(e,"length",bx)}function gx(e){return or(e,"size",Op)}function xx(e){return or(e,"position",Op)}function yx(e){return or(e,"url",_x)}function xi(e){return or(e,"number",Qn)}function Qn(e){return!Number.isNaN(Number(e))}function vx(e){return e.endsWith("%")&&Qn(e.slice(0,-1))}function ls(e){return Qu(e)||or(e,"number",Qu)}function he(e){return Lp.test(e)}function os(){return!0}function wn(e){return px.test(e)}function wx(e){return or(e,"",kx)}function or(e,t,n){var r=Lp.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function bx(e){return hx.test(e)}function Op(){return!1}function _x(e){return e.startsWith("url(")}function Qu(e){return Number.isInteger(Number(e))}function kx(e){return mx.test(e)}function jx(){var e=ze("colors"),t=ze("spacing"),n=ze("blur"),r=ze("brightness"),s=ze("borderColor"),i=ze("borderRadius"),o=ze("borderSpacing"),a=ze("borderWidth"),c=ze("contrast"),d=ze("grayscale"),h=ze("hueRotate"),f=ze("invert"),u=ze("gap"),b=ze("gradientColorStops"),m=ze("gradientColorStopPositions"),S=ze("inset"),F=ze("margin"),g=ze("opacity"),p=ze("padding"),v=ze("saturate"),j=ze("scale"),k=ze("sepia"),L=ze("skew"),N=ze("space"),E=ze("translate"),_=function(){return["auto","contain","none"]},C=function(){return["auto","hidden","clip","visible","scroll"]},W=function(){return["auto",he,t]},M=function(){return[he,t]},A=function(){return["",Dt]},H=function(){return["auto",Qn,he]},Z=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},J=function(){return["solid","dashed","dotted","double","none"]},se=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},D=function(){return["start","end","center","between","around","evenly","stretch"]},X=function(){return["","0",he]},Q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ee=function(){return[Qn,xi]},de=function(){return[Qn,he]};return{cacheSize:500,theme:{colors:[os],spacing:[Dt],blur:["none","",wn,he],brightness:ee(),borderColor:[e],borderRadius:["none","","full",wn,he],borderSpacing:M(),borderWidth:A(),contrast:ee(),grayscale:X(),hueRotate:de(),invert:X(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[vx,pa],inset:W(),margin:W(),opacity:ee(),padding:M(),saturate:ee(),scale:ee(),sepia:X(),skew:de(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[wn]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Z(),[he])}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ls]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",ls]}],"grid-cols":[{"grid-cols":[os]}],"col-start-end":[{col:["auto",{span:["full",ls]},he]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[os]}],"row-start-end":[{row:["auto",{span:[ls]},he]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal"].concat(D())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(D(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(D(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[F]}],mx:[{mx:[F]}],my:[{my:[F]}],ms:[{ms:[F]}],me:[{me:[F]}],mt:[{mt:[F]}],mr:[{mr:[F]}],mb:[{mb:[F]}],ml:[{ml:[F]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",he,t]}],"min-w":[{"min-w":["min","max","fit",he,Dt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[wn]},wn,he]}],h:[{h:[he,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",he,Dt]}],"max-h":[{"max-h":[he,t,"min","max","fit"]}],"font-size":[{text:["base",wn,pa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xi]}],"font-family":[{font:[os]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Qn,xi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",he,Dt]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(J(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Dt]}],"underline-offset":[{"underline-offset":["auto",he,Dt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Z(),[xx])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yx]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(J(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(J())}],"outline-offset":[{"outline-offset":[he,Dt]}],"outline-w":[{outline:[Dt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Dt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",wn,wx]}],"shadow-color":[{shadow:[os]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":se()}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",wn,he]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ls,he]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dt,xi]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var dc=ux(jx);function ro(...e){return dc(cc(e))}const Pp=qt.memo(e=>{const{folder:t,depth:n,groupedFolders:r,selectedFolderId:s,draggedFolderId:i,dragOverFolderId:o,onSelect:a,onToggle:c,onCreateSubfolder:d,onRename:h,onDelete:f,onDragStart:u,onDragOver:b,onDrop:m,onContextMenu:S}=e,{t:F}=rt(),g=t.isOpen,p=r[t.id]||[],v=s===t.id;return l.jsxs("div",{className:"select-none",children:[l.jsxs("div",{className:ro("group/folder flex items-center gap-1 py-1 px-2 rounded-lg cursor-pointer transition-all border border-transparent",v?"bg-purple-600/20 text-purple-300 border-purple-500/20":"text-zinc-400 hover:bg-white/5 hover:text-zinc-200",i===t.id&&"opacity-50",o===t.id&&"bg-indigo-500/20 border-indigo-500/50 outline-dashed outline-1 outline-indigo-500/50"),style:{paddingLeft:`${n*12+8}px`},draggable:!0,onDragStart:j=>u(j,"folder",t.id),onClick:()=>a(t.id),onDragOver:j=>b(j,"folder",t.id),onDrop:j=>m(j,"folder",t.id),onContextMenu:j=>S(j,t.id),children:[l.jsx("div",{className:"p-0.5 rounded hover:bg-white/10 transition-colors",onClick:j=>{j.stopPropagation(),c(t.id)},children:p.length>0?g?l.jsx(tl,{size:12}):l.jsx(Zo,{size:12}):l.jsx("div",{className:"w-3"})}),g?l.jsx(qo,{size:14,className:ro(v?"text-purple-400":"text-amber-500/80")}):l.jsx(Mg,{size:14,className:ro(v?"text-purple-400":"text-amber-500/80")}),l.jsx("span",{className:"text-xs font-bold truncate flex-1",children:t.name}),l.jsx("div",{className:"opacity-0 group-hover/folder:opacity-100 flex items-center gap-0.5 transition-opacity",children:l.jsx("button",{onClick:j=>{j.stopPropagation(),d(t.id)},className:"p-1 hover:text-indigo-400 hover:bg-indigo-500/10 rounded",title:F("warehouse.new_subfolder"),children:l.jsx(ea,{size:10})})})]}),g&&p.length>0&&l.jsx("div",{className:"mt-0.5",children:p.map(j=>l.jsx(Pp,{...e,folder:j,depth:n+1},j.id))})]})});function Yu(...e){return dc(cc(e))}const Nx=qt.memo(({wand:e,viewMode:t,isMaximized:n,spellDb:r,draggedWandId:s,dragOverWandId:i,dragOverPos:o,wandSmartTags:a,onImport:c,onRename:d,onAddTag:h,onDelete:f,onUpdateTags:u,onDragStart:b,onDragOver:m,onDragLeave:S,onDrop:F,isConnected:g})=>{const{t:p,i18n:v}=rt(),j=I.useMemo(()=>{const k=[],L=Math.max(e.deck_capacity,...Object.keys(e.spells).map(Number)),N=t==="list"?14:45;for(let E=0;E<Math.min(L,N);E++){const _=e.spells[(E+1).toString()];k.push(_?r[_]:null)}return k},[e.spells,e.deck_capacity,r,t]);return l.jsxs("div",{className:Yu("group relative bg-zinc-900 border border-white/5 hover:border-purple-500/50 rounded-lg transition-all hover:bg-zinc-800 shadow-md overflow-visible select-none",t==="list"?"flex items-center gap-3 p-2 h-16":"flex flex-col p-2 gap-2 h-40",s===e.id&&"opacity-30 grayscale",i===e.id&&"ring-2 ring-purple-500 z-10 scale-[1.02]"),draggable:!0,onDragStart:k=>b(k,e.id),onDragOver:k=>m(k,e.id),onDragLeave:S,onDrop:k=>F(k,e.id),children:[i===e.id&&o==="top"&&l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-purple-500 shadow-[0_0_10px_rgba(168,85,247,1)] z-20"}),i===e.id&&o==="bottom"&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-purple-500 shadow-[0_0_10px_rgba(168,85,247,1)] z-20"}),l.jsxs("div",{className:Yu("bg-black/40 rounded border border-white/5 overflow-hidden relative transition-all",t==="list"?"w-64 h-full shrink-0":"w-full flex-1 min-h-[80px]"),children:[l.jsxs("div",{className:"absolute inset-0 flex flex-wrap content-start p-1 gap-0.5 overflow-hidden",children:[j.map((k,L)=>l.jsx("div",{className:"w-5 h-5 shrink-0 flex items-center justify-center relative",children:k?l.jsx("img",{src:Be(k.icon),className:"w-full h-full object-contain image-pixelated",alt:""}):l.jsx("div",{className:"w-full h-full bg-white/5 rounded-sm"})},L)),e.deck_capacity>j.length&&l.jsxs("span",{className:"text-[9px] text-zinc-600 pl-1",children:["+",e.deck_capacity-j.length]})]}),e.always_cast&&e.always_cast.length>0&&l.jsx("div",{className:"absolute top-0 right-0 bg-blue-500/20 text-blue-300 text-[8px] px-1 rounded-bl",children:"AC"})]}),l.jsxs("div",{className:"flex-none flex flex-col justify-between gap-1 w-full",children:[l.jsx("div",{className:"flex items-start justify-between gap-2 relative",children:l.jsxs("div",{className:"min-w-0 w-full",children:[l.jsx("h3",{className:"text-xs font-bold text-zinc-300 truncate leading-tight group-hover:text-purple-300",children:e.name||p("app.notification.my_wand")}),l.jsxs("div",{className:"hidden group-hover:flex absolute top-full left-0 right-0 mt-1 bg-zinc-900/95 border border-white/10 rounded-lg p-2 flex-col gap-1 z-50 shadow-xl backdrop-blur-md pointer-events-none animate-in fade-in slide-in-from-top-1 duration-200",children:[l.jsx("div",{className:"flex items-center justify-between text-[10px] font-bold text-zinc-400 border-b border-white/5 pb-1 mb-1",children:l.jsx("span",{children:p("settings.categories.wand")})}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-[10px] font-mono",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-500",children:p("settings.default_wand_stats").includes("")?"":"Mana"})," ",l.jsx("span",{className:"text-cyan-400",children:e.mana_max})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-500",children:p("settings.default_wand_stats").includes("")?"":"Recharge"})," ",l.jsx("span",{className:"text-cyan-400",children:e.mana_charge_speed})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-500",children:p("settings.default_wand_stats").includes("")?"":"Delay"})," ",l.jsxs("span",{className:"text-amber-400",children:[e.fire_rate_wait,"s"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-500",children:p("settings.default_wand_stats").includes("")?"":"Rechg"})," ",l.jsxs("span",{className:"text-green-400",children:[e.reload_time,"s"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-500",children:p("settings.default_wand_stats").includes("")?"":"Cap."})," ",l.jsx("span",{className:"text-zinc-300",children:e.deck_capacity})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-500",children:p("settings.default_wand_stats").includes("")?"":"Spr."})," ",l.jsxs("span",{className:"text-zinc-300",children:[e.spread_degrees,""]})]})]}),e.always_cast&&e.always_cast.length>0&&l.jsxs("div",{className:"mt-1 pt-1 border-t border-white/5",children:[l.jsx("span",{className:"text-[9px] text-blue-400 block mb-0.5",children:p("settings.title")==="Settings"?"Always Casts:":":"}),l.jsx("div",{className:"flex gap-0.5",children:e.always_cast.map((k,L)=>{const N=r[k],E=N?v.language.startsWith("en")&&N.en_name?N.en_name:N.name:k;return N?l.jsx("img",{src:Be(N.icon),className:"w-4 h-4",title:E},L):null})})]})]})]})}),(e.tags.length>0||a.length>0)&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-1 h-4 overflow-hidden",children:[a.slice(0,3).map(k=>l.jsx("span",{className:"text-[8px] px-1 rounded bg-amber-500/10 text-amber-500 border border-amber-500/20 truncate max-w-[60px]",children:k.name},k.id)),e.tags.slice(0,3).map(k=>l.jsxs("span",{className:"text-[8px] px-1 rounded bg-zinc-800 text-zinc-400 border border-white/5 truncate max-w-[60px]",children:["#",k]},k))]})]}),l.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-zinc-900/90 rounded-lg border border-white/10 p-0.5 backdrop-blur-sm z-20",children:[l.jsx("button",{onClick:()=>c(e),className:"p-1.5 hover:bg-purple-500 hover:text-white text-zinc-400 rounded transition-colors",title:p("nav.import"),children:l.jsx(zu,{size:12})}),l.jsx("button",{onClick:()=>d(e),className:"p-1.5 hover:bg-white/20 hover:text-white text-zinc-400 rounded transition-colors",title:p("tabs.rename"),children:l.jsx(zu,{size:12})}),l.jsx("button",{onClick:()=>f(e.id),className:"p-1.5 hover:bg-red-500 hover:text-white text-zinc-400 rounded transition-colors",title:p("warehouse.delete"),children:l.jsx(rr,{size:12})})]})]})});function kt(...e){return dc(cc(e))}function Sx({isOpen:e,onClose:t,onImportWand:n,spellDb:r,wands:s,setWands:i,folders:o,setFolders:a,smartTags:c,setSmartTags:d,settings:h,isConnected:f}){var Qr,Xs;const{t:u,i18n:b}=rt(),[m,S]=I.useState(!1),[F,g]=I.useState(""),[p,v]=I.useState("grid"),[j,k]=I.useState("root"),[L,N]=I.useState("date"),[E,_]=I.useState(50),[C,W]=I.useState([]),[M,A]=I.useState(!1),[H,Z]=I.useState(null),[J,se]=I.useState("");I.useEffect(()=>{if(!H)return;const z=R=>{var B;const $=(B=R.clipboardData)==null?void 0:B.getData("text");if($)try{try{const Y=JSON.parse($);if(Array.isArray(Y)){Z(ue=>ue?{...ue,spells:Y}:null);return}else if(Y.spells&&typeof Y.spells=="object"){const ue=Object.values(Y.spells);Z(le=>le?{...le,spells:ue}:null);return}}catch{}const G=$.split(/[, \n]+/).map(Y=>Y.trim()).filter(Y=>r[Y]);G.length>0&&Z(Y=>Y?{...Y,spells:G}:null)}catch(G){console.error("Paste failed",G)}};return document.addEventListener("paste",z),()=>document.removeEventListener("paste",z)},[H,r]);const[D,X]=I.useState(null),[Q,ee]=I.useState(null),[de,fe]=I.useState(null),[Ye,Xe]=I.useState(null),[yt,$t]=I.useState(null),[vt,mn]=I.useState(null);I.useEffect(()=>{_(50)},[j,F,C,L]);const ar=I.useCallback(z=>{const{scrollTop:R,scrollHeight:$,clientHeight:B}=z.currentTarget;$-R-B<200&&_(G=>G+50)},[]),Js=I.useCallback(z=>{confirm(u("warehouse.delete_wand_confirm"))&&i(R=>R.filter($=>$.id!==z))},[i,u]),Gt=I.useCallback((z,R)=>{i($=>$.map(B=>B.id===z?{...B,...R}:B))},[i]),Qs=I.useCallback(async z=>{const R=prompt(u("warehouse.rename_wand"),z.name);if(R){let $="",B="";if(!b.language.startsWith("en"))try{const Y=await(await fetch("/api/pinyin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:R})})).json();Y.success&&($=Y.pinyin,B=Y.initials)}catch{}Gt(z.id,{name:R,pinyin:$,pinyin_initials:B})}},[Gt,u,b.language]),gn=I.useCallback(z=>{const R=prompt(u("warehouse.add_tag"));R&&Gt(z.id,{tags:[...z.tags,R]})},[Gt,u]),_l=I.useCallback(z=>{a(R=>R.map($=>$.id===z?{...$,isOpen:!$.isOpen}:$))},[a]),wt=I.useCallback((z=null)=>{const R=prompt(u("warehouse.new_folder"));if(R){const $={id:Math.random().toString(36).substring(2,11),name:R,order:o.length,isOpen:!0,parentId:z};a(B=>[...B,$]),z&&a(B=>B.map(G=>G.id===z?{...G,isOpen:!0}:G))}},[o.length,a,u]),Kt=I.useCallback(z=>{confirm(u("warehouse.delete_folder_confirm"))&&(a(R=>R.filter($=>$.id!==z)),i(R=>R.map($=>$.folderId===z?{...$,folderId:null}:$)),j===z&&k("root"))},[a,i,j,u]),Ys=I.useCallback(z=>{const R=o.find(B=>B.id===z);if(!R)return;const $=prompt(u("warehouse.rename_folder"),R.name);$&&a(B=>B.map(G=>G.id===z?{...G,name:$}:G))},[o,a,u]),cr=I.useCallback((z,R,$)=>{R==="wand"?(X($),ee(null)):(ee($),X(null)),z.dataTransfer.setData("type",R),z.dataTransfer.setData("id",$),z.dataTransfer.effectAllowed="move"},[]),Ze=I.useCallback((z,R,$)=>{if(z.preventDefault(),z.stopPropagation(),R==="folder"||R==="root")fe($),Xe(null),$t(null);else if(R==="wand"){const B=z.currentTarget.getBoundingClientRect(),Y=z.clientY-B.top>B.height/2;Xe($),$t(Y?"bottom":"top"),s.find(ue=>ue.id===$)}},[s]),nn=I.useCallback((z,R,$)=>{z.preventDefault(),z.stopPropagation();const B=z.dataTransfer.getData("type")||(D?"wand":Q?"folder":""),G=z.dataTransfer.getData("id")||D||Q;if(!(!G||!B)){if(B==="wand"){if(R==="folder"||R==="root"){const Y=R==="root"?null:$;i(ue=>{const le=ue.filter(De=>De.id!==G),we=ue.find(De=>De.id===G);return we?[...le,{...we,folderId:Y}]:ue}),Y&&a(ue=>ue.map(le=>le.id===Y?{...le,isOpen:!0}:le))}else if(R==="wand"){if(G===$)return;i(Y=>{const ue=Y.find(dt=>dt.id===G);if(!ue)return Y;const le=Y.find(dt=>dt.id===$);if(!le)return Y;const we=Y.filter(dt=>dt.id!==G);let De=we.findIndex(dt=>dt.id===$);yt==="bottom"&&De++;const st=[...we];return st.splice(De,0,{...ue,folderId:le.folderId}),st.map((dt,kl)=>({...dt,order:kl}))})}}else if(B==="folder"&&(R==="folder"||R==="root")){if(G===$)return;const Y=R==="root"?null:$,ue=(le,we)=>{const De=o.find(st=>st.id===le);return!De||!De.parentId?!1:De.parentId===we?!0:ue(De.parentId,we)};if(Y&&(G===Y||ue(Y,G)))return;a(le=>{const we=le.find(st=>st.id===G);return we?[...le.filter(st=>st.id!==G),{...we,parentId:Y}].map((st,dt)=>({...st,order:dt})):le}),Y&&a(le=>le.map(we=>we.id===Y?{...we,isOpen:!0}:we))}X(null),ee(null),fe(null),Xe(null),$t(null)}},[D,Q,o,a,i,yt]),Jr=I.useMemo(()=>{const z={};return s.forEach(R=>{const $=[],B=Math.max(0,...Object.keys(R.spells).map(Number));for(let G=1;G<=B;G++)$.push(R.spells[G.toString()]||"");for(;$.length>0&&$[$.length-1]==="";)$.pop();z[R.id]=c.filter(G=>{if(G.spells.length===0)return!1;if(G.mode==="strict"){for(let Y=0;Y<=$.length-G.spells.length;Y++){let ue=!0;for(let le=0;le<G.spells.length;le++)if($[Y+le]!==G.spells[le]){ue=!1;break}if(ue)return!0}return!1}else return G.spells.every(Y=>$.includes(Y))})}),z},[s,c]),ur=I.useCallback(z=>Jr[z]||[],[Jr]),Wn=I.useMemo(()=>{const z={root:[]};return[...o].sort(($,B)=>($.order||0)-(B.order||0)).forEach($=>{const B=$.parentId||"root";z[B]||(z[B]=[]),z[B].push($)}),z},[o]),xn=I.useMemo(()=>{const z=F.toLowerCase(),R=b.language.startsWith("en");if(z)return s.filter(G=>{const ue=ur(G.id).map(we=>we.name),le=Object.values(G.spells).some(we=>{const De=r[we];return De?(R&&De.en_name?De.en_name:De.name).toLowerCase().includes(z):!1});return G.name.toLowerCase().includes(z)||!R&&(G.pinyin||"").toLowerCase().includes(z)||G.tags.some(we=>we.toLowerCase().includes(z))||ue.some(we=>we.toLowerCase().includes(z))||le}).sort((G,Y)=>Y.createdAt-G.createdAt);const $=j==="root"?null:j;let B=s.filter(G=>G.folderId===$);return C.length>0&&(B=B.filter(G=>{const ue=ur(G.id).map(le=>le.name);return C.every(le=>G.tags.includes(le)||ue.includes(le))})),B.sort((G,Y)=>L==="name"?G.name.localeCompare(Y.name):G.order!==void 0&&Y.order!==void 0&&G.order!==Y.order?G.order-Y.order:Y.createdAt-G.createdAt)},[s,F,j,C,L,ur,r,b.language]),Te={groupedFolders:Wn,selectedFolderId:j,draggedFolderId:Q,dragOverFolderId:de,onSelect:k,onToggle:_l,onCreateSubfolder:wt,onRename:Ys,onDelete:Kt,onDragStart:cr,onDragOver:Ze,onDrop:nn,onContextMenu:(z,R)=>{z.preventDefault(),z.stopPropagation(),mn({x:z.clientX,y:z.clientY,folderId:R})}},bt=I.useMemo(()=>{const z=new Set;return s.forEach(R=>R.tags.forEach($=>z.add($))),Array.from(z).sort()},[s]),ie=I.useMemo(()=>c.map(z=>z.name).sort(),[c]);return e?l.jsxs("div",{className:kt("fixed inset-y-0 left-0 bg-zinc-950/95 backdrop-blur-xl border-r border-white/10 shadow-2xl z-[400] flex flex-col transition-all duration-300",m?"w-full":"w-[900px] max-w-full"),children:[l.jsxs("div",{className:"h-12 border-b border-white/10 flex items-center justify-between px-4 bg-black/40 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(As,{size:18,className:"text-purple-400"}),l.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-zinc-200",children:u("warehouse.title")}),l.jsx("span",{className:"bg-purple-500/20 text-purple-400 text-[10px] px-1.5 py-0.5 rounded-full font-mono",children:s.length})]}),l.jsxs("div",{className:"flex-1 flex items-center justify-center px-8 gap-4",children:[l.jsxs("div",{className:"relative w-64",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500",size:14}),l.jsx("input",{type:"text",placeholder:u("warehouse.search_placeholder"),value:F,onChange:z=>g(z.target.value),className:"w-full bg-zinc-900 border border-white/5 rounded-full pl-9 pr-4 py-1.5 text-xs focus:outline-none focus:border-purple-500/50 transition-colors"})]}),l.jsxs("div",{className:"flex items-center gap-1 bg-zinc-900/50 p-1 rounded-lg border border-white/5",children:[l.jsxs("button",{onClick:()=>wt(j==="root"?null:j),className:"flex items-center gap-1.5 px-3 py-1 bg-zinc-800 hover:bg-zinc-700 hover:text-white text-zinc-400 rounded-md text-[10px] font-bold transition-all",children:[l.jsx(ea,{size:14}),u("warehouse.new_folder")]}),l.jsx("div",{className:"w-px h-4 bg-white/10 mx-1"}),l.jsx("button",{onClick:()=>N("date"),className:kt("p-1.5 rounded hover:bg-white/10 transition-colors",L==="date"?"text-purple-400":"text-zinc-500"),title:u("warehouse.sort_by_date"),children:l.jsx(Eg,{size:14})}),l.jsx("button",{onClick:()=>N("name"),className:kt("p-1.5 rounded hover:bg-white/10 transition-colors",L==="name"?"text-purple-400":"text-zinc-500"),title:u("warehouse.sort_by_name"),children:l.jsx(zg,{size:14})})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>S(!m),className:"p-2 hover:bg-white/10 rounded-lg text-zinc-500 hover:text-white transition-colors",children:m?l.jsx(ta,{size:16}):l.jsx(Dg,{size:16})}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg text-zinc-500 hover:text-white transition-colors",children:l.jsx(cn,{size:18})})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsxs("div",{className:"w-60 border-r border-white/5 bg-black/20 flex flex-col",children:[l.jsx("div",{className:"p-2 border-b border-white/5 flex items-center justify-between",children:l.jsx("span",{className:"text-[10px] font-black uppercase text-zinc-500 tracking-wider pl-2",children:u("warehouse.folders")})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-0.5 custom-scrollbar",onDragOver:z=>Ze(z,"root","root"),onDrop:z=>nn(z,"root","root"),children:[l.jsxs("div",{className:kt("flex items-center gap-2 py-1.5 px-3 rounded-lg cursor-pointer transition-all mb-1",j==="root"?"bg-purple-600/20 text-purple-300 border border-purple-500/20":"text-zinc-400 hover:bg-white/5 hover:text-zinc-200 border border-transparent",de==="root"&&"bg-indigo-500/20 border-indigo-500/50 outline-dashed outline-1 outline-indigo-500/50"),onClick:()=>k("root"),onDragOver:z=>Ze(z,"root","root"),onDrop:z=>nn(z,"root","root"),children:[l.jsx(As,{size:14}),l.jsx("span",{className:"text-xs font-bold",children:u("warehouse.root_folder")})]}),(Qr=Wn.root)==null?void 0:Qr.map(z=>l.jsx(Pp,{...Te,folder:z,depth:0},z.id)),l.jsxs("div",{className:"mt-4 p-4 border border-dashed border-white/5 rounded-lg text-center text-[10px] text-zinc-600 hover:text-zinc-400 hover:border-white/10 cursor-pointer transition-colors",onClick:()=>wt("root"),children:["+ ",u("warehouse.new_folder")]})]}),l.jsx("div",{className:"p-2 border-t border-white/5",children:l.jsxs("button",{onClick:()=>A(!0),className:"w-full py-2 bg-amber-500/10 hover:bg-amber-500/20 text-amber-500 rounded-lg text-[10px] font-bold flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Zl,{size:14})," ",u("warehouse.manage_smart_tags")]})})]}),l.jsxs("div",{className:"flex-1 flex flex-col bg-zinc-900/30",children:[l.jsxs("div",{className:"px-4 py-2 flex items-center gap-2 text-xs text-zinc-500 border-b border-white/5",children:[l.jsx(qo,{size:14}),l.jsx("span",{className:"font-bold",children:j==="root"?u("warehouse.root_folder"):((Xs=o.find(z=>z.id===j))==null?void 0:Xs.name)||"???"}),l.jsx("span",{className:"bg-zinc-800 px-1.5 rounded-full text-[10px]",children:u("warehouse.all_wands",{count:xn.length})}),l.jsx("div",{className:"flex-1"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>v("grid"),className:kt("p-1 rounded transition-colors",p==="grid"?"bg-purple-500/20 text-purple-300":"hover:bg-white/5"),children:l.jsx(Tg,{size:14})}),l.jsx("button",{onClick:()=>v("list"),className:kt("p-1 rounded transition-colors",p==="list"?"bg-purple-500/20 text-purple-300":"hover:bg-white/5"),children:l.jsx($g,{size:14})})]})]}),(bt.length>0||ie.length>0)&&l.jsxs("div",{className:"px-4 py-2 border-b border-white/5 flex flex-wrap gap-1 items-center bg-black/10",children:[l.jsx(Ig,{size:12,className:"text-zinc-600 mr-1"}),ie.map(z=>l.jsxs("button",{onClick:()=>W(R=>R.includes(z)?R.filter($=>$!==z):[...R,z]),className:kt("px-2 py-0.5 rounded text-[9px] font-bold transition-all border flex items-center gap-1",C.includes(z)?"bg-amber-500/20 border-amber-500/50 text-amber-300":"bg-zinc-800 border-white/5 text-zinc-500 hover:text-amber-400/70"),children:[l.jsx(Zl,{size:10})," ",z]},`smart-${z}`)),bt.map(z=>l.jsxs("button",{onClick:()=>W(R=>R.includes(z)?R.filter($=>$!==z):[...R,z]),className:kt("px-2 py-0.5 rounded text-[9px] font-bold transition-all border",C.includes(z)?"bg-purple-500/20 border-purple-500/50 text-purple-300":"bg-zinc-800 border-white/5 text-zinc-500 hover:text-purple-400/70"),children:["#",z]},`manual-${z}`))]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",onScroll:ar,onDragOver:z=>Ze(z,"folder",j||"root"),onDrop:z=>nn(z,"folder",j||"root"),onContextMenu:z=>{z.preventDefault(),mn({x:z.clientX,y:z.clientY,folderId:j||"root"})},children:[xn.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-600 gap-4 opacity-50",children:[l.jsx(qo,{size:48,strokeWidth:1}),l.jsx("p",{className:"text-xs uppercase tracking-widest",children:u("warehouse.empty_folder")})]}):l.jsx("div",{className:kt(p==="grid"?"grid gap-3 grid-cols-[repeat(auto-fill,minmax(180px,1fr))]":"space-y-1"),children:xn.slice(0,E).map(z=>l.jsx(Nx,{wand:z,viewMode:p,isMaximized:m,spellDb:r,draggedWandId:D,dragOverWandId:Ye,dragOverPos:yt,wandSmartTags:ur(z.id),onImport:n,onRename:Qs,onAddTag:gn,onDelete:Js,onUpdateTags:(R,$)=>Gt(R,{tags:$}),onDragStart:(R,$)=>cr(R,"wand",$),onDragOver:(R,$)=>Ze(R,"wand",$),onDragLeave:()=>{Xe(null),$t(null)},onDrop:(R,$)=>nn(R,"wand",$),isConnected:f},z.id))}),xn.length>E&&l.jsxs("div",{className:"py-4 text-center text-[10px] text-zinc-600 italic",children:[u("warehouse.loading_more")," (",E," / ",xn.length,")"]})]}),l.jsxs("div",{className:"p-3 border-t border-white/5 bg-black/20 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:async()=>{if(confirm(u("warehouse.title")===""?" Wand Editor (Yukimi) ":"Attempting to import all saves from Wand Editor (Yukimi), continue?"))try{const R=await(await fetch("/api/import/wand-editor")).json();R.success?(i($=>[...$,...R.wands]),a($=>[...$,...R.folders]),alert(u("warehouse.import_success",{count:R.wands.length}))):alert("Import failed: "+R.error)}catch{alert("Import error")}},className:"text-[10px] text-zinc-500 hover:text-zinc-300 flex items-center gap-1 transition-colors",children:[l.jsx(Bn,{size:12})," ",u("warehouse.import_wand_editor")]}),l.jsxs("button",{onClick:async()=>{if(confirm(u("warehouse.title")===""?" Spell Lab ":"Attempting to import all saves from Spell Lab, continue?"))try{const R=await(await fetch("/api/import/spell-lab")).json();R.success?(i($=>[...$,...R.wands]),a($=>[...$,...R.folders]),alert(u("warehouse.import_success",{count:R.wands.length}))):alert("Import failed: "+R.error)}catch{alert("Import error")}},className:"text-[10px] text-zinc-500 hover:text-zinc-300 flex items-center gap-1 transition-colors",children:[l.jsx(Bn,{size:12})," ",u("warehouse.import_spell_lab")]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("label",{className:"px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 rounded text-[10px] font-bold text-zinc-300 hover:text-white transition-colors cursor-pointer flex items-center gap-2",children:[l.jsx(na,{size:12}),u("warehouse.restore"),l.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:z=>{var B;const R=(B=z.target.files)==null?void 0:B[0];if(!R)return;const $=new FileReader;$.onload=G=>{var Y,ue;try{const le=JSON.parse((Y=G.target)==null?void 0:Y.result);le.wands?(confirm(u("warehouse.backup_detected",{wandCount:le.wands.length,folderCount:((ue=le.folders)==null?void 0:ue.length)||0}))?(i(we=>[...we,...le.wands]),le.folders&&a(we=>[...we,...le.folders]),le.smartTags&&d(we=>[...we,...le.smartTags])):(i(le.wands),le.folders&&a(le.folders),le.smartTags&&d(le.smartTags)),alert("Import success!")):alert("Invalid backup file format")}catch(le){alert("File parsing failed"),console.error(le)}},$.readAsText(R),z.target.value=""}})]}),l.jsxs("button",{onClick:()=>{const z=JSON.stringify({wands:s,folders:o,smartTags:c},null,2),R=new Blob([z],{type:"application/json"}),$=URL.createObjectURL(R),B=document.createElement("a");B.href=$,B.download=`wand_warehouse_backup_${new Date().toISOString().split("T")[0]}.json`,B.click()},className:"px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 rounded text-[10px] font-bold text-zinc-300 hover:text-white transition-colors flex items-center gap-2",children:[l.jsx(Bn,{size:12}),u("warehouse.backup")]})]})]})]})]}),vt&&l.jsxs("div",{className:"fixed z-[1000] bg-zinc-900 border border-white/10 rounded-lg shadow-2xl py-1 w-40 overflow-hidden",style:{left:vt.x,top:vt.y},onClick:()=>mn(null),children:[l.jsxs("button",{onClick:()=>wt(vt.folderId==="root"?null:vt.folderId),className:"w-full px-4 py-2 text-left text-[11px] font-bold text-zinc-300 hover:bg-purple-600 hover:text-white flex items-center gap-2 transition-colors",children:[l.jsx(ea,{size:14})," ",u("warehouse.new_subfolder")]}),vt.folderId!=="root"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>Ys(vt.folderId),className:"w-full px-4 py-2 text-left text-[11px] font-bold text-zinc-300 hover:bg-purple-600 hover:text-white flex items-center gap-2 transition-colors",children:[l.jsx(Lu,{size:14})," ",u("warehouse.rename_folder")]}),l.jsxs("button",{onClick:()=>Kt(vt.folderId),className:"w-full px-4 py-2 text-left text-[11px] font-bold text-red-400 hover:bg-red-600 hover:text-white flex items-center gap-2 transition-colors",children:[l.jsx(rr,{size:14})," ",u("warehouse.delete")]})]})]}),vt&&l.jsx("div",{className:"fixed inset-0 z-[900]",onClick:()=>mn(null)}),M&&l.jsxs("div",{className:"absolute inset-0 z-[500] bg-zinc-950 flex flex-col animate-in slide-in-from-bottom duration-300",children:[l.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-black/40",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zl,{size:18,className:"text-amber-400"}),l.jsx("h2",{className:"text-sm font-black uppercase tracking-widest",children:u("warehouse.smart_tags_title")})]}),l.jsx("button",{onClick:()=>A(!1),className:"p-2 hover:bg-white/10 rounded-lg text-zinc-500 hover:text-white transition-colors",children:l.jsx(cn,{size:18})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[l.jsxs("button",{onClick:()=>Z({id:Math.random().toString(36).substring(2,11),name:u("warehouse.new_smart_tag"),spells:[],mode:"strict"}),className:"w-full py-3 bg-amber-500/10 border border-amber-500/20 text-amber-400 rounded-xl text-xs font-black uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-amber-500/20 transition-all",children:[l.jsx(Hr,{size:16})," ",u("warehouse.new_smart_tag")]}),l.jsx("div",{className:"space-y-2",children:c.length===0?l.jsx("div",{className:"text-center py-10 text-zinc-600 text-xs italic",children:u("warehouse.no_smart_tags")}):c.map(z=>l.jsxs("div",{className:"bg-zinc-900 border border-white/5 rounded-xl p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-bold text-zinc-200",children:z.name}),l.jsx("span",{className:kt("text-[10px] px-2 py-0.5 rounded-full font-black uppercase tracking-tighter",z.mode==="strict"?"bg-red-500/10 text-red-400":"bg-blue-500/10 text-blue-400"),children:z.mode==="strict"?u("warehouse.strict_order"):u("warehouse.contains")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{const R=JSON.stringify([z],null,2),$=new Blob([R],{type:"application/json"}),B=URL.createObjectURL($),G=document.createElement("a");G.href=B,G.download=`smart_tag_${z.name}.json`,G.click(),URL.revokeObjectURL(B)},className:"p-2 hover:bg-white/5 rounded text-zinc-500 hover:text-amber-400 transition-colors",title:"",children:l.jsx(Bn,{size:14})}),l.jsx("button",{onClick:()=>Z({...z}),className:"p-2 hover:bg-white/5 rounded text-zinc-500 hover:text-white transition-colors",children:l.jsx(Lu,{size:14})}),l.jsx("button",{onClick:()=>{confirm("")&&d(R=>R.filter($=>$.id!==z.id))},className:"p-2 hover:bg-red-500/10 rounded text-zinc-500 hover:text-red-400 transition-colors",children:l.jsx(rr,{size:14})})]})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:z.spells.map((R,$)=>{const B=r[R];return l.jsx("div",{className:"w-8 h-8 bg-black/40 border border-white/5 rounded flex items-center justify-center overflow-hidden",children:B&&l.jsx("img",{src:Be(B.icon),className:"w-6 h-6 image-pixelated",alt:"",title:B.name})},$)})})]},z.id))})]}),l.jsxs("div",{className:"p-4 bg-black/40 border-t border-white/10 flex gap-2",children:[l.jsxs("label",{className:"flex-1 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-white flex items-center justify-center gap-2 transition-all cursor-pointer",children:[l.jsx(na,{size:14})," ",l.jsx("input",{type:"file",className:"hidden",accept:".json",multiple:!0,onChange:async z=>{const R=z.target.files;if(!R||R.length===0)return;const $=[];for(let B=0;B<R.length;B++)try{const G=await R[B].text(),Y=JSON.parse(G),ue=Array.isArray(Y)?Y:[Y];$.push(...ue)}catch{console.error("Failed to parse file",R[B].name)}$.length>0&&d(B=>{const G=new Set(B.map(ue=>ue.id)),Y=[];return $.forEach(ue=>{ue.id&&ue.name&&!G.has(ue.id)&&(Y.push(ue),G.add(ue.id))}),Y.length>0?(alert(` ${Y.length} `),[...B,...Y]):(alert(""),B)}),z.target.value=""}})]}),l.jsxs("button",{onClick:()=>{const z=JSON.stringify(c,null,2),R=new Blob([z],{type:"application/json"}),$=URL.createObjectURL(R),B=document.createElement("a");B.href=$,B.download="smart_tags_backup.json",B.click()},className:"flex-1 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-white flex items-center justify-center gap-2 transition-all",children:[l.jsx(Bn,{size:14})," "]})]})]}),H&&l.jsxs("div",{className:"absolute inset-0 z-[600] bg-zinc-950 flex flex-col animate-in zoom-in-95 duration-200",children:[l.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-black/40",children:[l.jsx("h2",{className:"text-sm font-black uppercase tracking-widest",children:u("warehouse.edit_smart_tag")}),l.jsx("button",{onClick:()=>Z(null),className:"p-2 hover:bg-white/10 rounded-lg text-zinc-500 hover:text-white transition-colors",children:l.jsx(cn,{size:18})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:u("warehouse.tag_name")}),l.jsx("input",{type:"text",value:H.name,onChange:z=>Z({...H,name:z.target.value}),className:"w-full bg-zinc-900 border border-white/10 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-amber-500/50 transition-all",placeholder:": 10 10 4 2"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:u("warehouse.match_mode")}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("button",{onClick:()=>Z({...H,mode:"strict"}),className:kt("py-3 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all",H.mode==="strict"?"bg-red-500/10 border-red-500/50 text-red-400":"bg-zinc-900 border-white/5 text-zinc-500 hover:border-white/20"),children:u("warehouse.strict_order")}),l.jsx("button",{onClick:()=>Z({...H,mode:"contains"}),className:kt("py-3 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all",H.mode==="contains"?"bg-blue-500/10 border-blue-500/50 text-blue-400":"bg-zinc-900 border-white/5 text-zinc-500 hover:border-white/20"),children:u("warehouse.contains")})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest flex items-center gap-2",children:[l.jsx("span",{children:u("warehouse.spell_combination")}),l.jsxs("span",{className:"text-zinc-700 font-normal",children:["| ",u("settings.title")==="Settings"?"Right click to clear, Ctrl+V to paste":",  Ctrl+V "]})]})}),l.jsx("div",{className:"bg-black/40 p-3 rounded-xl border border-white/10 overflow-x-auto custom-scrollbar",children:l.jsx("div",{className:"flex gap-1 min-w-max",children:Array.from({length:26}).map((z,R)=>{const $=H.spells[R],B=$?r[$]:null;return l.jsxs("button",{onClick:()=>{},onContextMenu:G=>{G.preventDefault();const Y=[...H.spells];for(;Y.length<=R;)Y.push("");Y[R]="",Z({...H,spells:Y})},className:kt("w-10 h-10 rounded border flex items-center justify-center relative group transition-all shrink-0",B?"bg-zinc-800 border-zinc-600 hover:border-amber-500":"bg-white/5 border-white/5 hover:bg-white/10 hover:border-white/20"),title:(B==null?void 0:B.name)||" ()",children:[B&&l.jsx("img",{src:Be(B.icon),className:"w-8 h-8 image-pixelated",alt:""}),l.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 rounded-full bg-zinc-700/50"})]},R)})})})]}),l.jsxs("div",{className:"space-y-3 pt-4 border-t border-white/5",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500",size:12}),l.jsx("input",{type:"text",placeholder:u("warehouse.search_spells"),value:J,className:"w-full bg-zinc-900 border border-white/5 rounded-lg pl-9 pr-4 py-2 text-[10px] focus:outline-none focus:border-white/20",onChange:z=>se(z.target.value)})]}),l.jsx("div",{className:"grid grid-cols-8 gap-1.5 max-h-48 overflow-y-auto custom-scrollbar p-1",children:Object.values(r).filter(z=>{const R=J.toLowerCase();return z.name.toLowerCase().includes(R)||(z.en_name||"").toLowerCase().includes(R)}).slice(0,200).map(z=>l.jsx("button",{onClick:()=>{const R=[...H.spells];let $=!1;for(let B=0;B<26;B++)if(!R[B]){R[B]=z.id,$=!0;break}!$&&R.length<26&&R.push(z.id),Z({...H,spells:R})},className:"aspect-square bg-black/40 border border-white/5 rounded hover:border-amber-500/50 transition-all flex items-center justify-center group",title:z.name,children:l.jsx("img",{src:Be(z.icon),className:"w-7 h-7 image-pixelated group-hover:scale-110 transition-transform",alt:""})},z.id))})]})]}),l.jsxs("div",{className:"p-4 bg-black/40 border-t border-white/10 flex gap-3",children:[l.jsx("button",{onClick:()=>Z(null),className:"flex-1 py-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-400 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:u("warehouse.cancel")}),l.jsx("button",{onClick:()=>{H&&(d(z=>{const R={...H,spells:H.spells.filter(B=>B&&B.trim()!=="")},$=z.findIndex(B=>B.id===R.id);if($>=0){const B=[...z];return B[$]=R,B}return[...z,R]}),Z(null))},className:"flex-[2] py-3 bg-amber-600 hover:bg-amber-500 text-white rounded-xl text-xs font-black uppercase tracking-widest transition-all shadow-lg shadow-amber-900/20",children:u("warehouse.save_smart_tag")})]})]})]}):null}function Cx(){var pc,hc;const{t:e,i18n:t}=rt(),[n,r]=I.useState(()=>{const y=localStorage.getItem("twwe_tabs")||localStorage.getItem("wand2h_tabs");if(y)try{const w=JSON.parse(y);if(Array.isArray(w)&&w.length>0)return w.map(x=>({...x,expandedWands:new Set(x.expandedWands||[]),past:Array.isArray(x.past)?x.past:[],future:Array.isArray(x.future)?x.future:[]}))}catch(w){console.error("Failed to load tabs from localStorage:",w)}return[{id:"1",name:e("tabs.realtime"),isRealtime:!0,wands:{1:{...Ge}},expandedWands:new Set(["1"]),past:[],future:[]},{id:"2",name:e("tabs.sandbox"),isRealtime:!1,wands:{1:{...Ge}},expandedWands:new Set(["1"]),past:[],future:[]}]}),[s,i]=I.useState("1"),[o,a]=I.useState({}),[c,d]=I.useState(!1),[h,f]=I.useState({}),u=I.useRef({}),[b,m]=I.useState(()=>{const y=localStorage.getItem("twwe_settings")||localStorage.getItem("wand2h_settings"),w={commonLimit:10,categoryLimit:10,allowCompactEdit:!1,pickerRowHeight:32,themeColors:["from-blue-500/10 to-blue-600/20","from-green-500/10 to-green-600/20","from-purple-500/10 to-purple-600/20","from-orange-500/10 to-orange-600/20"],wrapLimit:20,hideLabels:!1,conflictStrategy:"ask",autoExpandOnPaste:!0,defaultWandStats:{},numCasts:3,autoHideThreshold:20,showSpellCharges:!1,unlimitedSpells:!0,initialIfHalf:!0,simulateLowHp:!1,simulateManyEnemies:!1,simulateManyProjectiles:!1,groupIdenticalCasts:!0,foldNodes:!1,showIndices:!0,editorSpellGap:6,showStatsInFrames:!0,showLegacyWandButton:!1,deleteEmptySlots:!0,exportHistory:!0,spellTypes:Bg,spellGroups:Gg,warehouseFolderHeight:200};if(y)try{const x=JSON.parse(y);return{...w,...x,defaultWandStats:x.defaultWandStats||{}}}catch(x){console.error("Failed to load settings from localStorage:",x)}return w}),[S,F]=I.useState(!1),g=I.useRef(0),p=I.useRef(!1),v=I.useRef(!1),[j,k]=I.useState(null),[L,N]=I.useState(!1),[E,_]=I.useState(!1),[C,W]=I.useState(()=>{const y=localStorage.getItem("twwe_warehouse");return y?JSON.parse(y):[]}),[M,A]=I.useState(()=>{const y=localStorage.getItem("twwe_warehouse_folders");return y?JSON.parse(y):[]}),[H,Z]=I.useState(()=>{const y=localStorage.getItem("twwe_smart_tags");return y?JSON.parse(y):[]}),[J,se]=I.useState(null);I.useEffect(()=>{localStorage.setItem("twwe_warehouse",JSON.stringify(C))},[C]),I.useEffect(()=>{localStorage.setItem("twwe_warehouse_folders",JSON.stringify(M))},[M]),I.useEffect(()=>{localStorage.setItem("twwe_smart_tags",JSON.stringify(H))},[H]);const D=async y=>{const w=prompt(e("app.notification.enter_wand_name"),e("app.notification.my_wand"));if(!w)return;let x="",O="";try{const V=await(await fetch("/api/pinyin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:w})})).json();V.success&&(x=V.pinyin,O=V.initials)}catch(P){console.error("Pinyin fetch failed",P)}const T={...y,id:Math.random().toString(36).substring(2,11),name:w,pinyin:x,pinyin_initials:O,tags:[],createdAt:Date.now(),folderId:null};W(P=>[T,...P]),se({msg:e("app.notification.saved_to_warehouse",{name:w}),type:"success"}),_(!0)},X=I.useMemo(()=>{const y={};return Object.entries(o).forEach(([w,x])=>{const O=w.toLowerCase().replace(/[^a-z0-9]/g,"");if(y[O]=w,x.name){const T=x.name.toLowerCase().replace(/[^a-z0-9]/g,"");T&&(y[T]=w)}if(x.en_name){const T=x.en_name.toLowerCase().replace(/[^a-z0-9]/g,"");T&&(y[T]=w)}if(w.includes("_")){const T=w.toLowerCase().replace(/_/g,"");y[T]=w}}),y},[o]),Q=I.useRef({}),[ee,de]=I.useState(null),fe=(y,w="",x,O=!0)=>{r(T=>T.map(P=>{if(P.id===s){const V=y(P.wands);if(!O)return{...P,wands:V};const te={id:Math.random().toString(36).substr(2,9),wands:JSON.parse(JSON.stringify(P.wands)),name:w,icons:x,timestamp:Date.now()};return{...P,wands:V,past:[...P.past.slice(-49),te],future:[]}}return P}))},Ye=I.useCallback(()=>{r(y=>y.map(w=>{if(w.id===s&&w.past&&w.past.length>0){const x=w.past[w.past.length-1],O={id:"redo-"+Date.now(),wands:JSON.parse(JSON.stringify(w.wands)),name:x.name,icons:x.icons,timestamp:Date.now()};return{...w,wands:x.wands,past:w.past.slice(0,-1),future:[O,...w.future||[]]}}return w}))},[s]),Xe=I.useCallback(()=>{r(y=>y.map(w=>{if(w.id===s&&w.future&&w.future.length>0){const x=w.future[0],O={id:"undo-"+Date.now(),wands:JSON.parse(JSON.stringify(w.wands)),name:x.name,icons:x.icons,timestamp:Date.now()};return{...w,wands:x.wands,past:[...w.past||[],O],future:w.future.slice(1)}}return w}))},[s]),yt=y=>{r(w=>w.map(x=>{if(x.id===s&&x.past&&x.past[y]){const O=x.past[y],T=[...x.past.slice(y+1),...x.future||[]],P={id:"jump-p-"+Date.now(),wands:JSON.parse(JSON.stringify(x.wands)),name:x.past[x.past.length-1].name,icons:x.past[x.past.length-1].icons,timestamp:Date.now()};return{...x,wands:O.wands,past:x.past.slice(0,y),future:[P,...T]}}return x}))},$t=y=>{r(w=>w.map(x=>{if(x.id===s&&x.future&&x.future[y]){const O=x.future[y],T=x.future.slice(0,y),P={id:"jump-f-"+Date.now(),wands:JSON.parse(JSON.stringify(x.wands)),name:O.name,icons:O.icons,timestamp:Date.now()};return{...x,wands:O.wands,past:[...x.past||[],P,...T],future:x.future.slice(y+1)}}return x}))};I.useEffect(()=>{const y=w=>{(w.ctrlKey||w.metaKey)&&(w.key==="z"||w.key==="y")&&(w.key==="z"?(w.shiftKey?Xe():Ye(),w.preventDefault()):w.key==="y"&&(Xe(),w.preventDefault()))};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[Ye,Xe]),I.useEffect(()=>{const y=x=>{k(null),x.target.closest(".glass-card")||Kt(null)},w=x=>{x.target instanceof HTMLInputElement||x.target instanceof HTMLTextAreaElement||x.preventDefault(),k(null)};return window.addEventListener("click",y),window.addEventListener("contextmenu",w),()=>{window.removeEventListener("click",y),window.removeEventListener("contextmenu",w)}},[]),I.useEffect(()=>{if(J){const y=setTimeout(()=>se(null),4e3);return()=>clearTimeout(y)}},[J]);const[vt,mn]=I.useState(null),[ar,Js]=I.useState(""),[Gt,Qs]=I.useState(new Set),[gn,_l]=I.useState(null),[wt,Kt]=I.useState(null),[Ys,cr]=I.useState(!1),[Ze,nn]=I.useState(null),[Jr,ur]=I.useState({x:0,y:0}),[Wn,xn]=I.useState(null),Te=I.useRef(Wn);I.useEffect(()=>{Te.current=Wn},[Wn]);const bt=I.useRef(wt);I.useEffect(()=>{bt.current=wt},[wt]);const ie=I.useMemo(()=>n.find(y=>y.id===s)||n[0],[n,s]),Qr=I.useCallback(async(y,w,x)=>{try{const O=await W0(x,b,c);O&&f(T=>({...T,[`${y}-${w}`]:O}))}catch(O){console.error("Evaluation failed:",O)}},[b.numCasts,b.unlimitedSpells,b.initialIfHalf,b.simulateLowHp,b.simulateManyEnemies,b.simulateManyProjectiles,c]);I.useEffect(()=>{!ie||!ie.expandedWands||ie.expandedWands.forEach(y=>{const w=ie.wands[y];if(!w)return;const x=`${ie.id}-${y}`;u.current[x]&&clearTimeout(u.current[x]),u.current[x]=setTimeout(()=>{Qr(ie.id,y,w)},500)})},[ie.wands,ie.expandedWands,ie.id,Qr,b.numCasts,b.unlimitedSpells]);const Xs=I.useMemo(()=>{const y={};n.forEach(P=>{Object.values(P.wands).forEach(V=>{Object.values(V.spells).forEach(te=>{y[te]=(y[te]||0)+1})})});const w=(P,V,te=!1)=>{const ne=[...P].sort((ce,me)=>(y[me.id]||0)-(y[ce.id]||0));return te?ne:ne.slice(0,V)},x=Object.values(o),O=w(x,b.commonLimit,Gt.has(-1)),T=b.spellGroups.map((P,V)=>{const te=x.filter(ne=>P.types.includes(ne.type));return w(te,b.categoryLimit,Gt.has(V))});return{overall:O,categories:T}},[n,o,b.commonLimit,b.categoryLimit,b.spellGroups,Gt]),z=I.useMemo(()=>{if(!ar)return null;const y=ar.toLowerCase().replace(/[^a-z0-9]/g,"");if(!y)return null;const w=Object.values(o),x=t.language.startsWith("en"),O=w.map(T=>{let P=0;const V=T.id.toLowerCase(),te=T.name.toLowerCase(),ne=(T.en_name||"").toLowerCase(),ce=(T.pinyin||"").toLowerCase(),me=(T.pinyin_initials||"").toLowerCase(),K=(T.aliases||"").toLowerCase(),re=(T.alias_pinyin||"").toLowerCase(),je=(T.alias_initials||"").toLowerCase();return V===y?P+=100:te===y?P+=90:ne===y?P+=85:K.includes(y)?P+=80:V.startsWith(y)?P+=70:te.startsWith(y)?P+=65:ne.startsWith(y)?P+=60:!x&&me.startsWith(y)?P+=55:!x&&ce.startsWith(y)?P+=50:!x&&je.startsWith(y)?P+=45:!x&&re.startsWith(y)?P+=40:V.includes(y)?P+=30:te.includes(y)?P+=25:ne.includes(y)?P+=20:!x&&me.includes(y)?P+=15:!x&&ce.includes(y)?P+=10:!x&&je.includes(y)?P+=8:!x&&re.includes(y)&&(P+=5),{spell:T,score:P}}).filter(T=>T.score>0);return O.sort((T,P)=>P.score-T.score||T.spell.id.localeCompare(P.spell.id)),[O.map(T=>T.spell)]},[ar,o,t.language]),R=(y,w,x=!1)=>{if(x){const O=ie.wands[y],T=w<0?O==null?void 0:O.always_cast[-w-1]:O==null?void 0:O.spells[w.toString()];T&&nn({wandSlot:y,idx:w,sid:T});return}w<0||(cr(!0),Kt({wandSlot:y,indices:[w],startIdx:w}))},$=(y,w)=>{if(Ze){const x=Ze.wandSlot,O=Ze.idx,T=y,P=w;fe(V=>{var re,je,Se,Ce,Ae,ve,ge,be;const te={...V},ne={...te[x]},ce=O<0?ne.always_cast[-O-1]:ne.spells[O.toString()],me=O<0||(re=ne.spell_uses)==null?void 0:re[O.toString()];if(O<0){const xe=[...ne.always_cast||[]];xe.splice(-O-1,1),ne.always_cast=xe}else{const xe={...ne.spells},ke={...ne.spell_uses||{}};delete xe[O.toString()],delete ke[O.toString()],ne.spells=xe,ne.spell_uses=ke}const K=x===T?ne:{...te[T]};if(P===-1e3||P<0){const xe=[...K.always_cast||[]];if(P===-1e3)xe.push(ce);else{const ke=-P-1,it=((je=Te.current)==null?void 0:je.wandSlot)===T&&((Se=Te.current)==null?void 0:Se.idx)===P&&((Ce=Te.current)==null?void 0:Ce.isRightHalf);xe.splice(ke+(it?1:0),0,ce)}K.always_cast=xe}else{const xe=((Ae=Te.current)==null?void 0:Ae.wandSlot)===T&&((ve=Te.current)==null?void 0:ve.idx)===P&&((ge=Te.current)==null?void 0:ge.isRightHalf),ke=P+(xe?1:0),it=[],jl=Math.max(K.deck_capacity,...Object.keys(K.spells).map(Number));for(let Lt=1;Lt<=jl;Lt++){if(x===T&&Lt===O)continue;const fr=K.spells[Lt.toString()];it.push({sid:fr||"",uses:(be=K.spell_uses)==null?void 0:be[Lt.toString()]})}let Yr=ke;x===T&&O>=0&&O<ke&&Yr--;const dr=Yr-1;it[dr]&&it[dr].sid===""?it.splice(dr,1):it[dr-1]&&it[dr-1].sid===""&&(it.splice(dr-1,1),Yr--);const Qp=it.slice(0,Math.max(0,Yr-1)),Yp=it.slice(Math.max(0,Yr-1)),mc=[...Qp,{sid:ce,uses:me},...Yp],gc={},xc={};mc.forEach((Lt,fr)=>{Lt.sid&&(gc[(fr+1).toString()]=Lt.sid,Lt.uses!==void 0&&(xc[(fr+1).toString()]=Lt.uses))}),K.spells=gc,K.spell_uses=xc;const yc=mc.reduce((Lt,fr,Xp)=>fr.sid!==""?Xp+1:Lt,0);yc>K.deck_capacity&&(K.deck_capacity=yc)}return te[x]=ne,x!==T&&(te[T]=K),ie.isRealtime&&(_t(x,ne),x!==T&&_t(T,K)),te},"",[Ze.sid]),nn(null)}cr(!1)},B=(y,w)=>{if(Ys&&wt&&wt.wandSlot===y){const x=wt.startIdx,O=w,T=Math.min(x,O),P=Math.max(x,O),V=[];for(let te=T;te<=P;te++)V.push(te);Kt({...wt,indices:V})}},G=(y,w,x)=>{const O=y.currentTarget.getBoundingClientRect(),T=y.clientX>O.left+O.width/2;xn({wandSlot:w,idx:x,isRightHalf:T})},Y=()=>{xn(null)},ue=async(y=!1)=>{let w,x;const O=bt.current,T=Te.current;if(O&&T&&T.wandSlot===O.wandSlot&&O.indices.includes(T.idx))w=O.wandSlot,x=O.indices;else if(T&&T.wandSlot)w=T.wandSlot,x=[T.idx];else if(O)w=O.wandSlot,x=O.indices;else return;const P=ie.wands[w];if(!P)return;const V=[...x].sort((ce,me)=>ce-me);let te="";const ne=V.map(ce=>ce<0?P.always_cast[-ce-1]||"":P.spells[ce.toString()]||"");if(!(ne.length===1&&!ne[0]&&!y)&&(V.length>=P.deck_capacity&&V.length>1?te=`{{Wand2
| wandCard     = Yes
| wandPic      = 
| spellsCast   = ${P.actions_per_round}
| shuffle      = ${P.shuffle_deck_when_empty?"Yes":"No"}
| castDelay    = ${(P.fire_rate_wait/60).toFixed(2)}
| rechargeTime = ${(P.reload_time/60).toFixed(2)}
| manaMax      = ${P.mana_max.toFixed(2)}
| manaCharge   = ${P.mana_charge_speed.toFixed(2)}
| capacity     = ${P.deck_capacity}
| spread       = ${P.spread_degrees}
| speed        = ${P.speed_multiplier.toFixed(2)}
| spells       = ${ne.join(",")}
}}`:te=ne.join(","),te!==void 0&&(await navigator.clipboard.writeText(te),se({msg:y?"":"",type:"success"}),y))){const ce={...P.spells},me={...P.spell_uses||{}};x.forEach(K=>{delete ce[K.toString()],delete me[K.toString()]}),yn(w,{spells:ce,spell_uses:me},"",ne.filter(K=>K))}},le=async y=>{var ce,me;const w=(await navigator.clipboard.readText()).trim();if(!w)return!1;const x=w.includes("{{Wand2"),O=w.includes("{{Wand")&&!x,T=x||O,P=w.includes(",")||Object.keys(o).some(K=>w.includes(K));if(!T&&!P)return!1;let V=y==null?void 0:y.slot,te=y==null?void 0:y.idx;if(!V&&Te.current){V=Te.current.wandSlot;const K=Te.current.idx;if(K<0){const re=-K-1,Se=(await navigator.clipboard.readText()).trim().split(",").map(Ce=>Ce.trim()).filter(Ce=>!!Ce);return Se.length>0?(fe(Ce=>{const Ae={...Ce},ve={...Ae[V]},ge=[...ve.always_cast||[]],be=re+(Te.current.isRightHalf?1:0);return ge.splice(be,0,...Se),ve.always_cast=ge,Ae[V]=ve,ie.isRealtime&&_t(V,ve),Ae},""),!0):!1}te=K+(Te.current.isRightHalf?1:0)}else!V&&bt.current&&(V=bt.current.wandSlot,te=Math.min(...bt.current.indices));if(!V||!te){if(T){const K=(Math.max(0,...Object.keys(ie.wands).map(Number))+1).toString(),re=ve=>{const ge=new RegExp(`\\|\\s*${ve}\\s*=\\s*([^|\\n}]+)`),be=w.match(ge);return be?be[1].trim():null},je={},Se=[];let Ce=0;if(x){const ve=re("spells");(ve?ve.split(",").map(xe=>xe.trim()):[]).forEach((xe,ke)=>{xe&&(je[(ke+1).toString()]=xe)}),Ce=parseInt(re("capacity")||"0")||Ge.deck_capacity;const be=re("alwaysCasts");be&&be.split(",").forEach(xe=>{const ke=xe.trim();ke&&Se.push(ke)})}else{Ce=parseInt(re("capacity")||"0")||Ge.deck_capacity;for(let ge=1;ge<=Math.max(Ce,100);ge++){const be=re(`spell${ge}`);if(be){const xe=be.toLowerCase().replace(/[^a-z0-9]/g,""),ke=X[xe];ke&&(je[ge.toString()]=ke)}}const ve=re("alwaysCasts");if(ve){const ge=ve.toLowerCase().replace(/[^a-z0-9]/g,""),be=X[ge];be&&Se.push(be)}}const Ae={...Ge,shuffle_deck_when_empty:((ce=re("shuffle"))==null?void 0:ce.toLowerCase())==="yes"||re("shuffle")==="true",actions_per_round:parseInt(re("spellsCast")||(x?"1":""))||parseInt(re("spellsPerCast")||"1")||Ge.actions_per_round,mana_max:parseFloat(re("manaMax")||"0")||Ge.mana_max,mana_charge_speed:parseFloat(re("manaCharge")||"0")||Ge.mana_charge_speed,reload_time:Math.round(parseFloat(re("rechargeTime")||"0")*60)||Ge.reload_time,fire_rate_wait:Math.round(parseFloat(re("castDelay")||"0")*60)||Ge.fire_rate_wait,deck_capacity:Ce,spread_degrees:parseFloat(re("spread")||"0")||Ge.spread_degrees,speed_multiplier:parseFloat(re("speed")||"1")||Ge.speed_multiplier,spells:je,always_cast:Se};return fe(ve=>({...ve,[K]:Ae}),` ( ${K})`),ie.isRealtime&&_t(K,Ae),r(ve=>ve.map(ge=>ge.id===s?{...ge,expandedWands:new Set([...ge.expandedWands,K])}:ge)),se({msg:e("app.notification.pasted_new_wand",{slot:K}),type:"success"}),!0}return!1}const ne=ie.wands[V]||{...Ge};if(T){const K=Ae=>{const ve=new RegExp(`\\|\\s*${Ae}\\s*=\\s*([^|\\n}]+)`),ge=w.match(ve);return ge?ge[1].trim():null},re={},je=[];let Se=ne.deck_capacity;if(x){const Ae=K("spells");(Ae?Ae.split(",").map(be=>be.trim()):[]).forEach((be,xe)=>{be&&(re[(xe+1).toString()]=be)}),Se=parseInt(K("capacity")||"0")||Se;const ge=K("alwaysCasts");ge&&ge.split(",").forEach(be=>{const xe=be.trim();xe&&je.push(xe)})}else{Se=parseInt(K("capacity")||"0")||Se;for(let ve=1;ve<=Math.max(Se,100);ve++){const ge=K(`spell${ve}`);if(ge){const be=ge.toLowerCase().replace(/[^a-z0-9]/g,""),xe=X[be];xe&&(re[ve.toString()]=xe)}}const Ae=K("alwaysCasts");if(Ae){const ve=Ae.toLowerCase().replace(/[^a-z0-9]/g,""),ge=X[ve];ge&&je.push(ge)}}const Ce={shuffle_deck_when_empty:((me=K("shuffle"))==null?void 0:me.toLowerCase())==="yes"||K("shuffle")==="true",actions_per_round:parseInt(K("spellsCast")||(x?"1":""))||parseInt(K("spellsPerCast")||"1")||ne.actions_per_round,mana_max:parseFloat(K("manaMax")||"0")||ne.mana_max,mana_charge_speed:parseFloat(K("manaCharge")||"0")||ne.mana_charge_speed,reload_time:Math.round(parseFloat(K("rechargeTime")||"0")*60)||ne.reload_time,fire_rate_wait:Math.round(parseFloat(K("castDelay")||"0")*60)||ne.fire_rate_wait,deck_capacity:Se,spread_degrees:parseFloat(K("spread")||"0")||ne.spread_degrees,speed_multiplier:parseFloat(K("speed")||"1")||ne.speed_multiplier,always_cast:je};return yn(V,{...Ce,spells:re},"",Object.values(re)),!0}else{const K=w.split(",").map(ke=>ke.trim()),re=[],je=Math.max(ne.deck_capacity,...Object.keys(ne.spells).map(Number));for(let ke=1;ke<=je;ke++)re.push(ne.spells[ke.toString()]||null);const Se=te-1;re[Se]===null?re.splice(Se,1):re[Se-1]===null&&(re.splice(Se-1,1),te--);const Ce=re.slice(0,te-1),Ae=re.slice(te-1),ve=[...Ce,...K,...Ae],ge={};ve.forEach((ke,it)=>{ke&&(ge[(it+1).toString()]=ke)});let be=ne.deck_capacity;const xe=ve.reduce((ke,it,jl)=>it!==null?jl+1:ke,0);return xe>ne.deck_capacity&&(b.autoExpandOnPaste||confirm(` (${xe} > ${ne.deck_capacity})`))&&(be=xe),yn(V,{spells:ge,deck_capacity:be},"",K.filter(ke=>ke)),!0}},we=()=>{var K;let y=(K=Te.current)==null?void 0:K.wandSlot,w=Te.current&&Te.current.idx>0?Te.current.idx+(Te.current.isRightHalf?1:0):null;if(!y&&bt.current&&(y=bt.current.wandSlot,w=Math.min(...bt.current.indices.filter(re=>re>0))),!y||w===null||w<=0)return;const x=ie.wands[y];if(!x)return;const O=[],T=Math.max(x.deck_capacity,...Object.keys(x.spells).map(Number));for(let re=1;re<=T;re++)O.push(x.spells[re.toString()]||null);const P=O.slice(0,w-1),V=O.slice(w-1),te=[...P,null,...V],ne={};te.forEach((re,je)=>{re&&(ne[(je+1).toString()]=re)});let ce=x.deck_capacity;const me=te.reduce((re,je,Se)=>je!==null?Se+1:re,0);me>x.deck_capacity&&(ce=me),yn(y,{spells:ne,deck_capacity:ce},"")};I.useEffect(()=>{const y=w=>{Ze&&ur({x:w.clientX,y:w.clientY})};return window.addEventListener("mousemove",y),()=>window.removeEventListener("mousemove",y)},[Ze]),I.useEffect(()=>{const y=()=>{cr(!1),Ze&&nn(null)},w=async x=>{var O,T;if((x.ctrlKey||x.metaKey)&&x.key==="v"&&await le()){x.preventDefault(),x.stopPropagation();return}if(!(x.target instanceof HTMLInputElement||x.target instanceof HTMLTextAreaElement)){if(x.ctrlKey||x.metaKey)if(x.key==="h")x.preventDefault(),N(P=>!P);else if(x.key==="b")x.preventDefault(),_(P=>!P);else if(x.key==="a"){const P=((O=bt.current)==null?void 0:O.wandSlot)||Object.keys(ie.wands).find(V=>ie.expandedWands.has(V));if(P){x.preventDefault();const V=ie.wands[P];if(V){const te=[];for(let ne=1;ne<=V.deck_capacity;ne++)te.push(ne);Kt({wandSlot:P,indices:te,startIdx:1})}}}else x.key==="c"?(x.preventDefault(),ue()):x.key==="x"?(x.preventDefault(),ue(!0)):x.key==="v"?(x.preventDefault(),le()):x.key;else if(x.key==="Delete"||x.key==="Backspace"){const P=bt.current,V=Te.current;let te=null,ne=[];if(P&&V&&V.wandSlot===P.wandSlot&&P.indices.includes(V.idx)?(te=P.wandSlot,ne=P.indices):V&&V.wandSlot?(te=V.wandSlot,ne=[V.idx]):P&&P.indices.length>0&&(te=P.wandSlot,ne=P.indices),te){x.preventDefault();const ce=ie.wands[te];if(ce)if(b.deleteEmptySlots&&x.key==="Delete"){const me=new Set(ne.filter(K=>K<=ce.deck_capacity));if(me.size>0){const K={},re={};let je=1;for(let Ce=1;Ce<=ce.deck_capacity;Ce++)me.has(Ce)||(ce.spells[Ce.toString()]&&(K[je.toString()]=ce.spells[Ce.toString()],((T=ce.spell_uses)==null?void 0:T[Ce.toString()])!==void 0&&(re[je.toString()]=ce.spell_uses[Ce.toString()])),je++);const Se=Math.max(1,ce.deck_capacity-me.size);yn(te,{spells:K,spell_uses:re,deck_capacity:Se},""),Kt(null)}}else{const me={...ce.spells},K={...ce.spell_uses||{}};ne.forEach(re=>{delete me[re],delete K[re]}),yn(te,{spells:me,spell_uses:K},"")}}}else x.key===" "&&(x.target instanceof HTMLInputElement||x.target instanceof HTMLTextAreaElement||(x.preventDefault(),we()));x.key==="Escape"&&Kt(null)}};return window.addEventListener("mouseup",y),window.addEventListener("keydown",w),()=>{window.removeEventListener("mouseup",y),window.removeEventListener("keydown",w)}},[ie,b,o]),I.useEffect(()=>{De();{d(!1);return}},[]),I.useEffect(()=>{const y=Object.values(o);if(y.length===0||p.current)return;console.log(`[Performance] Preloading ${y.length} spell icons...`);const w=setTimeout(()=>{let x=0;y.forEach(O=>{const T=new Image;T.onload=()=>{x++,x===y.length&&console.log(`[Performance] All ${y.length} icons preloaded and cached.`)},T.src=Be(O.icon)}),p.current=!0},1e3);return()=>clearTimeout(w)},[o]),I.useEffect(()=>{localStorage.setItem("twwe_settings",JSON.stringify(b))},[b]),I.useEffect(()=>{const y=n.map(w=>({...w,expandedWands:Array.from(w.expandedWands)}));localStorage.setItem("twwe_tabs",JSON.stringify(y))},[n]),I.useEffect(()=>{let y;return ie.isRealtime&&c&&(y=setInterval(st,1e3)),()=>clearInterval(y)},[s,ie.isRealtime,c]),I.useEffect(()=>{c&&!v.current&&(console.log("[Sync] Game connected/restarted. Clearing session cache and forcing pull..."),Q.current={},st(!0)),v.current=c},[c]);const De=async()=>{try{const w=await(await fetch("/api/fetch-spells")).json();if(w.success&&w.spells){const x={};Object.entries(w.spells).forEach(([O,T])=>{x[O]={...T,id:O}}),a(x);return}}catch{console.log("API fetch-spells failed, trying static...")}try{const w=await(await fetch("./static_data/spells.json")).json();a(w)}catch(y){console.error("Failed to fetch spells from anywhere:",y)}},st=async(y=!1)=>{if(!(!y&&Date.now()-g.current<3e3))try{const x=await(await fetch("/api/pull")).json();if(x.success){const O=x.wands,T=Q.current[s],P=ie.wands,V=T&&JSON.stringify(O)!==JSON.stringify(T),te=T&&JSON.stringify(P)!==JSON.stringify(T),ne=JSON.stringify(O)===JSON.stringify(P),ce=(me,K,re)=>{fe(()=>K,re,[],y),Q.current[me]=JSON.parse(JSON.stringify(K))};if(ne){Q.current[s]=JSON.parse(JSON.stringify(O));return}if(V&&te)if(b.conflictStrategy==="override_game")Object.entries(P).forEach(([me,K])=>_t(me,K)),Q.current[s]=JSON.parse(JSON.stringify(P)),se({msg:"",type:"success"});else if(b.conflictStrategy==="new_workflow"){const me=Date.now().toString();r(K=>[...K,{id:me,name:`[] ${ie.name}`,isRealtime:!1,wands:O,expandedWands:new Set(Object.keys(O)),past:[],future:[]}]),Q.current[s]=JSON.parse(JSON.stringify(P)),se({msg:"",type:"info"})}else de({tabId:s,gameWands:O});else if(te&&!V)ie.isRealtime&&Object.entries(P).forEach(([me,K])=>_t(me,K)),Q.current[s]=JSON.parse(JSON.stringify(P));else if(V&&!te){if(Date.now()-g.current<5e3)return;ce(s,O,"")}else T||ce(s,O,"")}}catch{}},dt=y=>{r(w=>w.map(x=>x.id===y?{...x,isRealtime:!x.isRealtime}:x))},kl=async()=>{if(!c){se({msg:"",type:"info"});return}const y=ie.wands,w=Object.entries(y);if(w.length!==0)try{for(const[x,O]of w)await fetch("/api/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slot:parseInt(x),delete:!1,...O})});se({msg:` ${w.length} `,type:"success"})}catch{se({msg:"",type:"info"})}},_t=async(y,w,x=!1)=>{if(!(!ie.isRealtime||!c))try{await fetch("/api/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slot:parseInt(y),delete:x,...w||{}})})}catch{}},yn=(y,w,x="",O)=>{g.current=Date.now(),fe(T=>{const V={...T[y]||{...Ge},...w};return ie.isRealtime&&_t(y,V),{...T,[y]:V}},x,O)},Tp=()=>{const y=Date.now().toString(),w={...Ge,...b.defaultWandStats},x={id:y,name:` ${n.length+1}`,isRealtime:!1,wands:{1:w},expandedWands:new Set(["1"]),past:[],future:[]};r([...n,x]),i(y)},$p=(y,w)=>{var x;w.stopPropagation(),!(n.length<=1)&&(r(O=>O.filter(T=>T.id!==y)),s===y&&i(((x=n.find(O=>O.id!==y))==null?void 0:x.id)||n[0].id))},Fp=()=>{const y=(Math.max(0,...Object.keys(ie.wands).map(Number))+1).toString(),w={...Ge,...b.defaultWandStats};g.current=Date.now(),fe(x=>({...x,[y]:w}),` ( ${y})`),ie.isRealtime&&_t(y,w),r(x=>x.map(O=>O.id===s?{...O,expandedWands:new Set([...O.expandedWands,y])}:O))},Dp=y=>{g.current=Date.now(),fe(w=>{const x={...w};return delete x[y],x},` ( ${y})`),ie.isRealtime&&_t(y,null,!0)},Ap=y=>{r(w=>w.map(x=>{if(x.id===s){const O=new Set(x.expandedWands);return O.has(y)?O.delete(y):O.add(y),{...x,expandedWands:O}}return x}))},Wp=async y=>{const w=ie.wands[y];if(w){const x=JSON.parse(JSON.stringify(w));_l({type:"wand",data:x});const O=`{{Wand2
| wandCard     = Yes
| wandPic      = 
| spellsCast   = ${w.actions_per_round}
| shuffle      = ${w.shuffle_deck_when_empty?"Yes":"No"}
| castDelay    = ${(w.fire_rate_wait/60).toFixed(2)}
| rechargeTime = ${(w.reload_time/60).toFixed(2)}
| manaMax      = ${w.mana_max.toFixed(2)}
| manaCharge   = ${w.mana_charge_speed.toFixed(2)}
| capacity     = ${w.deck_capacity}
| spread       = ${w.spread_degrees}
| speed        = ${w.speed_multiplier.toFixed(2)}
| spells       = ${Array.from({length:w.deck_capacity}).map((T,P)=>w.spells[(P+1).toString()]||"").join(",")}
}}`;try{await navigator.clipboard.writeText(O),se({msg:e("app.notification.copied_to_clipboard"),type:"success"})}catch(T){console.error("Clipboard error:",T)}}},Up=async y=>{var x;const w=ie.wands[y];if(w){let O=`{{Wand
| wandPic =
| capacity = ${w.deck_capacity}
| shuffle = ${w.shuffle_deck_when_empty?"Yes":"No"}
| spellsCast = ${w.actions_per_round}
| alwaysCasts = ${w.always_cast?w.always_cast.map(T=>{var P;return((P=o[T])==null?void 0:P.en_name)||T}).join(","):""}
`;for(let T=1;T<=w.deck_capacity;T++){const P=w.spells[T.toString()],V=P?((x=o[P])==null?void 0:x.en_name)||P:"";O+=`| spell${T} = ${V}
`}O+="}}";try{await navigator.clipboard.writeText(O),se({msg:"Wand",type:"success"})}catch(T){console.error("Clipboard error:",T)}}},Hp=y=>{(gn==null?void 0:gn.type)==="wand"&&yn(y,gn.data)},Vp=(y,w,x)=>{const O=x.currentTarget.getBoundingClientRect();mn({wandSlot:y,spellIdx:w,x:O.left,y:O.bottom+8}),Js(""),Qs(new Set)},Bp=y=>{if(!vt)return;const{wandSlot:w,spellIdx:x}=vt;console.log(`[Picker] Picking ${y} for wand ${w} index ${x}`),g.current=Date.now(),fe(O=>{const T=O[w]||{...Ge};if(x.startsWith("ac-")){const P=parseInt(x.split("-")[1]),V=[...T.always_cast||[]];y?P>=V.length?V.push(y):V[P]=y:V.splice(P,1);const te={...T,always_cast:V};return ie.isRealtime&&_t(w,te),{...O,[w]:te}}else{const P={...T.spells};y?P[x]=y:delete P[x];const V={...T,spells:P};return ie.isRealtime&&_t(w,V),{...O,[w]:V}}},y?"":` ${x}`,y?[y]:[]),mn(null)},Gp=()=>{const y={version:"1.0",timestamp:Date.now(),settings:b,tabs:n.map(T=>{const P={...T,expandedWands:Array.from(T.expandedWands)};return b.exportHistory||(P.past=[],P.future=[]),P})},w=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),x=URL.createObjectURL(w),O=document.createElement("a");O.href=x,O.download=`twwe_full_backup_${new Date().toISOString().split("T")[0]}.json`,O.click()},Kp=y=>{var O;const w=(O=y.target.files)==null?void 0:O[0];if(!w||!confirm(""))return;const x=new FileReader;x.onload=T=>{var P;try{const V=JSON.parse((P=T.target)==null?void 0:P.result);if(V.settings&&m(V.settings),V.tabs){const te=V.tabs.map(ne=>({...ne,expandedWands:new Set(ne.expandedWands)}));r(te),te.length>0&&i(te[0].id)}alert("")}catch{alert(": ")}},x.readAsText(w),y.target.value=""},Jp=y=>{var O;const w=(O=y.target.files)==null?void 0:O[0];if(!w)return;const x=new FileReader;x.onload=T=>{var P;try{const V=JSON.parse((P=T.target)==null?void 0:P.result),te=Date.now().toString(),ne=w.name.replace(".json",""),ce=V&&V.type==="twwe_workflow"&&V.wands,me=ce?V.wands:V,K=ce?V.past||[]:[],re=ce?V.future||[]:[];r(je=>[...je,{id:te,name:ce&&V.name||ne,isRealtime:!1,wands:me,expandedWands:new Set(Object.keys(me)),past:K,future:re}]),i(te)}catch{alert(": ")}},x.readAsText(w),y.target.value=""},fc=y=>{const w=y?n.find(V=>V.id===y):ie;if(!w)return;let x=w.wands;b.exportHistory&&(x={type:"twwe_workflow",name:w.name,wands:w.wands,past:w.past,future:w.future});const O=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),T=URL.createObjectURL(O),P=document.createElement("a");P.href=T,P.download=`wand_workflow_${w.name}.json`,P.click()};return l.jsxs("div",{className:"flex flex-col h-screen bg-zinc-950 overflow-hidden text-zinc-100 selection:bg-purple-500/30",children:[l.jsx(D0,{tabs:n,activeTabId:s,setActiveTabId:i,setTabs:r,setTabMenu:k,addNewTab:Tp,deleteTab:$p,pullData:st,pushData:kl,toggleSync:dt,addWand:Fp,clipboard:gn,activeTab:ie,performAction:fe,importWorkflow:Jp,exportWorkflow:fc,setIsSettingsOpen:F,isConnected:c,setIsWarehouseOpen:_}),l.jsxs("main",{className:"flex-1 flex overflow-hidden relative",children:[l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-black/40",children:[Object.entries(ie.wands).map(([y,w])=>l.jsx(G0,{slot:y,data:w,activeTab:ie,isConnected:c,spellDb:o,selection:wt,hoveredSlot:Wn,clipboard:gn,toggleExpand:Ap,deleteWand:Dp,copyWand:Wp,copyLegacyWand:Up,pasteWand:Hp,updateWand:yn,handleSlotMouseDown:R,handleSlotMouseUp:$,handleSlotMouseEnter:B,handleSlotMouseMove:G,handleSlotMouseLeave:Y,openPicker:Vp,setSelection:Kt,setSettings:m,evalData:h[`${ie.id}-${y}`],settings:b,onSaveToWarehouse:D},y)),Object.keys(ie.wands).length===0&&l.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-zinc-700 gap-4",children:[l.jsx(Cn,{size:32,className:"opacity-20 animate-pulse"}),l.jsx("p",{className:"font-black text-[10px] uppercase tracking-widest",children:e("tabs.waiting_data")})]})]}),l.jsx(X0,{pickerConfig:vt,onClose:()=>mn(null),pickerSearch:ar,setPickerSearch:Js,pickSpell:Bp,searchResults:z,spellStats:Xs,settings:b,pickerExpandedGroups:Gt,setPickerExpandedGroups:Qs,isConnected:c}),l.jsx(Q0,{isOpen:S,onClose:()=>F(!1),settings:b,setSettings:m,onImport:Kp,onExport:Gp}),j&&l.jsxs("div",{className:"fixed z-[200] w-48 bg-zinc-900 border border-white/10 rounded-lg shadow-2xl py-1 animate-in fade-in zoom-in duration-100",style:{top:j.y,left:j.x},onClick:y=>y.stopPropagation(),children:[l.jsx("div",{className:"px-3 py-1.5 border-b border-white/5 mb-1",children:l.jsx("span",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:e("tabs.workflow_options")})}),l.jsxs("button",{onClick:()=>{dt(j.tabId),k(null)},className:"w-full px-3 py-2 text-left text-xs text-zinc-300 hover:bg-white/5 flex items-center gap-2",children:[l.jsx(Cn,{size:12,className:(pc=n.find(y=>y.id===j.tabId))!=null&&pc.isRealtime?"text-green-500":"text-zinc-500"}),(hc=n.find(y=>y.id===j.tabId))!=null&&hc.isRealtime?e("tabs.off_sync"):e("tabs.on_sync")]}),l.jsxs("button",{onClick:()=>{const y=n.find(x=>x.id===j.tabId),w=prompt(e("app.notification.renamed_workflow"),y==null?void 0:y.name);w&&r(x=>x.map(O=>O.id===j.tabId?{...O,name:w}:O)),k(null)},className:"w-full px-3 py-2 text-left text-xs text-zinc-300 hover:bg-white/5 flex items-center gap-2",children:[l.jsx(ac,{size:12,className:"text-zinc-500"})," ",e("tabs.rename")]}),l.jsxs("button",{onClick:()=>{fc(j.tabId),k(null)},className:"w-full px-3 py-2 text-left text-xs text-zinc-300 hover:bg-white/5 flex items-center gap-2",children:[l.jsx(Bn,{size:12,className:"text-zinc-500"})," ",e("tabs.export_json")]}),l.jsx("div",{className:"h-px bg-white/5 my-1"}),l.jsxs("button",{onClick:()=>{_(!0),k(null)},className:"w-full px-3 py-2 text-left text-xs text-zinc-300 hover:bg-white/5 flex items-center justify-between group",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(As,{size:12,className:"text-indigo-400"})," ",e("tabs.open_warehouse")]}),l.jsx("span",{className:"text-[9px] text-zinc-500 font-mono group-hover:text-zinc-400",children:"Ctrl+B"})]}),l.jsxs("button",{onClick:()=>{N(!0),k(null)},className:"w-full px-3 py-2 text-left text-xs text-zinc-300 hover:bg-white/5 flex items-center justify-between group",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hp,{size:12,className:"text-indigo-400"})," ",e("tabs.open_history")]}),l.jsx("span",{className:"text-[9px] text-zinc-500 font-mono group-hover:text-zinc-400",children:"Ctrl+H"})]}),l.jsxs("button",{onClick:()=>{confirm(e("tabs.clear_history_confirm"))&&r(y=>y.map(w=>w.id===j.tabId?{...w,past:[],future:[]}:w)),k(null)},className:"w-full px-3 py-2 text-left text-xs text-red-400 hover:bg-red-400/10 flex items-center gap-2",children:[l.jsx(rr,{size:12})," ",e("tabs.clear_history")]})]}),l.jsx(Y0,{conflict:ee,activeTab:ie,onResolve:y=>{if(y==="web")Object.entries(ie.wands).forEach(([w,x])=>_t(w,x)),Q.current[ee.tabId]=JSON.parse(JSON.stringify(ie.wands)),de(null);else if(y==="game")fe(()=>ee.gameWands,": "),Q.current[ee.tabId]=JSON.parse(JSON.stringify(ee.gameWands)),de(null);else if(y==="both"){const w=Date.now().toString();r(x=>[...x,{id:w,name:`[] ${ie.name}`,isRealtime:!1,wands:ee.gameWands,expandedWands:new Set(Object.keys(ee.gameWands)),past:[],future:[]}]),Q.current[ee.tabId]=JSON.parse(JSON.stringify(ie.wands)),de(null)}}}),l.jsx(K0,{isOpen:L,onClose:()=>N(!1),activeTab:ie,spellDb:o,onJumpPast:yt,onJumpFuture:$t,onUndo:Ye,onRedo:Xe,isConnected:c}),l.jsx(Sx,{isOpen:E,onClose:()=>_(!1),spellDb:o,wands:C,setWands:W,folders:M,setFolders:A,smartTags:H,setSmartTags:Z,settings:b,isConnected:c,onImportWand:y=>{const w=(Math.max(0,...Object.keys(ie.wands).map(Number))+1).toString();fe(x=>({...x,[w]:{...y}}),` (${y.name})`),r(x=>x.map(O=>O.id===s?{...O,expandedWands:new Set([...O.expandedWands,w])}:O)),ie.isRealtime&&_t(w,y),se({msg:`: ${y.name}`,type:"success"})}})]}),l.jsx(A0,{isConnected:c,activeTab:ie,tabsCount:n.length,notification:J}),Ze&&o[Ze.sid]&&l.jsx("div",{className:"fixed pointer-events-none z-[1000] w-12 h-12",style:{left:Jr.x+5,top:Jr.y+5},children:l.jsx("img",{src:Be(o[Ze.sid].icon),className:"w-full h-full image-pixelated border-2 border-indigo-500 rounded bg-zinc-900/80 shadow-2xl animate-pulse",alt:""})})]})}const{slice:zx,forEach:Ex}=[];function Lx(e){return Ex.call(zx.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function Ox(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const Xu=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Px=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let i=`${e}=${s}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!Xu.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!Xu.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},Zu={create(e,t,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=Px(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Ix={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return Zu.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=t;n&&typeof document<"u"&&Zu.create(n,e,r,s,i)}},Mx={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const o=s.substring(1).split("&");for(let a=0;a<o.length;a++){const c=o[a].indexOf("=");c>0&&o[a].substring(0,c)===t&&(n=o[a].substring(c+1))}}return n}},Rx={name:"hash",lookup(e){var s;let{lookupHash:t,lookupFromHashIndex:n}=e,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const o=i.substring(1);if(t){const a=o.split("&");for(let c=0;c<a.length;c++){const d=a[c].indexOf("=");d>0&&a[c].substring(0,d)===t&&(r=a[c].substring(d+1))}}if(r)return r;if(!r&&n>-1){const a=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?(s=a[typeof n=="number"?n:0])==null?void 0:s.replace("/",""):void 0}}}return r}};let mr=null;const qu=()=>{if(mr!==null)return mr;try{if(mr=typeof window<"u"&&window.localStorage!==null,!mr)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{mr=!1}return mr};var Tx={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&qu())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&qu()&&window.localStorage.setItem(n,e)}};let gr=null;const ed=()=>{if(gr!==null)return gr;try{if(gr=typeof window<"u"&&window.sessionStorage!==null,!gr)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{gr=!1}return gr};var $x={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&ed())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&ed()&&window.sessionStorage.setItem(n,e)}},Fx={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)t.push(n[i]);r&&t.push(r),s&&t.push(s)}return t.length>0?t:void 0}},Dx={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Ax={name:"path",lookup(e){var s;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(s=n[typeof t=="number"?t:0])==null?void 0:s.replace("/",""):void 0}},Wx={name:"subdomain",lookup(e){var s,i;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((i=(s=window.location)==null?void 0:s.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let Ip=!1;try{document.cookie,Ip=!0}catch{}const Mp=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Ip||Mp.splice(1,1);const Ux=()=>({order:Mp,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class Rp{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=Lx(n,this.options||{},Ux()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Ix),this.addDetector(Mx),this.addDetector(Tx),this.addDetector($x),this.addDetector(Fx),this.addDetector(Dx),this.addDetector(Ax),this.addDetector(Wx),this.addDetector(Rx)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!Ox(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}Rp.type="languageDetector";const Hx={title:"TWWE",notification:{saved_to_warehouse:"Saved to warehouse: {{name}}",pasted_new_wand:"Pasted as new wand from clipboard (Slot {{slot}})",copied_to_clipboard:"Copied to clipboard",cut_to_clipboard:"Cut to clipboard",exported_workflow:"Workflow exported",pushed_to_game:"Pushed {{count}} wands from current workflow to game",renamed_workflow:"Rename workflow:",enter_wand_name:"Enter wand name",my_wand:"My Wand",set_charges_0:"Modify charges: Set to 0",restore_charges:"Modify charges: Restore default"}},Vx={new_wand:"New Wand",import:"Import",export:"Export",warehouse:"Wand Warehouse",history:"History"},Bx={realtime:"Game Sync",sandbox:"Sandbox",new_workflow:"New Workflow",sync_saved:"[Sync Save] {{name}}",backup:"[Backup] {{name}}",waiting_data:"Waiting for data sync or add a wand to this workflow...",empty_wand:"Empty Wand",workflow_options:"Workflow Options",rename:"Rename",export_json:"Export this workflow (.json)",open_warehouse:"Open Wand Warehouse",open_history:"Open History Panel",clear_history:"Clear History",clear_history_confirm:"Are you sure you want to clear all history? (Cannot be undone)",off_sync:"Turn off auto-sync",on_sync:"Turn on auto-sync",manual:"Manual"},Gx={overall_counts:"Overall Spell Counts",shot_states:"Shot States",execution_flow:"Execution Flow (Recursive Tree)",nodes_count:"Nodes",auto_folded:"Auto-folded",repeat_merged:"Merged",expand_all_details:"Expand all {{count}} casts",expand_all_trees:"Expand all {{count}} trees",collapse_preview:"Collapse to preview",cast_stats:"Cast Stats",stage:"Stage {{id}}"},Kx={title:"Settings",categories:{general:"General",appearance:"Appearance",wand:"Wand",cast:"Cast Parameters",spell_types:"Spell Types",sync:"Sync",data:"Data"},language:"Language",common_limit:"Common Statistics Limit",category_limit:"Category Preview Limit",wrap_limit:"Items per Row Limit",picker_row_height:"Picker Row Height",warehouse_folder_height:"Warehouse Folder Max Height",warehouse_folder_height_desc:"* Set to 0 for unlimited folder height",unlimit:"Unlimited",editor_spell_gap:"Spell Slot Gap",hide_labels:"Hide Picker Group Labels",hide_labels_desc:"Hide 'Common Statistics' and category names in the spell picker for a more compact interface.",show_stats_in_frames:"Show time in Frames (1/60s)",show_stats_in_frames_desc:"Show cast delay and recharge time in frames (1/60s) instead of seconds.",show_legacy_wand_button:"Show Legacy Wand Copy Button",show_legacy_wand_button_desc:"Show a 'W' button on wand cards to copy in the old {{Wand}} template format for the Wiki.",delete_empty_slots:"Delete Key removes empty slots",delete_empty_slots_desc:"When pressing Delete, if the slot is already empty, directly remove the slot (reduce capacity).",default_wand_stats:"Default Wand Stats",unlimited_spells:"Unlimited Spells Perk",unlimited_spells_desc:"Simulate having the 'Unlimited Spells' perk. Note: Black Hole, Healing Bolt, etc., still have limited charges. (Due to a current bug, you must Alt+Left Click to set charges for these non-unlimited spells regardless of this setting)",initial_if_half:"Initial IF_HALF State (Triggered)",initial_if_half_desc:"When enabled, the first cast will not skip spells after IF_HALF; when disabled, it will skip. (New games default to not skipping on the first use)",simulate_low_hp:"Env: Low HP (<25%)",simulate_low_hp_desc:"Used for IF_HP; simulates the condition where HP is less than 25%.",simulate_many_enemies:"Env: Surrounded (>15 Enemies)",simulate_many_enemies_desc:"Used for IF_ENEMY; simulates more than 15 enemies nearby.",simulate_many_projectiles:"Env: Dense Projectiles",simulate_many_projectiles_desc:"Used for IF_PROJECTILE; simulates more than 20 projectiles nearby.",show_spell_charges:"Show Spell Charges",show_spell_charges_desc:"Show usage counts in the editor. Set to 0 to always show. (Note: Evaluation does not deduct charges; it only considers unlimited or 0 charges)",num_casts:"Evaluation Casts",num_casts_desc:"Simulates multiple clicks; mana consumption may cause different results per round.",auto_hide_threshold:"Tree Auto-hide Threshold",auto_hide_threshold_desc:"If the complexity of the first Cast exceeds this node count, subsequent Casts will be folded by default.",group_identical_casts:"Group Identical Casts",group_identical_casts_desc:"Merge consecutive casts with identical results to simplify the list.",fold_nodes:"Node Folding",fold_nodes_desc:"Merge consecutive identical nodes in the tree (e.g., x5). Disable this to see each individual spell, making marking easier.",show_indices:"Show Spell Slot Indices",show_indices_desc:"Display the index number (1, 2, 3...) at the bottom right of each spell slot. Holding ALT will temporarily show them even if disabled.",conflict_strategy:"Conflict Strategy",conflict_ask:"Ask Me",conflict_override:"Web First",conflict_new:"Save as New Workflow",data_backup:"Data Backup",export_history:"Export with History",export_history_desc:"Save undo/redo history along with the workflow data.",import_json:"Import JSON",export_backup:"Export Backup",spell_type_colors:"Spell Type Colors",spell_group_management:"Spell Group Management",add_group:"Add Group",new_group_default_name:"New Group",contains_types:"Contains Types",search_placeholder:"Search settings...",no_results:"No results found"},Jx={title:"Wand Warehouse",search_placeholder:"Search wands...",new_folder:"New Folder",sort_by_date:"Sort by Date",sort_by_name:"Sort by Name",folders:"Folders",root_folder:"All Wands (Root)",manage_smart_tags:"Manage Smart Tags",empty_folder:"This folder is empty",loading_more:"Loading more...",import_wand_editor:"Import Wand Editor",import_spell_lab:"Import Spell Lab",restore:"Restore",backup:"Backup",rename_wand:"Rename Wand",add_tag:"Add Tag",delete_wand_confirm:"Are you sure you want to delete this wand?",delete_folder_confirm:"Are you sure you want to delete this folder? (Wands inside will move to root)",rename_folder:"Rename Folder",new_subfolder:"New Subfolder",delete:"Delete",smart_tags_title:"Smart Tag Management",new_smart_tag:"New Smart Tag",no_smart_tags:"No smart tags yet, click button above to create",edit_smart_tag:"Edit Smart Tag",tag_name:"Tag Name",match_mode:"Match Mode",strict_order:"Strict Order",contains:"Contains",spell_combination:"Spell Combination (Edit like a wand)",search_spells:"Search and click to add spells...",save_smart_tag:"Save Smart Tag",cancel:"Cancel",import_success:"Successfully imported {{count}} wands",backup_detected:`Backup file detected.
Contains {{wandCount}} wands, {{folderCount}} folders.

Merge into current warehouse? (Click 'Cancel' to overwrite current warehouse)`,all_wands:"{{count}} Wands"},Qx={title:"History",no_records:"No records found",current_state:"Current State",latest_version:"Latest Working Version",undo:"Undo (Ctrl+Z)",redo:"Redo (Ctrl+Y)",scope_info:"History is per-workflow only",close:"Close Panel"},Yx={title:"Sync Conflict Detected",description:"You modified wands on the web while offline, and game data also changed. Please choose how to proceed:",use_web:"Use Web Changes (Overwrite Game)",use_web_desc:"Forcibly sync your current edits to the game",use_game:"Use Game Data (Discard Web Edits)",use_game_desc:"Discard your recent web edits and pull the latest game state",use_both:"Keep Both (Save as new Workflow)",use_both_desc:"Keep web edits and save game data as a new tab"},Xx={title:"Operation Guide & Shortcuts",subtitle:"Shortcuts & Operation Guide",categories:{basic:"Basic Editing",mouse:"Mouse Operations",advanced:"Advanced Features",tips:"Evaluator Tips"},shortcuts:{copy_paste:"Copy, paste, or cut selected spells",select_all:"Select all spells in the current wand",undo_redo:"Undo or redo actions",delete:"Delete selected spells",insert_slot:"Insert an empty slot at the selection",remove_slot:"Remove slot when pressing on empty (if enabled)",select_toggle:"Select or deselect a spell",box_select:"Box-select multiple spells",move_spells:"Move selected spells (grab and drop)",to_always_cast:"Convert spell to 'Always Cast'",modify_uses:"Modify spell charges (set to 0 to simulate drained)",show_indices:"Temporarily show all slot indices",toggle_warehouse:"Quickly open/close wand warehouse",toggle_history:"Quickly open/close history panel"},tips:{triggered:"Red Triangle: Indicates environment simulations (IF_HP, IF_PROJECTILE, IF_ENEMY) are set to triggered (not skipped).",skipped:"Grayscale Icon: Indicates the spell is out of charges or was skipped due to conditions.",rounds:"The number of evaluation rounds can be adjusted in 'Cast Parameters' (default is 3)."},button:"Shortcuts Guide"},Zx={app:Hx,nav:Vx,tabs:Bx,evaluator:Gx,settings:Kx,warehouse:Jx,history:Qx,conflict:Yx,guide:Xx},qx={title:"TWWE",notification:{saved_to_warehouse:": {{name}}",pasted_new_wand:" ( {{slot}})",copied_to_clipboard:"",cut_to_clipboard:"",exported_workflow:"",pushed_to_game:" {{count}} ",renamed_workflow:":",enter_wand_name:"",my_wand:"",set_charges_0:":  0",restore_charges:": "}},ey={new_wand:"",import:"",export:"",warehouse:"",history:""},ty={realtime:"",sandbox:"",new_workflow:"",sync_saved:"[] {{name}}",backup:"[] {{name}}",waiting_data:"...",empty_wand:"",workflow_options:"",rename:"",export_json:" (.json)",open_warehouse:"",open_history:"",clear_history:"",clear_history_confirm:"()",off_sync:"",on_sync:"",manual:""},ny={overall_counts:"",shot_states:"",execution_flow:" ()",nodes_count:"",auto_folded:"",repeat_merged:"",expand_all_details:" {{count}} ",expand_all_trees:" {{count}} ",collapse_preview:"",cast_stats:"",stage:" {{id}} "},ry={title:"Settings",categories:{general:"",appearance:"",wand:"",cast:"",spell_types:"",sync:"",data:""},language:" (Language)",common_limit:"",category_limit:"",wrap_limit:"",picker_row_height:"",warehouse_folder_height:"",warehouse_folder_height_desc:"*  0 ",unlimit:"",editor_spell_gap:"",hide_labels:"",hide_labels_desc:"",show_stats_in_frames:" (Frames)",show_stats_in_frames_desc:" (1/60s) ",show_legacy_wand_button:"Wand (Legacy)",show_legacy_wand_button_desc:" W  Wiki  {{Wand}} ",delete_empty_slots:"Delete ",delete_empty_slots_desc:" Delete ",default_wand_stats:"",unlimited_spells:" (Unlimited Spells)",unlimited_spells_desc:"(bug,,ALT+  )",initial_if_half:"IF_HALF  ()",initial_if_half_desc:" IF_HALF ()",simulate_low_hp:":  (25%)",simulate_low_hp_desc:" IF_HP, 25%, ",simulate_many_enemies:":  (15)",simulate_many_enemies_desc:" IF_ENEMY, 15, ",simulate_many_projectiles:": ",simulate_many_projectiles_desc:" IF_PROJECTILE, 20, ",show_spell_charges:" (Charges)",show_spell_charges_desc:"   0 (,,0)",num_casts:" (Casts)",num_casts_desc:"",auto_hide_threshold:"",auto_hide_threshold_desc:" Cast  Cast ",group_identical_casts:" (Group Identical Casts)",group_identical_casts_desc:"",fold_nodes:" (Node Folding)",fold_nodes_desc:" x5",show_indices:"",show_indices_desc:" (1, 2, 3...) ALT ",conflict_strategy:"",conflict_ask:"",conflict_override:"",conflict_new:"",data_backup:"",export_history:"",export_history_desc:"/",import_json:" JSON",export_backup:"",spell_type_colors:"",spell_group_management:"",add_group:"",new_group_default_name:"",contains_types:"",search_placeholder:"...",no_results:""},sy={title:"",search_placeholder:"...",new_folder:"",sort_by_date:"",sort_by_name:"",folders:"",root_folder:" ()",manage_smart_tags:"",empty_folder:"",loading_more:"...",import_wand_editor:" Wand Editor",import_spell_lab:" Spell Lab",restore:"",backup:"",rename_wand:"",add_tag:"",delete_wand_confirm:"",delete_folder_confirm:" ()",rename_folder:"",new_subfolder:"",delete:"",smart_tags_title:"",new_smart_tag:"",no_smart_tags:"",edit_smart_tag:"",tag_name:"",match_mode:"",strict_order:" (Strict Order)",contains:" (Contains)",spell_combination:" ()",search_spells:"...",save_smart_tag:"",cancel:"",import_success:" {{count}} ",backup_detected:`
 {{wandCount}} {{folderCount}} 

()`,all_wands:"{{count}} "},iy={title:"",no_records:"",current_state:"",latest_version:"",undo:" (Ctrl+Z)",redo:" (Ctrl+Y)",scope_info:"",close:""},ly={title:"",description:"",use_web:" ()",use_web_desc:"",use_game:" ()",use_game_desc:"",use_both:" ()",use_both_desc:""},oy={title:"",subtitle:"Shortcuts & Operation Guide",categories:{basic:"",mouse:"",advanced:"",tips:""},shortcuts:{copy_paste:"",select_all:"",undo_redo:"",delete:"",insert_slot:"",remove_slot:" ()",select_toggle:"",box_select:"",move_spells:" ()",to_always_cast:"",modify_uses:" ( 0 )",show_indices:"",toggle_warehouse:"/",toggle_history:"/"},tips:{triggered:"(IF_HP, IF_PROJECTILE, IF_ENEMY)",skipped:"",rounds:" 3"},button:""},ay={app:qx,nav:ey,tabs:ty,evaluator:ny,settings:ry,warehouse:sy,history:iy,conflict:ly,guide:oy};ut.use(Rp).use(k0).init({resources:{en:{translation:Zx},zh:{translation:ay}},fallbackLng:"zh",interpolation:{escapeValue:!1},react:{useSuspense:!1}});so.createRoot(document.getElementById("root")).render(l.jsx(qt.StrictMode,{children:l.jsx(Cx,{})}));
