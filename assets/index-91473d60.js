(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ru={exports:{}},Ts={},lu={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),Up=Symbol.for("react.portal"),Hp=Symbol.for("react.fragment"),Vp=Symbol.for("react.strict_mode"),Bp=Symbol.for("react.profiler"),Gp=Symbol.for("react.provider"),Qp=Symbol.for("react.context"),Jp=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Yp=Symbol.for("react.memo"),Xp=Symbol.for("react.lazy"),Ua=Symbol.iterator;function Zp(e){return e===null||typeof e!="object"?null:(e=Ua&&e[Ua]||e["@@iterator"],typeof e=="function"?e:null)}var su={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iu=Object.assign,ou={};function Lr(e,t,n){this.props=e,this.context=t,this.refs=ou,this.updater=n||su}Lr.prototype.isReactComponent={};Lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function au(){}au.prototype=Lr.prototype;function Oo(e,t,n){this.props=e,this.context=t,this.refs=ou,this.updater=n||su}var To=Oo.prototype=new au;To.constructor=Oo;iu(To,Lr.prototype);To.isPureReactComponent=!0;var Ha=Array.isArray,cu=Object.prototype.hasOwnProperty,Ro={current:null},uu={key:!0,ref:!0,__self:!0,__source:!0};function du(e,t,n){var r,l={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)cu.call(t,r)&&!uu.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),m=0;m<a;m++)c[m]=arguments[m+2];l.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:bl,type:e,key:i,ref:o,props:l,_owner:Ro.current}}function qp(e,t){return{$$typeof:bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $o(e){return typeof e=="object"&&e!==null&&e.$$typeof===bl}function ef(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Va=/\/+/g;function ei(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ef(""+e.key):t.toString(36)}function Xl(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bl:case Up:o=!0}}if(o)return o=e,l=l(o),e=r===""?"."+ei(o,0):r,Ha(l)?(n="",e!=null&&(n=e.replace(Va,"$&/")+"/"),Xl(l,t,n,"",function(m){return m})):l!=null&&($o(l)&&(l=qp(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Va,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=r===""?".":r+":",Ha(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+ei(i,a);o+=Xl(i,t,n,c,l)}else if(c=Zp(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+ei(i,a++),o+=Xl(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Pl(e,t,n){if(e==null)return e;var r=[],l=0;return Xl(e,r,"","",function(i){return t.call(n,i,l++)}),r}function tf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},Zl={transition:null},nf={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Zl,ReactCurrentOwner:Ro};function pu(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Pl,forEach:function(e,t,n){Pl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pl(e,function(){t++}),t},toArray:function(e){return Pl(e,function(t){return t})||[]},only:function(e){if(!$o(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Lr;oe.Fragment=Hp;oe.Profiler=Bp;oe.PureComponent=Oo;oe.StrictMode=Vp;oe.Suspense=Kp;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nf;oe.act=pu;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=iu({},e.props),l=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ro.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)cu.call(t,c)&&!uu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var m=0;m<c;m++)a[m]=arguments[m+2];r.children=a}return{$$typeof:bl,type:e.type,key:l,ref:i,props:r,_owner:o}};oe.createContext=function(e){return e={$$typeof:Qp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gp,_context:e},e.Consumer=e};oe.createElement=du;oe.createFactory=function(e){var t=du.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:Jp,render:e}};oe.isValidElement=$o;oe.lazy=function(e){return{$$typeof:Xp,_payload:{_status:-1,_result:e},_init:tf}};oe.memo=function(e,t){return{$$typeof:Yp,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Zl.transition;Zl.transition={};try{e()}finally{Zl.transition=t}};oe.unstable_act=pu;oe.useCallback=function(e,t){return lt.current.useCallback(e,t)};oe.useContext=function(e){return lt.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};oe.useEffect=function(e,t){return lt.current.useEffect(e,t)};oe.useId=function(){return lt.current.useId()};oe.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return lt.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};oe.useRef=function(e){return lt.current.useRef(e)};oe.useState=function(e){return lt.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return lt.current.useTransition()};oe.version="18.3.1";lu.exports=oe;var I=lu.exports;const Do=Wp(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=I,lf=Symbol.for("react.element"),sf=Symbol.for("react.fragment"),of=Object.prototype.hasOwnProperty,af=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cf={key:!0,ref:!0,__self:!0,__source:!0};function fu(e,t,n){var r,l={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)of.call(t,r)&&!cf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:lf,type:e,key:i,ref:o,props:l,_owner:af.current}}Ts.Fragment=sf;Ts.jsx=fu;Ts.jsxs=fu;ru.exports=Ts;var s=ru.exports,_i={},mu={exports:{}},jt={},hu={exports:{}},xu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,B){var q=$.length;$.push(B);e:for(;0<q;){var ne=q-1>>>1,me=$[ne];if(0<l(me,B))$[ne]=B,$[q]=me,q=ne;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var B=$[0],q=$.pop();if(q!==B){$[0]=q;e:for(var ne=0,me=$.length,ve=me>>>1;ne<ve;){var pt=2*(ne+1)-1,Ft=$[pt],Me=pt+1,ft=$[Me];if(0>l(Ft,q))Me<me&&0>l(ft,Ft)?($[ne]=ft,$[Me]=q,ne=Me):($[ne]=Ft,$[pt]=q,ne=pt);else if(Me<me&&0>l(ft,q))$[ne]=ft,$[Me]=q,ne=Me;else break e}}return B}function l($,B){var q=$.sortIndex-B.sortIndex;return q!==0?q:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],m=[],k=1,p=null,h=3,b=!1,N=!1,S=!1,F=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d($){for(var B=n(m);B!==null;){if(B.callback===null)r(m);else if(B.startTime<=$)r(m),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(m)}}function w($){if(S=!1,d($),!N)if(n(c)!==null)N=!0,Re(x);else{var B=n(m);B!==null&&He(w,B.startTime-$)}}function x($,B){N=!1,S&&(S=!1,f(R),R=-1),b=!0;var q=h;try{for(d(B),p=n(c);p!==null&&(!(p.expirationTime>B)||$&&!V());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,h=p.priorityLevel;var me=ne(p.expirationTime<=B);B=e.unstable_now(),typeof me=="function"?p.callback=me:p===n(c)&&r(c),d(B)}else r(c);p=n(c)}if(p!==null)var ve=!0;else{var pt=n(m);pt!==null&&He(w,pt.startTime-B),ve=!1}return ve}finally{p=null,h=q,b=!1}}var C=!1,_=null,R=-1,te=5,H=-1;function V(){return!(e.unstable_now()-H<te)}function A(){if(_!==null){var $=e.unstable_now();H=$;var B=!0;try{B=_(!0,$)}finally{B?ee():(C=!1,_=null)}}else C=!1}var ee;if(typeof u=="function")ee=function(){u(A)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ue=ce.port2;ce.port1.onmessage=A,ee=function(){ue.postMessage(null)}}else ee=function(){F(A,0)};function Re($){_=$,C||(C=!0,ee())}function He($,B){R=F(function(){$(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){N||b||(N=!0,Re(x))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var q=h;h=B;try{return $()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=h;h=$;try{return B()}finally{h=q}},e.unstable_scheduleCallback=function($,B,q){var ne=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ne+q:ne):q=ne,$){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=q+me,$={id:k++,callback:B,priorityLevel:$,startTime:q,expirationTime:me,sortIndex:-1},q>ne?($.sortIndex=q,t(m,$),n(c)===null&&$===n(m)&&(S?(f(R),R=-1):S=!0,He(w,q-ne))):($.sortIndex=me,t(c,$),N||b||(N=!0,Re(x))),$},e.unstable_shouldYield=V,e.unstable_wrapCallback=function($){var B=h;return function(){var q=h;h=B;try{return $.apply(this,arguments)}finally{h=q}}}})(xu);hu.exports=xu;var uf=hu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=I,wt=uf;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gu=new Set,ll={};function Kn(e,t){kr(e,t),kr(e+"Capture",t)}function kr(e,t){for(ll[e]=t,e=0;e<t.length;e++)gu.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ei=Object.prototype.hasOwnProperty,pf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ba={},Ga={};function ff(e){return Ei.call(Ga,e)?!0:Ei.call(Ba,e)?!1:pf.test(e)?Ga[e]=!0:(Ba[e]=!0,!1)}function mf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hf(e,t,n,r){if(t===null||typeof t>"u"||mf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fo=/[\-:]([a-z])/g;function Ao(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fo,Ao);Je[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fo,Ao);Je[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fo,Ao);Je[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wo(e,t,n,r){var l=Je.hasOwnProperty(t)?Je[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hf(t,n,l,r)&&(n=null),r||l===null?ff(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sn=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Il=Symbol.for("react.element"),rr=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),Uo=Symbol.for("react.strict_mode"),Li=Symbol.for("react.profiler"),vu=Symbol.for("react.provider"),yu=Symbol.for("react.context"),Ho=Symbol.for("react.forward_ref"),Mi=Symbol.for("react.suspense"),Pi=Symbol.for("react.suspense_list"),Vo=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),wu=Symbol.for("react.offscreen"),Qa=Symbol.iterator;function Tr(e){return e===null||typeof e!="object"?null:(e=Qa&&e[Qa]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,ti;function Br(e){if(ti===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ti=t&&t[1]||""}return`
`+ti+e}var ni=!1;function ri(e,t){if(!e||ni)return"";ni=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),i=r.stack.split(`
`),o=l.length-1,a=i.length-1;1<=o&&0<=a&&l[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==i[a]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{ni=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Br(e):""}function xf(e){switch(e.tag){case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 2:case 15:return e=ri(e.type,!1),e;case 11:return e=ri(e.type.render,!1),e;case 1:return e=ri(e.type,!0),e;default:return""}}function Ii(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lr:return"Fragment";case rr:return"Portal";case Li:return"Profiler";case Uo:return"StrictMode";case Mi:return"Suspense";case Pi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yu:return(e.displayName||"Context")+".Consumer";case vu:return(e._context.displayName||"Context")+".Provider";case Ho:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vo:return t=e.displayName||null,t!==null?t:Ii(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return Ii(e(t))}catch{}}return null}function gf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ii(t);case 8:return t===Uo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ju(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vf(e){var t=ju(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ol(e){e._valueTracker||(e._valueTracker=vf(e))}function ku(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ju(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oi(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ja(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bu(e,t){t=t.checked,t!=null&&Wo(e,"checked",t,!1)}function Ti(e,t){bu(e,t);var n=_n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ri(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ri(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ka(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ri(e,t,n){(t!=="number"||us(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gr=Array.isArray;function xr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function $i(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ya(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(Gr(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_n(n)}}function Nu(e,t){var n=_n(t.value),r=_n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Su(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Di(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Su(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tl,Cu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tl=Tl||document.createElement("div"),Tl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yf=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(e){yf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kr[t]=Kr[e]})});function zu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kr.hasOwnProperty(e)&&Kr[e]?(""+t).trim():t+"px"}function _u(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=zu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var wf=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fi(e,t){if(t){if(wf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Ai(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wi=null;function Bo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ui=null,gr=null,vr=null;function Za(e){if(e=Cl(e)){if(typeof Ui!="function")throw Error(T(280));var t=e.stateNode;t&&(t=As(t),Ui(e.stateNode,e.type,t))}}function Eu(e){gr?vr?vr.push(e):vr=[e]:gr=e}function Lu(){if(gr){var e=gr,t=vr;if(vr=gr=null,Za(e),t)for(e=0;e<t.length;e++)Za(t[e])}}function Mu(e,t){return e(t)}function Pu(){}var li=!1;function Iu(e,t,n){if(li)return e(t,n);li=!0;try{return Mu(e,t,n)}finally{li=!1,(gr!==null||vr!==null)&&(Pu(),Lu())}}function il(e,t){var n=e.stateNode;if(n===null)return null;var r=As(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Hi=!1;if(tn)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{Hi=!1}function jf(e,t,n,r,l,i,o,a,c){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(k){this.onError(k)}}var Yr=!1,ds=null,ps=!1,Vi=null,kf={onError:function(e){Yr=!0,ds=e}};function bf(e,t,n,r,l,i,o,a,c){Yr=!1,ds=null,jf.apply(kf,arguments)}function Nf(e,t,n,r,l,i,o,a,c){if(bf.apply(this,arguments),Yr){if(Yr){var m=ds;Yr=!1,ds=null}else throw Error(T(198));ps||(ps=!0,Vi=m)}}function Yn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ou(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qa(e){if(Yn(e)!==e)throw Error(T(188))}function Sf(e){var t=e.alternate;if(!t){if(t=Yn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return qa(l),e;if(i===r)return qa(l),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=l,r=i;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,r=i;break}if(a===r){o=!0,r=l,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=l;break}if(a===r){o=!0,r=i,n=l;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Tu(e){return e=Sf(e),e!==null?Ru(e):null}function Ru(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ru(e);if(t!==null)return t;e=e.sibling}return null}var $u=wt.unstable_scheduleCallback,ec=wt.unstable_cancelCallback,Cf=wt.unstable_shouldYield,zf=wt.unstable_requestPaint,Ie=wt.unstable_now,_f=wt.unstable_getCurrentPriorityLevel,Go=wt.unstable_ImmediatePriority,Du=wt.unstable_UserBlockingPriority,fs=wt.unstable_NormalPriority,Ef=wt.unstable_LowPriority,Fu=wt.unstable_IdlePriority,Rs=null,Qt=null;function Lf(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Rs,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:If,Mf=Math.log,Pf=Math.LN2;function If(e){return e>>>=0,e===0?32:31-(Mf(e)/Pf|0)|0}var Rl=64,$l=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?r=Qr(a):(i&=o,i!==0&&(r=Qr(i)))}else o=n&~l,o!==0?r=Qr(o):i!==0&&(r=Qr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rt(t),l=1<<n,r|=e[n],t&=~l;return r}function Of(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Rt(i),a=1<<o,c=l[o];c===-1?(!(a&n)||a&r)&&(l[o]=Of(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Bi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Au(){var e=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),e}function si(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=n}function Rf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Rt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function Qo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ge=0;function Wu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uu,Jo,Hu,Vu,Bu,Gi=!1,Dl=[],yn=null,wn=null,jn=null,ol=new Map,al=new Map,mn=[],$f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tc(e,t){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(t.pointerId)}}function $r(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Cl(t),t!==null&&Jo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Df(e,t,n,r,l){switch(t){case"focusin":return yn=$r(yn,e,t,n,r,l),!0;case"dragenter":return wn=$r(wn,e,t,n,r,l),!0;case"mouseover":return jn=$r(jn,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return ol.set(i,$r(ol.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,al.set(i,$r(al.get(i)||null,e,t,n,r,l)),!0}return!1}function Gu(e){var t=$n(e.target);if(t!==null){var n=Yn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ou(n),t!==null){e.blockedOn=t,Bu(e.priority,function(){Hu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wi=r,n.target.dispatchEvent(r),Wi=null}else return t=Cl(n),t!==null&&Jo(t),e.blockedOn=n,!1;t.shift()}return!0}function nc(e,t,n){ql(e)&&n.delete(t)}function Ff(){Gi=!1,yn!==null&&ql(yn)&&(yn=null),wn!==null&&ql(wn)&&(wn=null),jn!==null&&ql(jn)&&(jn=null),ol.forEach(nc),al.forEach(nc)}function Dr(e,t){e.blockedOn===t&&(e.blockedOn=null,Gi||(Gi=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Ff)))}function cl(e){function t(l){return Dr(l,e)}if(0<Dl.length){Dr(Dl[0],e);for(var n=1;n<Dl.length;n++){var r=Dl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yn!==null&&Dr(yn,e),wn!==null&&Dr(wn,e),jn!==null&&Dr(jn,e),ol.forEach(t),al.forEach(t),n=0;n<mn.length;n++)r=mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)Gu(n),n.blockedOn===null&&mn.shift()}var yr=sn.ReactCurrentBatchConfig,hs=!0;function Af(e,t,n,r){var l=ge,i=yr.transition;yr.transition=null;try{ge=1,Ko(e,t,n,r)}finally{ge=l,yr.transition=i}}function Wf(e,t,n,r){var l=ge,i=yr.transition;yr.transition=null;try{ge=4,Ko(e,t,n,r)}finally{ge=l,yr.transition=i}}function Ko(e,t,n,r){if(hs){var l=Qi(e,t,n,r);if(l===null)hi(e,t,r,xs,n),tc(e,r);else if(Df(l,e,t,n,r))r.stopPropagation();else if(tc(e,r),t&4&&-1<$f.indexOf(e)){for(;l!==null;){var i=Cl(l);if(i!==null&&Uu(i),i=Qi(e,t,n,r),i===null&&hi(e,t,r,xs,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else hi(e,t,r,null,n)}}var xs=null;function Qi(e,t,n,r){if(xs=null,e=Bo(r),e=$n(e),e!==null)if(t=Yn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ou(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xs=e,null}function Qu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_f()){case Go:return 1;case Du:return 4;case fs:case Ef:return 16;case Fu:return 536870912;default:return 16}default:return 16}}var xn=null,Yo=null,es=null;function Ju(){if(es)return es;var e,t=Yo,n=t.length,r,l="value"in xn?xn.value:xn.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[i-r];r++);return es=l.slice(e,1<r?1-r:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fl(){return!0}function rc(){return!1}function kt(e){function t(n,r,l,i,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fl:rc,this.isPropagationStopped=rc,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=kt(Mr),Sl=Ee({},Mr,{view:0,detail:0}),Uf=kt(Sl),ii,oi,Fr,$s=Ee({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?(ii=e.screenX-Fr.screenX,oi=e.screenY-Fr.screenY):oi=ii=0,Fr=e),ii)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),lc=kt($s),Hf=Ee({},$s,{dataTransfer:0}),Vf=kt(Hf),Bf=Ee({},Sl,{relatedTarget:0}),ai=kt(Bf),Gf=Ee({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qf=kt(Gf),Jf=Ee({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kf=kt(Jf),Yf=Ee({},Mr,{data:0}),sc=kt(Yf),Xf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qf[e])?!!t[e]:!1}function Zo(){return e0}var t0=Ee({},Sl,{key:function(e){if(e.key){var t=Xf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(e){return e.type==="keypress"?ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),n0=kt(t0),r0=Ee({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=kt(r0),l0=Ee({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),s0=kt(l0),i0=Ee({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),o0=kt(i0),a0=Ee({},$s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c0=kt(a0),u0=[9,13,27,32],qo=tn&&"CompositionEvent"in window,Xr=null;tn&&"documentMode"in document&&(Xr=document.documentMode);var d0=tn&&"TextEvent"in window&&!Xr,Ku=tn&&(!qo||Xr&&8<Xr&&11>=Xr),oc=String.fromCharCode(32),ac=!1;function Yu(e,t){switch(e){case"keyup":return u0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function p0(e,t){switch(e){case"compositionend":return Xu(t);case"keypress":return t.which!==32?null:(ac=!0,oc);case"textInput":return e=t.data,e===oc&&ac?null:e;default:return null}}function f0(e,t){if(sr)return e==="compositionend"||!qo&&Yu(e,t)?(e=Ju(),es=Yo=xn=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ku&&t.locale!=="ko"?null:t.data;default:return null}}var m0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!m0[e.type]:t==="textarea"}function Zu(e,t,n,r){Eu(r),t=gs(t,"onChange"),0<t.length&&(n=new Xo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zr=null,ul=null;function h0(e){cd(e,0)}function Ds(e){var t=ar(e);if(ku(t))return e}function x0(e,t){if(e==="change")return t}var qu=!1;if(tn){var ci;if(tn){var ui="oninput"in document;if(!ui){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),ui=typeof uc.oninput=="function"}ci=ui}else ci=!1;qu=ci&&(!document.documentMode||9<document.documentMode)}function dc(){Zr&&(Zr.detachEvent("onpropertychange",ed),ul=Zr=null)}function ed(e){if(e.propertyName==="value"&&Ds(ul)){var t=[];Zu(t,ul,e,Bo(e)),Iu(h0,t)}}function g0(e,t,n){e==="focusin"?(dc(),Zr=t,ul=n,Zr.attachEvent("onpropertychange",ed)):e==="focusout"&&dc()}function v0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ds(ul)}function y0(e,t){if(e==="click")return Ds(t)}function w0(e,t){if(e==="input"||e==="change")return Ds(t)}function j0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:j0;function dl(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Ei.call(t,l)||!Dt(e[l],t[l]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fc(e,t){var n=pc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pc(n)}}function td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nd(){for(var e=window,t=us();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=us(e.document)}return t}function ea(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function k0(e){var t=nd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&td(n.ownerDocument.documentElement,n)){if(r!==null&&ea(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=fc(n,i);var o=fc(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var b0=tn&&"documentMode"in document&&11>=document.documentMode,ir=null,Ji=null,qr=null,Ki=!1;function mc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ki||ir==null||ir!==us(r)||(r=ir,"selectionStart"in r&&ea(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qr&&dl(qr,r)||(qr=r,r=gs(Ji,"onSelect"),0<r.length&&(t=new Xo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function Al(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var or={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},di={},rd={};tn&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function Fs(e){if(di[e])return di[e];if(!or[e])return e;var t=or[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rd)return di[e]=t[n];return e}var ld=Fs("animationend"),sd=Fs("animationiteration"),id=Fs("animationstart"),od=Fs("transitionend"),ad=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){ad.set(e,t),Kn(t,[e])}for(var pi=0;pi<hc.length;pi++){var fi=hc[pi],N0=fi.toLowerCase(),S0=fi[0].toUpperCase()+fi.slice(1);Ln(N0,"on"+S0)}Ln(ld,"onAnimationEnd");Ln(sd,"onAnimationIteration");Ln(id,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(od,"onTransitionEnd");kr("onMouseEnter",["mouseout","mouseover"]);kr("onMouseLeave",["mouseout","mouseover"]);kr("onPointerEnter",["pointerout","pointerover"]);kr("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jr));function xc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Nf(r,t,void 0,e),e.currentTarget=null}function cd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,m=a.currentTarget;if(a=a.listener,c!==i&&l.isPropagationStopped())break e;xc(l,a,m),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,m=a.currentTarget,a=a.listener,c!==i&&l.isPropagationStopped())break e;xc(l,a,m),i=c}}}if(ps)throw e=Vi,ps=!1,Vi=null,e}function be(e,t){var n=t[eo];n===void 0&&(n=t[eo]=new Set);var r=e+"__bubble";n.has(r)||(ud(t,e,2,!1),n.add(r))}function mi(e,t,n){var r=0;t&&(r|=4),ud(n,e,r,t)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function pl(e){if(!e[Wl]){e[Wl]=!0,gu.forEach(function(n){n!=="selectionchange"&&(C0.has(n)||mi(n,!1,e),mi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wl]||(t[Wl]=!0,mi("selectionchange",!1,t))}}function ud(e,t,n,r){switch(Qu(t)){case 1:var l=Af;break;case 4:l=Wf;break;default:l=Ko}n=l.bind(null,t,n,e),l=void 0,!Hi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function hi(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;a!==null;){if(o=$n(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Iu(function(){var m=i,k=Bo(n),p=[];e:{var h=ad.get(e);if(h!==void 0){var b=Xo,N=e;switch(e){case"keypress":if(ts(n)===0)break e;case"keydown":case"keyup":b=n0;break;case"focusin":N="focus",b=ai;break;case"focusout":N="blur",b=ai;break;case"beforeblur":case"afterblur":b=ai;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=s0;break;case ld:case sd:case id:b=Qf;break;case od:b=o0;break;case"scroll":b=Uf;break;case"wheel":b=c0;break;case"copy":case"cut":case"paste":b=Kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=ic}var S=(t&4)!==0,F=!S&&e==="scroll",f=S?h!==null?h+"Capture":null:h;S=[];for(var u=m,d;u!==null;){d=u;var w=d.stateNode;if(d.tag===5&&w!==null&&(d=w,f!==null&&(w=il(u,f),w!=null&&S.push(fl(u,w,d)))),F)break;u=u.return}0<S.length&&(h=new b(h,N,null,n,k),p.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",h&&n!==Wi&&(N=n.relatedTarget||n.fromElement)&&($n(N)||N[nn]))break e;if((b||h)&&(h=k.window===k?k:(h=k.ownerDocument)?h.defaultView||h.parentWindow:window,b?(N=n.relatedTarget||n.toElement,b=m,N=N?$n(N):null,N!==null&&(F=Yn(N),N!==F||N.tag!==5&&N.tag!==6)&&(N=null)):(b=null,N=m),b!==N)){if(S=lc,w="onMouseLeave",f="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(S=ic,w="onPointerLeave",f="onPointerEnter",u="pointer"),F=b==null?h:ar(b),d=N==null?h:ar(N),h=new S(w,u+"leave",b,n,k),h.target=F,h.relatedTarget=d,w=null,$n(k)===m&&(S=new S(f,u+"enter",N,n,k),S.target=d,S.relatedTarget=F,w=S),F=w,b&&N)t:{for(S=b,f=N,u=0,d=S;d;d=nr(d))u++;for(d=0,w=f;w;w=nr(w))d++;for(;0<u-d;)S=nr(S),u--;for(;0<d-u;)f=nr(f),d--;for(;u--;){if(S===f||f!==null&&S===f.alternate)break t;S=nr(S),f=nr(f)}S=null}else S=null;b!==null&&gc(p,h,b,S,!1),N!==null&&F!==null&&gc(p,F,N,S,!0)}}e:{if(h=m?ar(m):window,b=h.nodeName&&h.nodeName.toLowerCase(),b==="select"||b==="input"&&h.type==="file")var x=x0;else if(cc(h))if(qu)x=w0;else{x=v0;var C=g0}else(b=h.nodeName)&&b.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=y0);if(x&&(x=x(e,m))){Zu(p,x,n,k);break e}C&&C(e,h,m),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Ri(h,"number",h.value)}switch(C=m?ar(m):window,e){case"focusin":(cc(C)||C.contentEditable==="true")&&(ir=C,Ji=m,qr=null);break;case"focusout":qr=Ji=ir=null;break;case"mousedown":Ki=!0;break;case"contextmenu":case"mouseup":case"dragend":Ki=!1,mc(p,n,k);break;case"selectionchange":if(b0)break;case"keydown":case"keyup":mc(p,n,k)}var _;if(qo)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else sr?Yu(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Ku&&n.locale!=="ko"&&(sr||R!=="onCompositionStart"?R==="onCompositionEnd"&&sr&&(_=Ju()):(xn=k,Yo="value"in xn?xn.value:xn.textContent,sr=!0)),C=gs(m,R),0<C.length&&(R=new sc(R,e,null,n,k),p.push({event:R,listeners:C}),_?R.data=_:(_=Xu(n),_!==null&&(R.data=_)))),(_=d0?p0(e,n):f0(e,n))&&(m=gs(m,"onBeforeInput"),0<m.length&&(k=new sc("onBeforeInput","beforeinput",null,n,k),p.push({event:k,listeners:m}),k.data=_))}cd(p,t)})}function fl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gs(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=il(e,n),i!=null&&r.unshift(fl(e,i,l)),i=il(e,t),i!=null&&r.push(fl(e,i,l))),e=e.return}return r}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gc(e,t,n,r,l){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,m=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&m!==null&&(a=m,l?(c=il(n,i),c!=null&&o.unshift(fl(n,c,a))):l||(c=il(n,i),c!=null&&o.push(fl(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var z0=/\r\n?/g,_0=/\u0000|\uFFFD/g;function vc(e){return(typeof e=="string"?e:""+e).replace(z0,`
`).replace(_0,"")}function Ul(e,t,n){if(t=vc(t),vc(e)!==t&&n)throw Error(T(425))}function vs(){}var Yi=null,Xi=null;function Zi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qi=typeof setTimeout=="function"?setTimeout:void 0,E0=typeof clearTimeout=="function"?clearTimeout:void 0,yc=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof yc<"u"?function(e){return yc.resolve(null).then(e).catch(M0)}:qi;function M0(e){setTimeout(function(){throw e})}function xi(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),cl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);cl(t)}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Pr,ml="__reactProps$"+Pr,nn="__reactContainer$"+Pr,eo="__reactEvents$"+Pr,P0="__reactListeners$"+Pr,I0="__reactHandles$"+Pr;function $n(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wc(e);e!==null;){if(n=e[Gt])return n;e=wc(e)}return t}e=n,n=e.parentNode}return null}function Cl(e){return e=e[Gt]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function As(e){return e[ml]||null}var to=[],cr=-1;function Mn(e){return{current:e}}function Ne(e){0>cr||(e.current=to[cr],to[cr]=null,cr--)}function je(e,t){cr++,to[cr]=e.current,e.current=t}var En={},et=Mn(En),ct=Mn(!1),Hn=En;function br(e,t){var n=e.type.contextTypes;if(!n)return En;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ut(e){return e=e.childContextTypes,e!=null}function ys(){Ne(ct),Ne(et)}function jc(e,t,n){if(et.current!==En)throw Error(T(168));je(et,t),je(ct,n)}function dd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(T(108,gf(e)||"Unknown",l));return Ee({},n,r)}function ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Hn=et.current,je(et,e),je(ct,ct.current),!0}function kc(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=dd(e,t,Hn),r.__reactInternalMemoizedMergedChildContext=e,Ne(ct),Ne(et),je(et,e)):Ne(ct),je(ct,n)}var Xt=null,Ws=!1,gi=!1;function pd(e){Xt===null?Xt=[e]:Xt.push(e)}function O0(e){Ws=!0,pd(e)}function Pn(){if(!gi&&Xt!==null){gi=!0;var e=0,t=ge;try{var n=Xt;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xt=null,Ws=!1}catch(l){throw Xt!==null&&(Xt=Xt.slice(e+1)),$u(Go,Pn),l}finally{ge=t,gi=!1}}return null}var ur=[],dr=0,js=null,ks=0,Nt=[],St=0,Vn=null,Zt=1,qt="";function Tn(e,t){ur[dr++]=ks,ur[dr++]=js,js=e,ks=t}function fd(e,t,n){Nt[St++]=Zt,Nt[St++]=qt,Nt[St++]=Vn,Vn=e;var r=Zt;e=qt;var l=32-Rt(r)-1;r&=~(1<<l),n+=1;var i=32-Rt(t)+l;if(30<i){var o=l-l%5;i=(r&(1<<o)-1).toString(32),r>>=o,l-=o,Zt=1<<32-Rt(t)+l|n<<l|r,qt=i+e}else Zt=1<<i|n<<l|r,qt=e}function ta(e){e.return!==null&&(Tn(e,1),fd(e,1,0))}function na(e){for(;e===js;)js=ur[--dr],ur[dr]=null,ks=ur[--dr],ur[dr]=null;for(;e===Vn;)Vn=Nt[--St],Nt[St]=null,qt=Nt[--St],Nt[St]=null,Zt=Nt[--St],Nt[St]=null}var yt=null,vt=null,Se=!1,Tt=null;function md(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,vt=kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vn!==null?{id:Zt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,vt=null,!0):!1;default:return!1}}function no(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ro(e){if(Se){var t=vt;if(t){var n=t;if(!bc(e,t)){if(no(e))throw Error(T(418));t=kn(n.nextSibling);var r=yt;t&&bc(e,t)?md(r,n):(e.flags=e.flags&-4097|2,Se=!1,yt=e)}}else{if(no(e))throw Error(T(418));e.flags=e.flags&-4097|2,Se=!1,yt=e}}}function Nc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Hl(e){if(e!==yt)return!1;if(!Se)return Nc(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zi(e.type,e.memoizedProps)),t&&(t=vt)){if(no(e))throw hd(),Error(T(418));for(;t;)md(e,t),t=kn(t.nextSibling)}if(Nc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=yt?kn(e.stateNode.nextSibling):null;return!0}function hd(){for(var e=vt;e;)e=kn(e.nextSibling)}function Nr(){vt=yt=null,Se=!1}function ra(e){Tt===null?Tt=[e]:Tt.push(e)}var T0=sn.ReactCurrentBatchConfig;function Ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=l.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function Vl(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sc(e){var t=e._init;return t(e._payload)}function xd(e){function t(f,u){if(e){var d=f.deletions;d===null?(f.deletions=[u],f.flags|=16):d.push(u)}}function n(f,u){if(!e)return null;for(;u!==null;)t(f,u),u=u.sibling;return null}function r(f,u){for(f=new Map;u!==null;)u.key!==null?f.set(u.key,u):f.set(u.index,u),u=u.sibling;return f}function l(f,u){return f=Cn(f,u),f.index=0,f.sibling=null,f}function i(f,u,d){return f.index=d,e?(d=f.alternate,d!==null?(d=d.index,d<u?(f.flags|=2,u):d):(f.flags|=2,u)):(f.flags|=1048576,u)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,u,d,w){return u===null||u.tag!==6?(u=Ni(d,f.mode,w),u.return=f,u):(u=l(u,d),u.return=f,u)}function c(f,u,d,w){var x=d.type;return x===lr?k(f,u,d.props.children,w,d.key):u!==null&&(u.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===pn&&Sc(x)===u.type)?(w=l(u,d.props),w.ref=Ar(f,u,d),w.return=f,w):(w=as(d.type,d.key,d.props,null,f.mode,w),w.ref=Ar(f,u,d),w.return=f,w)}function m(f,u,d,w){return u===null||u.tag!==4||u.stateNode.containerInfo!==d.containerInfo||u.stateNode.implementation!==d.implementation?(u=Si(d,f.mode,w),u.return=f,u):(u=l(u,d.children||[]),u.return=f,u)}function k(f,u,d,w,x){return u===null||u.tag!==7?(u=Un(d,f.mode,w,x),u.return=f,u):(u=l(u,d),u.return=f,u)}function p(f,u,d){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Ni(""+u,f.mode,d),u.return=f,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Il:return d=as(u.type,u.key,u.props,null,f.mode,d),d.ref=Ar(f,null,u),d.return=f,d;case rr:return u=Si(u,f.mode,d),u.return=f,u;case pn:var w=u._init;return p(f,w(u._payload),d)}if(Gr(u)||Tr(u))return u=Un(u,f.mode,d,null),u.return=f,u;Vl(f,u)}return null}function h(f,u,d,w){var x=u!==null?u.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return x!==null?null:a(f,u,""+d,w);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Il:return d.key===x?c(f,u,d,w):null;case rr:return d.key===x?m(f,u,d,w):null;case pn:return x=d._init,h(f,u,x(d._payload),w)}if(Gr(d)||Tr(d))return x!==null?null:k(f,u,d,w,null);Vl(f,d)}return null}function b(f,u,d,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(d)||null,a(u,f,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Il:return f=f.get(w.key===null?d:w.key)||null,c(u,f,w,x);case rr:return f=f.get(w.key===null?d:w.key)||null,m(u,f,w,x);case pn:var C=w._init;return b(f,u,d,C(w._payload),x)}if(Gr(w)||Tr(w))return f=f.get(d)||null,k(u,f,w,x,null);Vl(u,w)}return null}function N(f,u,d,w){for(var x=null,C=null,_=u,R=u=0,te=null;_!==null&&R<d.length;R++){_.index>R?(te=_,_=null):te=_.sibling;var H=h(f,_,d[R],w);if(H===null){_===null&&(_=te);break}e&&_&&H.alternate===null&&t(f,_),u=i(H,u,R),C===null?x=H:C.sibling=H,C=H,_=te}if(R===d.length)return n(f,_),Se&&Tn(f,R),x;if(_===null){for(;R<d.length;R++)_=p(f,d[R],w),_!==null&&(u=i(_,u,R),C===null?x=_:C.sibling=_,C=_);return Se&&Tn(f,R),x}for(_=r(f,_);R<d.length;R++)te=b(_,f,R,d[R],w),te!==null&&(e&&te.alternate!==null&&_.delete(te.key===null?R:te.key),u=i(te,u,R),C===null?x=te:C.sibling=te,C=te);return e&&_.forEach(function(V){return t(f,V)}),Se&&Tn(f,R),x}function S(f,u,d,w){var x=Tr(d);if(typeof x!="function")throw Error(T(150));if(d=x.call(d),d==null)throw Error(T(151));for(var C=x=null,_=u,R=u=0,te=null,H=d.next();_!==null&&!H.done;R++,H=d.next()){_.index>R?(te=_,_=null):te=_.sibling;var V=h(f,_,H.value,w);if(V===null){_===null&&(_=te);break}e&&_&&V.alternate===null&&t(f,_),u=i(V,u,R),C===null?x=V:C.sibling=V,C=V,_=te}if(H.done)return n(f,_),Se&&Tn(f,R),x;if(_===null){for(;!H.done;R++,H=d.next())H=p(f,H.value,w),H!==null&&(u=i(H,u,R),C===null?x=H:C.sibling=H,C=H);return Se&&Tn(f,R),x}for(_=r(f,_);!H.done;R++,H=d.next())H=b(_,f,R,H.value,w),H!==null&&(e&&H.alternate!==null&&_.delete(H.key===null?R:H.key),u=i(H,u,R),C===null?x=H:C.sibling=H,C=H);return e&&_.forEach(function(A){return t(f,A)}),Se&&Tn(f,R),x}function F(f,u,d,w){if(typeof d=="object"&&d!==null&&d.type===lr&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case Il:e:{for(var x=d.key,C=u;C!==null;){if(C.key===x){if(x=d.type,x===lr){if(C.tag===7){n(f,C.sibling),u=l(C,d.props.children),u.return=f,f=u;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===pn&&Sc(x)===C.type){n(f,C.sibling),u=l(C,d.props),u.ref=Ar(f,C,d),u.return=f,f=u;break e}n(f,C);break}else t(f,C);C=C.sibling}d.type===lr?(u=Un(d.props.children,f.mode,w,d.key),u.return=f,f=u):(w=as(d.type,d.key,d.props,null,f.mode,w),w.ref=Ar(f,u,d),w.return=f,f=w)}return o(f);case rr:e:{for(C=d.key;u!==null;){if(u.key===C)if(u.tag===4&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){n(f,u.sibling),u=l(u,d.children||[]),u.return=f,f=u;break e}else{n(f,u);break}else t(f,u);u=u.sibling}u=Si(d,f.mode,w),u.return=f,f=u}return o(f);case pn:return C=d._init,F(f,u,C(d._payload),w)}if(Gr(d))return N(f,u,d,w);if(Tr(d))return S(f,u,d,w);Vl(f,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,u!==null&&u.tag===6?(n(f,u.sibling),u=l(u,d),u.return=f,f=u):(n(f,u),u=Ni(d,f.mode,w),u.return=f,f=u),o(f)):n(f,u)}return F}var Sr=xd(!0),gd=xd(!1),bs=Mn(null),Ns=null,pr=null,la=null;function sa(){la=pr=Ns=null}function ia(e){var t=bs.current;Ne(bs),e._currentValue=t}function lo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wr(e,t){Ns=e,la=pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(la!==e)if(e={context:e,memoizedValue:t,next:null},pr===null){if(Ns===null)throw Error(T(308));pr=e,Ns.dependencies={lanes:0,firstContext:e}}else pr=pr.next=e;return t}var Dn=null;function oa(e){Dn===null?Dn=[e]:Dn.push(e)}function vd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,oa(t)):(n.next=l.next,l.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fn=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function en(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,rn(e,n)}return l=r.interleaved,l===null?(t.next=t,oa(r)):(t.next=l.next,l.next=t),r.interleaved=t,rn(e,n)}function ns(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qo(e,n)}}function Cc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ss(e,t,n,r){var l=e.updateQueue;fn=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,m=c.next;c.next=null,o===null?i=m:o.next=m,o=c;var k=e.alternate;k!==null&&(k=k.updateQueue,a=k.lastBaseUpdate,a!==o&&(a===null?k.firstBaseUpdate=m:a.next=m,k.lastBaseUpdate=c))}if(i!==null){var p=l.baseState;o=0,k=m=c=null,a=i;do{var h=a.lane,b=a.eventTime;if((r&h)===h){k!==null&&(k=k.next={eventTime:b,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=e,S=a;switch(h=t,b=n,S.tag){case 1:if(N=S.payload,typeof N=="function"){p=N.call(b,p,h);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=S.payload,h=typeof N=="function"?N.call(b,p,h):N,h==null)break e;p=Ee({},p,h);break e;case 2:fn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[a]:h.push(a))}else b={eventTime:b,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},k===null?(m=k=b,c=p):k=k.next=b,o|=h;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;h=a,a=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(1);if(k===null&&(c=p),l.baseState=c,l.firstBaseUpdate=m,l.lastBaseUpdate=k,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Gn|=o,e.lanes=o,e.memoizedState=p}}function zc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(T(191,l));l.call(r)}}}var zl={},Jt=Mn(zl),hl=Mn(zl),xl=Mn(zl);function Fn(e){if(e===zl)throw Error(T(174));return e}function ca(e,t){switch(je(xl,t),je(hl,e),je(Jt,zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Di(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Di(t,e)}Ne(Jt),je(Jt,t)}function Cr(){Ne(Jt),Ne(hl),Ne(xl)}function wd(e){Fn(xl.current);var t=Fn(Jt.current),n=Di(t,e.type);t!==n&&(je(hl,e),je(Jt,n))}function ua(e){hl.current===e&&(Ne(Jt),Ne(hl))}var ze=Mn(0);function Cs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vi=[];function da(){for(var e=0;e<vi.length;e++)vi[e]._workInProgressVersionPrimary=null;vi.length=0}var rs=sn.ReactCurrentDispatcher,yi=sn.ReactCurrentBatchConfig,Bn=0,_e=null,$e=null,Ae=null,zs=!1,el=!1,gl=0,R0=0;function Xe(){throw Error(T(321))}function pa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function fa(e,t,n,r,l,i){if(Bn=i,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=e===null||e.memoizedState===null?A0:W0,e=n(r,l),el){i=0;do{if(el=!1,gl=0,25<=i)throw Error(T(301));i+=1,Ae=$e=null,t.updateQueue=null,rs.current=U0,e=n(r,l)}while(el)}if(rs.current=_s,t=$e!==null&&$e.next!==null,Bn=0,Ae=$e=_e=null,zs=!1,t)throw Error(T(300));return e}function ma(){var e=gl!==0;return gl=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?_e.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Et(){if($e===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Ae===null?_e.memoizedState:Ae.next;if(t!==null)Ae=t,$e=e;else{if(e===null)throw Error(T(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ae===null?_e.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function vl(e,t){return typeof t=="function"?t(e):t}function wi(e){var t=Et(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=$e,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var a=o=null,c=null,m=i;do{var k=m.lane;if((Bn&k)===k)c!==null&&(c=c.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var p={lane:k,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,_e.lanes|=k,Gn|=k}m=m.next}while(m!==null&&m!==i);c===null?o=r:c.next=a,Dt(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,_e.lanes|=i,Gn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ji(e){var t=Et(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);Dt(i,t.memoizedState)||(at=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function jd(){}function kd(e,t){var n=_e,r=Et(),l=t(),i=!Dt(r.memoizedState,l);if(i&&(r.memoizedState=l,at=!0),r=r.queue,ha(Sd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,yl(9,Nd.bind(null,n,r,l,t),void 0,null),We===null)throw Error(T(349));Bn&30||bd(n,t,l)}return l}function bd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nd(e,t,n,r){t.value=n,t.getSnapshot=r,Cd(t)&&zd(e)}function Sd(e,t,n){return n(function(){Cd(t)&&zd(e)})}function Cd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function zd(e){var t=rn(e,1);t!==null&&$t(t,e,1,-1)}function _c(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=F0.bind(null,_e,e),[t.memoizedState,e]}function yl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function _d(){return Et().memoizedState}function ls(e,t,n,r){var l=Bt();_e.flags|=e,l.memoizedState=yl(1|t,n,void 0,r===void 0?null:r)}function Us(e,t,n,r){var l=Et();r=r===void 0?null:r;var i=void 0;if($e!==null){var o=$e.memoizedState;if(i=o.destroy,r!==null&&pa(r,o.deps)){l.memoizedState=yl(t,n,i,r);return}}_e.flags|=e,l.memoizedState=yl(1|t,n,i,r)}function Ec(e,t){return ls(8390656,8,e,t)}function ha(e,t){return Us(2048,8,e,t)}function Ed(e,t){return Us(4,2,e,t)}function Ld(e,t){return Us(4,4,e,t)}function Md(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pd(e,t,n){return n=n!=null?n.concat([e]):null,Us(4,4,Md.bind(null,t,e),n)}function xa(){}function Id(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Od(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Td(e,t,n){return Bn&21?(Dt(n,t)||(n=Au(),_e.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function $0(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=yi.transition;yi.transition={};try{e(!1),t()}finally{ge=n,yi.transition=r}}function Rd(){return Et().memoizedState}function D0(e,t,n){var r=Sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$d(e))Dd(t,n);else if(n=vd(e,t,n,r),n!==null){var l=rt();$t(n,e,r,l),Fd(n,t,r)}}function F0(e,t,n){var r=Sn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($d(e))Dd(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(l.hasEagerState=!0,l.eagerState=a,Dt(a,o)){var c=t.interleaved;c===null?(l.next=l,oa(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=vd(e,t,l,r),n!==null&&(l=rt(),$t(n,e,r,l),Fd(n,t,r))}}function $d(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function Dd(e,t){el=zs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qo(e,n)}}var _s={readContext:_t,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},A0={readContext:_t,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:Ec,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ls(4194308,4,Md.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return ls(4,2,e,t)},useMemo:function(e,t){var n=Bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=D0.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:_c,useDebugValue:xa,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=_c(!1),t=e[0];return e=$0.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,l=Bt();if(Se){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),We===null)throw Error(T(349));Bn&30||bd(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Ec(Sd.bind(null,r,i,e),[e]),r.flags|=2048,yl(9,Nd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Bt(),t=We.identifierPrefix;if(Se){var n=qt,r=Zt;n=(r&~(1<<32-Rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=R0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W0={readContext:_t,useCallback:Id,useContext:_t,useEffect:ha,useImperativeHandle:Pd,useInsertionEffect:Ed,useLayoutEffect:Ld,useMemo:Od,useReducer:wi,useRef:_d,useState:function(){return wi(vl)},useDebugValue:xa,useDeferredValue:function(e){var t=Et();return Td(t,$e.memoizedState,e)},useTransition:function(){var e=wi(vl)[0],t=Et().memoizedState;return[e,t]},useMutableSource:jd,useSyncExternalStore:kd,useId:Rd,unstable_isNewReconciler:!1},U0={readContext:_t,useCallback:Id,useContext:_t,useEffect:ha,useImperativeHandle:Pd,useInsertionEffect:Ed,useLayoutEffect:Ld,useMemo:Od,useReducer:ji,useRef:_d,useState:function(){return ji(vl)},useDebugValue:xa,useDeferredValue:function(e){var t=Et();return $e===null?t.memoizedState=e:Td(t,$e.memoizedState,e)},useTransition:function(){var e=ji(vl)[0],t=Et().memoizedState;return[e,t]},useMutableSource:jd,useSyncExternalStore:kd,useId:Rd,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function so(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hs={isMounted:function(e){return(e=e._reactInternals)?Yn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rt(),l=Sn(e),i=en(r,l);i.payload=t,n!=null&&(i.callback=n),t=bn(e,i,l),t!==null&&($t(t,e,l,r),ns(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rt(),l=Sn(e),i=en(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=bn(e,i,l),t!==null&&($t(t,e,l,r),ns(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rt(),r=Sn(e),l=en(n,r);l.tag=2,t!=null&&(l.callback=t),t=bn(e,l,r),t!==null&&($t(t,e,r,n),ns(t,e,r))}};function Lc(e,t,n,r,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!dl(n,r)||!dl(l,i):!0}function Ad(e,t,n){var r=!1,l=En,i=t.contextType;return typeof i=="object"&&i!==null?i=_t(i):(l=ut(t)?Hn:et.current,r=t.contextTypes,i=(r=r!=null)?br(e,l):En),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function io(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},aa(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=_t(i):(i=ut(t)?Hn:et.current,l.context=br(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(so(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Hs.enqueueReplaceState(l,l.state,null),Ss(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function zr(e,t){try{var n="",r=t;do n+=xf(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function ki(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var H0=typeof WeakMap=="function"?WeakMap:Map;function Wd(e,t,n){n=en(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,vo=r),oo(e,t)},n}function Ud(e,t,n){n=en(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){oo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){oo(e,t),typeof r!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Pc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new H0;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=rm.bind(null,e,t,n),t.then(e,e))}function Ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Oc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=en(-1,1),t.tag=2,bn(n,t,1))),n.lanes|=1),e)}var V0=sn.ReactCurrentOwner,at=!1;function nt(e,t,n,r){t.child=e===null?gd(t,null,n,r):Sr(t,e.child,n,r)}function Tc(e,t,n,r,l){n=n.render;var i=t.ref;return wr(t,l),r=fa(e,t,n,r,i,l),n=ma(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ln(e,t,l)):(Se&&n&&ta(t),t.flags|=1,nt(e,t,r,l),t.child)}function Rc(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!Na(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Hd(e,t,i,r,l)):(e=as(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:dl,n(o,r)&&e.ref===t.ref)return ln(e,t,l)}return t.flags|=1,e=Cn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Hd(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(dl(i,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,ln(e,t,l)}return ao(e,t,n,r,l)}function Vd(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(mr,gt),gt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(mr,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(mr,gt),gt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,je(mr,gt),gt|=r;return nt(e,t,l,n),t.child}function Bd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ao(e,t,n,r,l){var i=ut(n)?Hn:et.current;return i=br(t,i),wr(t,l),n=fa(e,t,n,r,i,l),r=ma(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ln(e,t,l)):(Se&&r&&ta(t),t.flags|=1,nt(e,t,n,l),t.child)}function $c(e,t,n,r,l){if(ut(n)){var i=!0;ws(t)}else i=!1;if(wr(t,l),t.stateNode===null)ss(e,t),Ad(t,n,r),io(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,m=n.contextType;typeof m=="object"&&m!==null?m=_t(m):(m=ut(n)?Hn:et.current,m=br(t,m));var k=n.getDerivedStateFromProps,p=typeof k=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==m)&&Mc(t,o,r,m),fn=!1;var h=t.memoizedState;o.state=h,Ss(t,r,o,l),c=t.memoizedState,a!==r||h!==c||ct.current||fn?(typeof k=="function"&&(so(t,n,k,r),c=t.memoizedState),(a=fn||Lc(t,n,a,r,h,c,m))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=m,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,yd(e,t),a=t.memoizedProps,m=t.type===t.elementType?a:It(t.type,a),o.props=m,p=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=_t(c):(c=ut(n)?Hn:et.current,c=br(t,c));var b=n.getDerivedStateFromProps;(k=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==c)&&Mc(t,o,r,c),fn=!1,h=t.memoizedState,o.state=h,Ss(t,r,o,l);var N=t.memoizedState;a!==p||h!==N||ct.current||fn?(typeof b=="function"&&(so(t,n,b,r),N=t.memoizedState),(m=fn||Lc(t,n,m,r,h,N,c)||!1)?(k||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),o.props=r,o.state=N,o.context=c,r=m):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return co(e,t,n,r,i,l)}function co(e,t,n,r,l,i){Bd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&kc(t,n,!1),ln(e,t,i);r=t.stateNode,V0.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Sr(t,e.child,null,i),t.child=Sr(t,null,a,i)):nt(e,t,a,i),t.memoizedState=r.state,l&&kc(t,n,!0),t.child}function Gd(e){var t=e.stateNode;t.pendingContext?jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jc(e,t.context,!1),ca(e,t.containerInfo)}function Dc(e,t,n,r,l){return Nr(),ra(l),t.flags|=256,nt(e,t,n,r),t.child}var uo={dehydrated:null,treeContext:null,retryLane:0};function po(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qd(e,t,n){var r=t.pendingProps,l=ze.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),je(ze,l&1),e===null)return ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gs(o,r,0,null),e=Un(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=po(n),t.memoizedState=uo,e):ga(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return B0(e,t,o,r,a,l,n);if(i){i=r.fallback,o=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Cn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=Cn(a,i):(i=Un(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?po(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=uo,r}return i=e.child,e=i.sibling,r=Cn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ga(e,t){return t=Gs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bl(e,t,n,r){return r!==null&&ra(r),Sr(t,e.child,null,n),e=ga(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function B0(e,t,n,r,l,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ki(Error(T(422))),Bl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=Gs({mode:"visible",children:r.children},l,0,null),i=Un(i,l,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Sr(t,e.child,null,o),t.child.memoizedState=po(o),t.memoizedState=uo,i);if(!(t.mode&1))return Bl(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=ki(i,r,void 0),Bl(e,t,o,r)}if(a=(o&e.childLanes)!==0,at||a){if(r=We,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,rn(e,l),$t(r,e,l,-1))}return ba(),r=ki(Error(T(421))),Bl(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=lm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,vt=kn(l.nextSibling),yt=t,Se=!0,Tt=null,e!==null&&(Nt[St++]=Zt,Nt[St++]=qt,Nt[St++]=Vn,Zt=e.id,qt=e.overflow,Vn=t),t=ga(t,r.children),t.flags|=4096,t)}function Fc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),lo(e.return,t,n)}function bi(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Jd(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(nt(e,t,r.children,n),r=ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fc(e,n,t);else if(e.tag===19)Fc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(ze,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Cs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),bi(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Cs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}bi(t,!0,n,null,i);break;case"together":bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ss(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function G0(e,t,n){switch(t.tag){case 3:Gd(t),Nr();break;case 5:wd(t);break;case 1:ut(t.type)&&ws(t);break;case 4:ca(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;je(bs,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(ze,ze.current&1),t.flags|=128,null):n&t.child.childLanes?Qd(e,t,n):(je(ze,ze.current&1),e=ln(e,t,n),e!==null?e.sibling:null);je(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Jd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),je(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,Vd(e,t,n)}return ln(e,t,n)}var Kd,fo,Yd,Xd;Kd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fo=function(){};Yd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Fn(Jt.current);var i=null;switch(n){case"input":l=Oi(e,l),r=Oi(e,r),i=[];break;case"select":l=Ee({},l,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":l=$i(e,l),r=$i(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vs)}Fi(n,r);var o;n=null;for(m in l)if(!r.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var a=l[m];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ll.hasOwnProperty(m)?i||(i=[]):(i=i||[]).push(m,null));for(m in r){var c=r[m];if(a=l!=null?l[m]:void 0,r.hasOwnProperty(m)&&c!==a&&(c!=null||a!=null))if(m==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(m,n)),n=c;else m==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(m,c)):m==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(m,""+c):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ll.hasOwnProperty(m)?(c!=null&&m==="onScroll"&&be("scroll",e),i||a===c||(i=[])):(i=i||[]).push(m,c))}n&&(i=i||[]).push("style",n);var m=i;(t.updateQueue=m)&&(t.flags|=4)}};Xd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wr(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Q0(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return ut(t.type)&&ys(),Ze(t),null;case 3:return r=t.stateNode,Cr(),Ne(ct),Ne(et),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(jo(Tt),Tt=null))),fo(e,t),Ze(t),null;case 5:ua(t);var l=Fn(xl.current);if(n=t.type,e!==null&&t.stateNode!=null)Yd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Ze(t),null}if(e=Fn(Jt.current),Hl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Gt]=t,r[ml]=i,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(l=0;l<Jr.length;l++)be(Jr[l],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":Ja(r,i),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},be("invalid",r);break;case"textarea":Ya(r,i),be("invalid",r)}Fi(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ul(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ul(r.textContent,a,e),l=["children",""+a]):ll.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":Ol(r),Ka(r,i,!0);break;case"textarea":Ol(r),Xa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vs)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Su(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Gt]=t,e[ml]=r,Kd(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ai(n,r),n){case"dialog":be("cancel",e),be("close",e),l=r;break;case"iframe":case"object":case"embed":be("load",e),l=r;break;case"video":case"audio":for(l=0;l<Jr.length;l++)be(Jr[l],e);l=r;break;case"source":be("error",e),l=r;break;case"img":case"image":case"link":be("error",e),be("load",e),l=r;break;case"details":be("toggle",e),l=r;break;case"input":Ja(e,r),l=Oi(e,r),be("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Ee({},r,{value:void 0}),be("invalid",e);break;case"textarea":Ya(e,r),l=$i(e,r),be("invalid",e);break;default:l=r}Fi(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?_u(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&sl(e,c):typeof c=="number"&&sl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ll.hasOwnProperty(i)?c!=null&&i==="onScroll"&&be("scroll",e):c!=null&&Wo(e,i,c,o))}switch(n){case"input":Ol(e),Ka(e,r,!1);break;case"textarea":Ol(e),Xa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_n(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?xr(e,!!r.multiple,i,!1):r.defaultValue!=null&&xr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Xd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=Fn(xl.current),Fn(Jt.current),Hl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(i=r.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:Ul(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ul(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return Ze(t),null;case 13:if(Ne(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&vt!==null&&t.mode&1&&!(t.flags&128))hd(),Nr(),t.flags|=98560,i=!1;else if(i=Hl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Gt]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),i=!1}else Tt!==null&&(jo(Tt),Tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?De===0&&(De=3):ba())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return Cr(),fo(e,t),e===null&&pl(t.stateNode.containerInfo),Ze(t),null;case 10:return ia(t.type._context),Ze(t),null;case 17:return ut(t.type)&&ys(),Ze(t),null;case 19:if(Ne(ze),i=t.memoizedState,i===null)return Ze(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Wr(i,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Cs(e),o!==null){for(t.flags|=128,Wr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(ze,ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ie()>_r&&(t.flags|=128,r=!0,Wr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Cs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Se)return Ze(t),null}else 2*Ie()-i.renderingStartTime>_r&&n!==1073741824&&(t.flags|=128,r=!0,Wr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ie(),t.sibling=null,n=ze.current,je(ze,r?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return ka(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gt&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function J0(e,t){switch(na(t),t.tag){case 1:return ut(t.type)&&ys(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cr(),Ne(ct),Ne(et),da(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ua(t),null;case 13:if(Ne(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(ze),null;case 4:return Cr(),null;case 10:return ia(t.type._context),null;case 22:case 23:return ka(),null;case 24:return null;default:return null}}var Gl=!1,qe=!1,K0=typeof WeakSet=="function"?WeakSet:Set,W=null;function fr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(e,t,r)}else n.current=null}function mo(e,t,n){try{n()}catch(r){Le(e,t,r)}}var Ac=!1;function Y0(e,t){if(Yi=hs,e=nd(),ea(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,m=0,k=0,p=e,h=null;t:for(;;){for(var b;p!==n||l!==0&&p.nodeType!==3||(a=o+l),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(b=p.firstChild)!==null;)h=p,p=b;for(;;){if(p===e)break t;if(h===n&&++m===l&&(a=o),h===i&&++k===r&&(c=o),(b=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=b}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xi={focusedElem:e,selectionRange:n},hs=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var S=N.memoizedProps,F=N.memoizedState,f=t.stateNode,u=f.getSnapshotBeforeUpdate(t.elementType===t.type?S:It(t.type,S),F);f.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(w){Le(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return N=Ac,Ac=!1,N}function tl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&mo(t,n,i)}l=l.next}while(l!==r)}}function Vs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ho(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zd(e){var t=e.alternate;t!==null&&(e.alternate=null,Zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[ml],delete t[eo],delete t[P0],delete t[I0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qd(e){return e.tag===5||e.tag===3||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vs));else if(r!==4&&(e=e.child,e!==null))for(xo(e,t,n),e=e.sibling;e!==null;)xo(e,t,n),e=e.sibling}function go(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(go(e,t,n),e=e.sibling;e!==null;)go(e,t,n),e=e.sibling}var Ge=null,Ot=!1;function un(e,t,n){for(n=n.child;n!==null;)ep(e,t,n),n=n.sibling}function ep(e,t,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Rs,n)}catch{}switch(n.tag){case 5:qe||fr(n,t);case 6:var r=Ge,l=Ot;Ge=null,un(e,t,n),Ge=r,Ot=l,Ge!==null&&(Ot?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Ot?(e=Ge,n=n.stateNode,e.nodeType===8?xi(e.parentNode,n):e.nodeType===1&&xi(e,n),cl(e)):xi(Ge,n.stateNode));break;case 4:r=Ge,l=Ot,Ge=n.stateNode.containerInfo,Ot=!0,un(e,t,n),Ge=r,Ot=l;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mo(n,t,o),l=l.next}while(l!==r)}un(e,t,n);break;case 1:if(!qe&&(fr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Le(n,t,a)}un(e,t,n);break;case 21:un(e,t,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,un(e,t,n),qe=r):un(e,t,n);break;default:un(e,t,n)}}function Uc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new K0),t.forEach(function(r){var l=sm.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ge=a.stateNode,Ot=!1;break e;case 3:Ge=a.stateNode.containerInfo,Ot=!0;break e;case 4:Ge=a.stateNode.containerInfo,Ot=!0;break e}a=a.return}if(Ge===null)throw Error(T(160));ep(i,o,l),Ge=null,Ot=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(m){Le(l,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tp(t,e),t=t.sibling}function tp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Ht(e),r&4){try{tl(3,e,e.return),Vs(3,e)}catch(S){Le(e,e.return,S)}try{tl(5,e,e.return)}catch(S){Le(e,e.return,S)}}break;case 1:Mt(t,e),Ht(e),r&512&&n!==null&&fr(n,n.return);break;case 5:if(Mt(t,e),Ht(e),r&512&&n!==null&&fr(n,n.return),e.flags&32){var l=e.stateNode;try{sl(l,"")}catch(S){Le(e,e.return,S)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bu(l,i),Ai(a,o);var m=Ai(a,i);for(o=0;o<c.length;o+=2){var k=c[o],p=c[o+1];k==="style"?_u(l,p):k==="dangerouslySetInnerHTML"?Cu(l,p):k==="children"?sl(l,p):Wo(l,k,p,m)}switch(a){case"input":Ti(l,i);break;case"textarea":Nu(l,i);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var b=i.value;b!=null?xr(l,!!i.multiple,b,!1):h!==!!i.multiple&&(i.defaultValue!=null?xr(l,!!i.multiple,i.defaultValue,!0):xr(l,!!i.multiple,i.multiple?[]:"",!1))}l[ml]=i}catch(S){Le(e,e.return,S)}}break;case 6:if(Mt(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(T(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(S){Le(e,e.return,S)}}break;case 3:if(Mt(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cl(t.containerInfo)}catch(S){Le(e,e.return,S)}break;case 4:Mt(t,e),Ht(e);break;case 13:Mt(t,e),Ht(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(wa=Ie())),r&4&&Uc(e);break;case 22:if(k=n!==null&&n.memoizedState!==null,e.mode&1?(qe=(m=qe)||k,Mt(t,e),qe=m):Mt(t,e),Ht(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!k&&e.mode&1)for(W=e,k=e.child;k!==null;){for(p=W=k;W!==null;){switch(h=W,b=h.child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:fr(h,h.return);var N=h.stateNode;if(typeof N.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(S){Le(r,n,S)}}break;case 5:fr(h,h.return);break;case 22:if(h.memoizedState!==null){Vc(p);continue}}b!==null?(b.return=h,W=b):Vc(p)}k=k.sibling}e:for(k=null,p=e;;){if(p.tag===5){if(k===null){k=p;try{l=p.stateNode,m?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=zu("display",o))}catch(S){Le(e,e.return,S)}}}else if(p.tag===6){if(k===null)try{p.stateNode.nodeValue=m?"":p.memoizedProps}catch(S){Le(e,e.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;k===p&&(k=null),p=p.return}k===p&&(k=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Mt(t,e),Ht(e),r&4&&Uc(e);break;case 21:break;default:Mt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qd(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(sl(l,""),r.flags&=-33);var i=Wc(e);go(e,i,l);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Wc(e);xo(e,a,o);break;default:throw Error(T(161))}}catch(c){Le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X0(e,t,n){W=e,np(e)}function np(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var l=W,i=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||Gl;if(!o){var a=l.alternate,c=a!==null&&a.memoizedState!==null||qe;a=Gl;var m=qe;if(Gl=o,(qe=c)&&!m)for(W=l;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?Bc(l):c!==null?(c.return=o,W=c):Bc(l);for(;i!==null;)W=i,np(i),i=i.sibling;W=l,Gl=a,qe=m}Hc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,W=i):Hc(e)}}function Hc(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qe||Vs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&zc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var k=m.memoizedState;if(k!==null){var p=k.dehydrated;p!==null&&cl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}qe||t.flags&512&&ho(t)}catch(h){Le(t,t.return,h)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Vc(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Bc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vs(4,t)}catch(c){Le(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){Le(t,l,c)}}var i=t.return;try{ho(t)}catch(c){Le(t,i,c)}break;case 5:var o=t.return;try{ho(t)}catch(c){Le(t,o,c)}}}catch(c){Le(t,t.return,c)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var Z0=Math.ceil,Es=sn.ReactCurrentDispatcher,va=sn.ReactCurrentOwner,zt=sn.ReactCurrentBatchConfig,fe=0,We=null,Te=null,Qe=0,gt=0,mr=Mn(0),De=0,wl=null,Gn=0,Bs=0,ya=0,nl=null,ot=null,wa=0,_r=1/0,Yt=null,Ls=!1,vo=null,Nn=null,Ql=!1,gn=null,Ms=0,rl=0,yo=null,is=-1,os=0;function rt(){return fe&6?Ie():is!==-1?is:is=Ie()}function Sn(e){return e.mode&1?fe&2&&Qe!==0?Qe&-Qe:T0.transition!==null?(os===0&&(os=Au()),os):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Qu(e.type)),e):1}function $t(e,t,n,r){if(50<rl)throw rl=0,yo=null,Error(T(185));Nl(e,n,r),(!(fe&2)||e!==We)&&(e===We&&(!(fe&2)&&(Bs|=n),De===4&&hn(e,Qe)),dt(e,r),n===1&&fe===0&&!(t.mode&1)&&(_r=Ie()+500,Ws&&Pn()))}function dt(e,t){var n=e.callbackNode;Tf(e,t);var r=ms(e,e===We?Qe:0);if(r===0)n!==null&&ec(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ec(n),t===1)e.tag===0?O0(Gc.bind(null,e)):pd(Gc.bind(null,e)),L0(function(){!(fe&6)&&Pn()}),n=null;else{switch(Wu(r)){case 1:n=Go;break;case 4:n=Du;break;case 16:n=fs;break;case 536870912:n=Fu;break;default:n=fs}n=up(n,rp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rp(e,t){if(is=-1,os=0,fe&6)throw Error(T(327));var n=e.callbackNode;if(jr()&&e.callbackNode!==n)return null;var r=ms(e,e===We?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ps(e,r);else{t=r;var l=fe;fe|=2;var i=sp();(We!==e||Qe!==t)&&(Yt=null,_r=Ie()+500,Wn(e,t));do try{tm();break}catch(a){lp(e,a)}while(1);sa(),Es.current=i,fe=l,Te!==null?t=0:(We=null,Qe=0,t=De)}if(t!==0){if(t===2&&(l=Bi(e),l!==0&&(r=l,t=wo(e,l))),t===1)throw n=wl,Wn(e,0),hn(e,r),dt(e,Ie()),n;if(t===6)hn(e,r);else{if(l=e.current.alternate,!(r&30)&&!q0(l)&&(t=Ps(e,r),t===2&&(i=Bi(e),i!==0&&(r=i,t=wo(e,i))),t===1))throw n=wl,Wn(e,0),hn(e,r),dt(e,Ie()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Rn(e,ot,Yt);break;case 3:if(hn(e,r),(r&130023424)===r&&(t=wa+500-Ie(),10<t)){if(ms(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){rt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=qi(Rn.bind(null,e,ot,Yt),t);break}Rn(e,ot,Yt);break;case 4:if(hn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-Rt(r);i=1<<o,o=t[o],o>l&&(l=o),r&=~i}if(r=l,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z0(r/1960))-r,10<r){e.timeoutHandle=qi(Rn.bind(null,e,ot,Yt),r);break}Rn(e,ot,Yt);break;case 5:Rn(e,ot,Yt);break;default:throw Error(T(329))}}}return dt(e,Ie()),e.callbackNode===n?rp.bind(null,e):null}function wo(e,t){var n=nl;return e.current.memoizedState.isDehydrated&&(Wn(e,t).flags|=256),e=Ps(e,t),e!==2&&(t=ot,ot=n,t!==null&&jo(t)),e}function jo(e){ot===null?ot=e:ot.push.apply(ot,e)}function q0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!Dt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hn(e,t){for(t&=~ya,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rt(t),r=1<<n;e[n]=-1,t&=~r}}function Gc(e){if(fe&6)throw Error(T(327));jr();var t=ms(e,0);if(!(t&1))return dt(e,Ie()),null;var n=Ps(e,t);if(e.tag!==0&&n===2){var r=Bi(e);r!==0&&(t=r,n=wo(e,r))}if(n===1)throw n=wl,Wn(e,0),hn(e,t),dt(e,Ie()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rn(e,ot,Yt),dt(e,Ie()),null}function ja(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(_r=Ie()+500,Ws&&Pn())}}function Qn(e){gn!==null&&gn.tag===0&&!(fe&6)&&jr();var t=fe;fe|=1;var n=zt.transition,r=ge;try{if(zt.transition=null,ge=1,e)return e()}finally{ge=r,zt.transition=n,fe=t,!(fe&6)&&Pn()}}function ka(){gt=mr.current,Ne(mr)}function Wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,E0(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(na(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ys();break;case 3:Cr(),Ne(ct),Ne(et),da();break;case 5:ua(r);break;case 4:Cr();break;case 13:Ne(ze);break;case 19:Ne(ze);break;case 10:ia(r.type._context);break;case 22:case 23:ka()}n=n.return}if(We=e,Te=e=Cn(e.current,null),Qe=gt=t,De=0,wl=null,ya=Bs=Gn=0,ot=nl=null,Dn!==null){for(t=0;t<Dn.length;t++)if(n=Dn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,r.next=o}n.pending=r}Dn=null}return e}function lp(e,t){do{var n=Te;try{if(sa(),rs.current=_s,zs){for(var r=_e.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}zs=!1}if(Bn=0,Ae=$e=_e=null,el=!1,gl=0,va.current=null,n===null||n.return===null){De=1,wl=t,Te=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Qe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=c,k=a,p=k.tag;if(!(k.mode&1)&&(p===0||p===11||p===15)){var h=k.alternate;h?(k.updateQueue=h.updateQueue,k.memoizedState=h.memoizedState,k.lanes=h.lanes):(k.updateQueue=null,k.memoizedState=null)}var b=Ic(o);if(b!==null){b.flags&=-257,Oc(b,o,a,i,t),b.mode&1&&Pc(i,m,t),t=b,c=m;var N=t.updateQueue;if(N===null){var S=new Set;S.add(c),t.updateQueue=S}else N.add(c);break e}else{if(!(t&1)){Pc(i,m,t),ba();break e}c=Error(T(426))}}else if(Se&&a.mode&1){var F=Ic(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),Oc(F,o,a,i,t),ra(zr(c,a));break e}}i=c=zr(c,a),De!==4&&(De=2),nl===null?nl=[i]:nl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=Wd(i,c,t);Cc(i,f);break e;case 1:a=c;var u=i.type,d=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nn===null||!Nn.has(d)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Ud(i,a,t);Cc(i,w);break e}}i=i.return}while(i!==null)}op(n)}catch(x){t=x,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(1)}function sp(){var e=Es.current;return Es.current=_s,e===null?_s:e}function ba(){(De===0||De===3||De===2)&&(De=4),We===null||!(Gn&268435455)&&!(Bs&268435455)||hn(We,Qe)}function Ps(e,t){var n=fe;fe|=2;var r=sp();(We!==e||Qe!==t)&&(Yt=null,Wn(e,t));do try{em();break}catch(l){lp(e,l)}while(1);if(sa(),fe=n,Es.current=r,Te!==null)throw Error(T(261));return We=null,Qe=0,De}function em(){for(;Te!==null;)ip(Te)}function tm(){for(;Te!==null&&!Cf();)ip(Te)}function ip(e){var t=cp(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?op(e):Te=t,va.current=null}function op(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=J0(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Te=null;return}}else if(n=Q0(n,t,gt),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);De===0&&(De=5)}function Rn(e,t,n){var r=ge,l=zt.transition;try{zt.transition=null,ge=1,nm(e,t,n,r)}finally{zt.transition=l,ge=r}return null}function nm(e,t,n,r){do jr();while(gn!==null);if(fe&6)throw Error(T(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Rf(e,i),e===We&&(Te=We=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ql||(Ql=!0,up(fs,function(){return jr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zt.transition,zt.transition=null;var o=ge;ge=1;var a=fe;fe|=4,va.current=null,Y0(e,n),tp(n,e),k0(Xi),hs=!!Yi,Xi=Yi=null,e.current=n,X0(n),zf(),fe=a,ge=o,zt.transition=i}else e.current=n;if(Ql&&(Ql=!1,gn=e,Ms=l),i=e.pendingLanes,i===0&&(Nn=null),Lf(n.stateNode),dt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ls)throw Ls=!1,e=vo,vo=null,e;return Ms&1&&e.tag!==0&&jr(),i=e.pendingLanes,i&1?e===yo?rl++:(rl=0,yo=e):rl=0,Pn(),null}function jr(){if(gn!==null){var e=Wu(Ms),t=zt.transition,n=ge;try{if(zt.transition=null,ge=16>e?16:e,gn===null)var r=!1;else{if(e=gn,gn=null,Ms=0,fe&6)throw Error(T(331));var l=fe;for(fe|=4,W=e.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var m=a[c];for(W=m;W!==null;){var k=W;switch(k.tag){case 0:case 11:case 15:tl(8,k,i)}var p=k.child;if(p!==null)p.return=k,W=p;else for(;W!==null;){k=W;var h=k.sibling,b=k.return;if(Zd(k),k===m){W=null;break}if(h!==null){h.return=b,W=h;break}W=b}}}var N=i.alternate;if(N!==null){var S=N.child;if(S!==null){N.child=null;do{var F=S.sibling;S.sibling=null,S=F}while(S!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,W=f;break e}W=i.return}}var u=e.current;for(W=u;W!==null;){o=W;var d=o.child;if(o.subtreeFlags&2064&&d!==null)d.return=o,W=d;else e:for(o=u;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vs(9,a)}}catch(x){Le(a,a.return,x)}if(a===o){W=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,W=w;break e}W=a.return}}if(fe=l,Pn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Rs,e)}catch{}r=!0}return r}finally{ge=n,zt.transition=t}}return!1}function Qc(e,t,n){t=zr(n,t),t=Wd(e,t,1),e=bn(e,t,1),t=rt(),e!==null&&(Nl(e,1,t),dt(e,t))}function Le(e,t,n){if(e.tag===3)Qc(e,e,n);else for(;t!==null;){if(t.tag===3){Qc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nn===null||!Nn.has(r))){e=zr(n,e),e=Ud(t,e,1),t=bn(t,e,1),e=rt(),t!==null&&(Nl(t,1,e),dt(t,e));break}}t=t.return}}function rm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Qe&n)===n&&(De===4||De===3&&(Qe&130023424)===Qe&&500>Ie()-wa?Wn(e,0):ya|=n),dt(e,t)}function ap(e,t){t===0&&(e.mode&1?(t=$l,$l<<=1,!($l&130023424)&&($l=4194304)):t=1);var n=rt();e=rn(e,t),e!==null&&(Nl(e,t,n),dt(e,n))}function lm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ap(e,n)}function sm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),ap(e,n)}var cp;cp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,G0(e,t,n);at=!!(e.flags&131072)}else at=!1,Se&&t.flags&1048576&&fd(t,ks,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ss(e,t),e=t.pendingProps;var l=br(t,et.current);wr(t,n),l=fa(null,t,r,e,l,n);var i=ma();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(i=!0,ws(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,aa(t),l.updater=Hs,t.stateNode=l,l._reactInternals=t,io(t,r,e,n),t=co(null,t,r,!0,i,n)):(t.tag=0,Se&&i&&ta(t),nt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ss(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=om(r),e=It(r,e),l){case 0:t=ao(null,t,r,e,n);break e;case 1:t=$c(null,t,r,e,n);break e;case 11:t=Tc(null,t,r,e,n);break e;case 14:t=Rc(null,t,r,It(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),ao(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),$c(e,t,r,l,n);case 3:e:{if(Gd(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,l=i.element,yd(e,t),Ss(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=zr(Error(T(423)),t),t=Dc(e,t,r,n,l);break e}else if(r!==l){l=zr(Error(T(424)),t),t=Dc(e,t,r,n,l);break e}else for(vt=kn(t.stateNode.containerInfo.firstChild),yt=t,Se=!0,Tt=null,n=gd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===l){t=ln(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return wd(t),e===null&&ro(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,Zi(r,l)?o=null:i!==null&&Zi(r,i)&&(t.flags|=32),Bd(e,t),nt(e,t,o,n),t.child;case 6:return e===null&&ro(t),null;case 13:return Qd(e,t,n);case 4:return ca(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sr(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),Tc(e,t,r,l,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,je(bs,r._currentValue),r._currentValue=o,i!==null)if(Dt(i.value,o)){if(i.children===l.children&&!ct.current){t=ln(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=en(-1,n&-n),c.tag=2;var m=i.updateQueue;if(m!==null){m=m.shared;var k=m.pending;k===null?c.next=c:(c.next=k.next,k.next=c),m.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),lo(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,wr(t,n),l=_t(l),r=r(l),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,l=It(r,t.pendingProps),l=It(r.type,l),Rc(e,t,r,l,n);case 15:return Hd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:It(r,l),ss(e,t),t.tag=1,ut(r)?(e=!0,ws(t)):e=!1,wr(t,n),Ad(t,r,l),io(t,r,l,n),co(null,t,r,!0,e,n);case 19:return Jd(e,t,n);case 22:return Vd(e,t,n)}throw Error(T(156,t.tag))};function up(e,t){return $u(e,t)}function im(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new im(e,t,n,r)}function Na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function om(e){if(typeof e=="function")return Na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ho)return 11;if(e===Vo)return 14}return 2}function Cn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function as(e,t,n,r,l,i){var o=2;if(r=e,typeof e=="function")Na(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lr:return Un(n.children,l,i,t);case Uo:o=8,l|=8;break;case Li:return e=Ct(12,n,t,l|2),e.elementType=Li,e.lanes=i,e;case Mi:return e=Ct(13,n,t,l),e.elementType=Mi,e.lanes=i,e;case Pi:return e=Ct(19,n,t,l),e.elementType=Pi,e.lanes=i,e;case wu:return Gs(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vu:o=10;break e;case yu:o=9;break e;case Ho:o=11;break e;case Vo:o=14;break e;case pn:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Ct(o,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function Un(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function Gs(e,t,n,r){return e=Ct(22,e,r,t),e.elementType=wu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ni(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function Si(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function am(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=si(0),this.expirationTimes=si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Sa(e,t,n,r,l,i,o,a,c){return e=new am(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},aa(i),e}function cm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function dp(e){if(!e)return En;e=e._reactInternals;e:{if(Yn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(ut(n))return dd(e,n,t)}return t}function pp(e,t,n,r,l,i,o,a,c){return e=Sa(n,r,!0,e,l,i,o,a,c),e.context=dp(null),n=e.current,r=rt(),l=Sn(n),i=en(r,l),i.callback=t??null,bn(n,i,l),e.current.lanes=l,Nl(e,l,r),dt(e,r),e}function Qs(e,t,n,r){var l=t.current,i=rt(),o=Sn(l);return n=dp(n),t.context===null?t.context=n:t.pendingContext=n,t=en(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bn(l,t,o),e!==null&&($t(e,l,o,i),ns(e,l,o)),o}function Is(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ca(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}function um(){return null}var fp=typeof reportError=="function"?reportError:function(e){console.error(e)};function za(e){this._internalRoot=e}Js.prototype.render=za.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Qs(e,t,null,null)};Js.prototype.unmount=za.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qn(function(){Qs(null,e,null,null)}),t[nn]=null}};function Js(e){this._internalRoot=e}Js.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&Gu(e)}};function _a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ks(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kc(){}function dm(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var m=Is(o);i.call(m)}}var o=pp(t,r,e,0,null,!1,!1,"",Kc);return e._reactRootContainer=o,e[nn]=o.current,pl(e.nodeType===8?e.parentNode:e),Qn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var m=Is(c);a.call(m)}}var c=Sa(e,0,!1,null,null,!1,!1,"",Kc);return e._reactRootContainer=c,e[nn]=c.current,pl(e.nodeType===8?e.parentNode:e),Qn(function(){Qs(t,c,n,r)}),c}function Ys(e,t,n,r,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var a=l;l=function(){var c=Is(o);a.call(c)}}Qs(t,o,e,l)}else o=dm(n,t,e,l,r);return Is(o)}Uu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qr(t.pendingLanes);n!==0&&(Qo(t,n|1),dt(t,Ie()),!(fe&6)&&(_r=Ie()+500,Pn()))}break;case 13:Qn(function(){var r=rn(e,1);if(r!==null){var l=rt();$t(r,e,1,l)}}),Ca(e,1)}};Jo=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=rt();$t(t,e,134217728,n)}Ca(e,134217728)}};Hu=function(e){if(e.tag===13){var t=Sn(e),n=rn(e,t);if(n!==null){var r=rt();$t(n,e,t,r)}Ca(e,t)}};Vu=function(){return ge};Bu=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Ui=function(e,t,n){switch(t){case"input":if(Ti(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=As(r);if(!l)throw Error(T(90));ku(r),Ti(r,l)}}}break;case"textarea":Nu(e,n);break;case"select":t=n.value,t!=null&&xr(e,!!n.multiple,t,!1)}};Mu=ja;Pu=Qn;var pm={usingClientEntryPoint:!1,Events:[Cl,ar,As,Eu,Lu,ja]},Ur={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fm={bundleType:Ur.bundleType,version:Ur.version,rendererPackageName:Ur.rendererPackageName,rendererConfig:Ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ur.findFiberByHostInstance||um,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{Rs=Jl.inject(fm),Qt=Jl}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pm;jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_a(t))throw Error(T(200));return cm(e,t,null,n)};jt.createRoot=function(e,t){if(!_a(e))throw Error(T(299));var n=!1,r="",l=fp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Sa(e,1,!1,null,null,n,!1,r,l),e[nn]=t.current,pl(e.nodeType===8?e.parentNode:e),new za(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Tu(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return Qn(e)};jt.hydrate=function(e,t,n){if(!Ks(t))throw Error(T(200));return Ys(null,e,t,!0,n)};jt.hydrateRoot=function(e,t,n){if(!_a(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",o=fp;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=pp(t,null,e,1,n??null,l,!1,i,o),e[nn]=t.current,pl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Js(t)};jt.render=function(e,t,n){if(!Ks(t))throw Error(T(200));return Ys(null,e,t,!1,n)};jt.unmountComponentAtNode=function(e){if(!Ks(e))throw Error(T(40));return e._reactRootContainer?(Qn(function(){Ys(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};jt.unstable_batchedUpdates=ja;jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ks(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Ys(e,t,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function mp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mp)}catch(e){console.error(e)}}mp(),mu.exports=jt;var mm=mu.exports,Yc=mm;_i.createRoot=Yc.createRoot,_i.hydrateRoot=Yc.hydrateRoot;var hm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gm=(e,t)=>{const n=I.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...c},m)=>I.createElement("svg",{ref:m,...hm,width:l,height:l,stroke:r,strokeWidth:o?Number(i)*24/Number(l):i,className:`lucide lucide-${xm(e)}`,...c},[...t.map(([k,p])=>I.createElement(k,p)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n};var re=gm;const vn=re("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),vm=re("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),ym=re("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),wm=re("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Os=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ko=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),jm=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),km=re("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),bm=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Xc=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),hr=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Nm=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),bo=re("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),No=re("FolderPlus",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["line",{x1:"12",x2:"12",y1:"10",y2:"16",key:"3c25pp"}],["line",{x1:"9",x2:"15",y1:"13",y2:"13",key:"10hoct"}]]),Sm=re("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),hp=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Cm=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),cs=re("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),zm=re("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),jl=re("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),_m=re("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Em=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Lm=re("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),So=re("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Mm=re("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Co=re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Er=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Pm=re("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]),Ea=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Im=re("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),kl=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),xp=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ci=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),zo=re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Jn=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Om=re("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),Tm=re("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),_o=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Eo=re("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),zn=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gp=re("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Be={mana_max:1e5,mana_charge_speed:1e5,reload_time:20,fire_rate_wait:10,deck_capacity:26,shuffle_deck_when_empty:!1,spread_degrees:0,speed_multiplier:1,actions_per_round:1,spells:{},spell_uses:{},always_cast:[]},Rm=[{id:0,name:"",color:"#4d2020"},{id:1,name:"",color:"#612c11"},{id:2,name:"",color:"#2b3668"},{id:3,name:"",color:"#18595e"},{id:4,name:"",color:"#31633e"},{id:5,name:"",color:"#6e4932"},{id:6,name:"",color:"#692663"},{id:7,name:"",color:"#202b24"}],$m=[{name:"",types:[0],color:"from-blue-500/10 to-blue-600/20"},{name:"",types:[2],color:"from-green-500/10 to-green-600/20"},{name:"++",types:[6,3,5],color:"from-purple-500/10 to-purple-600/20"},{name:"++",types:[1,4,7],color:"from-orange-500/10 to-orange-600/20"}];function Dm({tabs:e,activeTabId:t,setActiveTabId:n,setTabs:r,setTabMenu:l,addNewTab:i,deleteTab:o,pullData:a,pushData:c,toggleSync:m,addWand:k,clipboard:p,activeTab:h,performAction:b,importWorkflow:N,exportWorkflow:S,setIsSettingsOpen:F,isConnected:f,setIsWarehouseOpen:u}){return s.jsxs("header",{className:"flex items-center px-4 pt-2 bg-zinc-900/50 border-b border-white/5 space-x-0.5",children:[s.jsxs("div",{className:"flex items-center gap-2.5 px-3 py-2 mr-4",children:[s.jsx("button",{onClick:()=>u(d=>!d),className:"w-8 h-8 rounded bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20 hover:scale-105 active:scale-95 transition-all group",title:" (Ctrl+B)",children:s.jsx(jl,{size:16,className:"text-white group-hover:rotate-12 transition-transform"})}),s.jsx("span",{className:"font-extrabold text-[13px] tracking-tight",children:"TWWE"})]}),s.jsxs("div",{className:"flex items-center gap-0.5 max-w-[70vw] overflow-x-auto no-scrollbar",children:[e.map(d=>s.jsx("div",{className:"group relative",children:s.jsxs("button",{onClick:()=>n(d.id),onDoubleClick:()=>{const w=prompt(":",d.name);w&&r(x=>x.map(C=>C.id===d.id?{...C,name:w}:C))},onContextMenu:w=>{w.preventDefault(),w.stopPropagation(),l({x:w.clientX,y:w.clientY,tabId:d.id})},className:`
                relative px-5 py-2.5 text-[10px] font-black tracking-wider uppercase transition-all flex items-center gap-2
                ${t===d.id?"text-white":"text-zinc-500 hover:text-zinc-300"}
              `,children:[d.isRealtime?s.jsx(vn,{size:12,className:f?"text-green-500":"text-zinc-600"}):s.jsx(cs,{size:12}),d.name,!d.isRealtime&&e.length>1&&s.jsx(zn,{size:10,className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity ml-1",onClick:w=>o(d.id,w)}),t===d.id&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-indigo-500"})]})},d.id)),s.jsx("button",{onClick:i,className:"p-2 text-zinc-600 hover:text-zinc-300 transition-colors",title:"",children:s.jsx(Er,{size:16})})]}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"flex items-center gap-1.5 pr-4 pb-1",children:[s.jsxs("button",{onClick:()=>a(!0),onContextMenu:d=>{d.preventDefault(),c()},title:":  / : ",className:`
            neo-button text-[10px] w-32 justify-between px-3
            ${h.isRealtime?"bg-green-500/10 text-green-400 border border-green-500/20 hover:bg-green-500/20":"bg-zinc-800 text-zinc-400 border border-white/5 hover:bg-zinc-700"}
          `,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[h.isRealtime?s.jsx(vn,{size:14,className:"animate-pulse"}):s.jsx(Ea,{size:14}),s.jsxs("div",{className:"flex flex-col items-start leading-none",children:[s.jsx("span",{className:"text-[8px] opacity-70 mb-0.5",children:h.isRealtime?"":""}),s.jsx("span",{className:"font-black",children:h.isRealtime?"ON":""})]})]}),h.isRealtime?s.jsx(Tm,{size:10,className:"opacity-50"}):s.jsx(Em,{size:10,className:"opacity-50"})]}),s.jsx("div",{className:"h-4 w-[1px] bg-white/10 mx-2"}),s.jsxs("button",{onClick:k,className:"neo-button bg-indigo-500/10 text-indigo-400 hover:bg-indigo-500/20",children:[s.jsx(Er,{size:14})," "]}),s.jsxs("label",{className:"neo-button bg-white/5 hover:bg-white/10 cursor-pointer text-[10px]",children:[s.jsx(_o,{size:14})," ",s.jsx("input",{type:"file",className:"hidden",onChange:N})]}),s.jsxs("button",{onClick:()=>S(),className:"neo-button bg-white/5 hover:bg-white/10 text-[10px]",children:[s.jsx(hr,{size:14})," "]}),s.jsx("button",{onClick:()=>F(!0),className:"p-2 text-zinc-500 hover:text-white transition-colors",children:s.jsx(xp,{size:18})})]})]})}function Fm({isConnected:e,activeTab:t,tabsCount:n,notification:r}){return s.jsxs(s.Fragment,{children:[s.jsxs("footer",{className:"px-3 py-1.5 bg-zinc-900 border-t border-white/10 flex justify-between items-center text-[9px] font-bold text-zinc-600 uppercase tracking-tighter",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${e?"bg-green-500 shadow-[0_0_8px_#22c55e]":"bg-red-500 animate-pulse"}`}),e?"Sync: Connected":"Sync: Offline"]}),s.jsx("div",{className:"w-px h-3 bg-white/10"}),s.jsxs("span",{children:["Active: ",t.name]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{children:["Tabs: ",n]}),s.jsx("span",{children:"TheWebWandEngine  Professional Refactored v0.4.0"})]})]}),r&&s.jsx("div",{className:"fixed bottom-12 right-6 z-[500] animate-in slide-in-from-bottom-4 fade-in duration-300",children:s.jsxs("div",{className:`px-4 py-3 rounded-lg shadow-2xl border flex items-center gap-3 ${r.type==="success"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-indigo-500/10 border-indigo-500/20 text-indigo-400"}`,children:[r.type==="success"?s.jsx(gp,{size:16}):s.jsx(Cm,{size:16}),s.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:r.msg})]})})]})}function On({label:e,value:t,onChange:n,colorClass:r,secondaryValue:l}){return s.jsxs("div",{className:"flex flex-col group/prop",children:[s.jsx("label",{className:"text-[10px] font-black text-zinc-500 mb-1 uppercase tracking-wider transition-colors group-hover/prop:text-zinc-400",children:e}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("input",{type:"number",value:t,onChange:i=>n(parseFloat(i.target.value)||0),className:`bg-transparent font-mono text-xl font-bold w-24 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none ${r||"text-white"}`}),l&&s.jsx("span",{className:"text-xs font-mono text-zinc-600 italic whitespace-nowrap",children:l})]}),s.jsx("div",{className:"h-0.5 w-full bg-white/5 group-hover/prop:bg-indigo-500/30 transition-colors mt-1"})]})}let Vt=null;function Ue(e,t){return`./static_data/icons/${e}`}async function Am(e,t,n){return new Promise((r,l)=>{Vt||(Vt=new Worker(new URL(""+new URL("evaluator.worker-79868617.js",import.meta.url).href,self.location),{type:"module"}));const i=o=>{o.data.type==="RESULT"?(Vt==null||Vt.removeEventListener("message",i),r(o.data.data)):o.data.type==="ERROR"&&(Vt==null||Vt.removeEventListener("message",i),console.error("Worker Error:",o.data.error),alert(": "+o.data.error),l(o.data.error))};Vt.addEventListener("message",i),Vt.postMessage({type:"EVALUATE",data:e,options:t})})}function Wm({slot:e,data:t,spellDb:n,selection:r,hoveredSlot:l,updateWand:i,handleSlotMouseDown:o,handleSlotMouseUp:a,handleSlotMouseEnter:c,handleSlotMouseMove:m,handleSlotMouseLeave:k,openPicker:p,setSelection:h,setSettings:b,settings:N,isConnected:S}){const F=(f,u,d)=>{const w=N.showStatsInFrames?u:parseFloat((u/60).toFixed(3)),x=N.showStatsInFrames?(u/60).toFixed(2)+"s":u+"f";return s.jsx(On,{label:f,value:w,secondaryValue:x,colorClass:"text-amber-300",onChange:C=>i(e,{[d]:N.showStatsInFrames?Math.round(C):Math.round(C*60)})})};return s.jsxs("div",{className:"p-6 bg-zinc-950/50 border-t border-white/5 space-y-8 select-none",children:[s.jsxs("div",{className:"flex items-start justify-between gap-8",children:[s.jsxs("div",{className:"flex flex-wrap items-center bg-zinc-900/50 border border-white/5 rounded-xl p-1 pr-6 shadow-2xl",children:[s.jsx("div",{className:"px-6 py-2 border-r border-white/5 flex items-center h-16",children:s.jsxs("button",{onClick:()=>i(e,{shuffle_deck_when_empty:!t.shuffle_deck_when_empty}),className:`flex items-center gap-2 px-3 py-1.5 rounded border transition-all ${t.shuffle_deck_when_empty?"bg-red-500/10 border-red-500/30 text-red-400":"bg-emerald-500/10 border-emerald-500/30 text-emerald-400"}`,children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${t.shuffle_deck_when_empty?"bg-red-500":"bg-emerald-500"}`}),s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:t.shuffle_deck_when_empty?"Shuffle":"No Shuffle"})]})}),s.jsxs("div",{className:"px-8 py-2 border-r border-white/5 flex gap-10",children:[s.jsx(On,{label:"Mana Max",value:t.mana_max,colorClass:"text-cyan-400",onChange:f=>i(e,{mana_max:f})}),s.jsx(On,{label:"Recharge",value:t.mana_charge_speed,colorClass:"text-cyan-400",onChange:f=>i(e,{mana_charge_speed:f})})]}),s.jsxs("div",{className:"px-8 py-2 border-r border-white/5 flex gap-10",children:[F("Cast Delay",t.fire_rate_wait,"fire_rate_wait"),F("Rechg. Time",t.reload_time,"reload_time")]}),s.jsxs("div",{className:"px-8 py-2 flex gap-10",children:[s.jsx(On,{label:"Capacity",value:t.deck_capacity,onChange:f=>i(e,{deck_capacity:f})}),s.jsx(On,{label:"Spread",value:t.spread_degrees,colorClass:t.spread_degrees<=0?"text-emerald-400":"text-red-400",onChange:f=>i(e,{spread_degrees:f})}),s.jsx(On,{label:"Spells/Cast",value:t.actions_per_round,onChange:f=>i(e,{actions_per_round:Math.max(1,Math.round(f))})}),s.jsx(On,{label:"Speed",value:t.speed_multiplier,colorClass:"text-indigo-400",onChange:f=>i(e,{speed_multiplier:f})})]})]}),s.jsxs("div",{className:"text-[10px] font-black text-zinc-600 bg-white/[0.02] border border-white/5 px-3 py-2 rounded-lg tracking-[0.2em] flex items-center gap-2 shrink-0 h-fit",children:[s.jsx(Mm,{size:14,className:"opacity-50"})," EDITOR VIEW"]})]}),t.always_cast&&t.always_cast.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-amber-500/30 to-transparent"}),s.jsx("span",{className:"text-[10px] font-black text-amber-500 uppercase tracking-[0.3em]",children:"Always Cast Slots"}),s.jsx("div",{className:"h-px flex-1 bg-gradient-to-l from-amber-500/30 to-transparent"})]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:t.always_cast.map((f,u)=>{const d=n[f];return s.jsx("div",{className:"group/ac relative",children:s.jsxs("div",{className:"w-12 h-12 rounded-lg border border-amber-500/30 bg-amber-500/5 flex items-center justify-center relative shadow-[0_0_15px_rgba(245,158,11,0.1)] transition-transform hover:scale-105",children:[d?s.jsx("img",{src:Ue(d.icon),className:"w-10 h-10 image-pixelated",alt:"",title:`Always Cast: ${d.name}`}):s.jsx("span",{className:"text-amber-500/20 text-xs",children:"?"}),s.jsx("button",{onClick:()=>{const w=[...t.always_cast];w.splice(u,1),i(e,{always_cast:w})},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 text-white flex items-center justify-center opacity-0 group-hover/ac:opacity-100 transition-opacity z-10 shadow-lg",children:s.jsx(zn,{size:12})})]})},u)})})]}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto custom-scrollbar p-1 select-none",children:s.jsx("div",{className:"grid gap-0",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${56+(N.editorSpellGap||0)}px, 1fr))`},children:Array.from({length:Math.max(t.deck_capacity,24)}).map((f,u)=>{const d=(u+1).toString(),w=t.spells[d],x=w?n[w]:null,C=(t.spell_uses||{})[d]??(x==null?void 0:x.max_uses),_=u>=t.deck_capacity,R=(r==null?void 0:r.wandSlot)===e&&r.indices.includes(u+1),te=(l==null?void 0:l.wandSlot)===e&&(l==null?void 0:l.idx)===u+1,H=N.editorSpellGap||0;return s.jsx("div",{className:"aspect-square relative",style:{padding:`${H/2}px`},onMouseMove:V=>!_&&m(V,e,u+1),onMouseLeave:k,children:s.jsxs("div",{onMouseDown:V=>{_||(V.preventDefault(),o(e,u+1,V.button===2))},onMouseUp:V=>{_||a(e,u+1)},onContextMenu:V=>{x&&V.preventDefault()},onMouseEnter:()=>!_&&c(e,u+1),onClick:V=>{if(V.altKey&&x){if(V.preventDefault(),V.stopPropagation(),w==="IF_HP"||w==="IF_PROJECTILE"||w==="IF_ENEMY"){b(ce=>{const ue={...ce};return w==="IF_HP"&&(ue.simulateLowHp=!ce.simulateLowHp),w==="IF_PROJECTILE"&&(ue.simulateManyProjectiles=!ce.simulateManyProjectiles),w==="IF_ENEMY"&&(ue.simulateManyEnemies=!ce.simulateManyEnemies),ue});return}const A=C===0?x.max_uses??-1:0,ee={...t.spell_uses||{},[d]:A};i(e,{spell_uses:ee},`: ${A===0?" 0":""}`);return}r&&r.indices.length>1?h(null):!_&&p(e,d,V)},className:`
                      w-full h-full rounded-lg border flex items-center justify-center relative group/cell transition-all active:scale-95
                      ${_?"bg-black/40 border-transparent opacity-10":"bg-zinc-800/80 border-white/5 hover:border-indigo-500/50 cursor-pointer shadow-inner hover:bg-zinc-700/80"}
                      ${R?"ring-2 ring-indigo-500 ring-inset bg-indigo-500/20 border-indigo-400/50 z-10":""}
                    `,children:[te&&s.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-indigo-400 z-50 animate-pulse rounded-full",style:{[l.isRightHalf?"right":"left"]:`-${H/2+2}px`}}),x?s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center pointer-events-none",children:[(()=>{const V=w==="IF_HP"&&N.simulateLowHp||w==="IF_PROJECTILE"&&N.simulateManyProjectiles||w==="IF_ENEMY"&&N.simulateManyEnemies,A=C===0||V;return s.jsxs(s.Fragment,{children:[s.jsx("img",{src:Ue(x.icon),className:`w-11 h-11 image-pixelated transition-transform group-hover/cell:scale-110 ${A?"grayscale opacity-50":""}`,alt:"",draggable:"false"}),V&&s.jsx("div",{className:"absolute bottom-0 left-0",children:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",className:"drop-shadow-[0_0_2px_rgba(239,68,68,0.8)]",children:s.jsx("path",{d:"M0 12 L12 12 L0 0 Z",fill:"rgb(239, 68, 68)"})})}),C!==void 0&&(N.showSpellCharges||C===0)&&C!==-1&&!V&&s.jsx("div",{className:`absolute bottom-0 left-0 px-1.5 py-0.5 bg-black/90 text-[10px] font-mono font-black border-tr border-white/10 rounded-tr pointer-events-auto cursor-ns-resize select-none z-20 shadow-lg ${C===0?"text-red-500":"text-amber-400"}`,title:" (Alt+0, -1 )",onWheel:ee=>{ee.stopPropagation();const ce=ee.deltaY>0?-1:1,ue=Math.max(-1,(C??0)+ce),Re={...t.spell_uses||{},[d]:ue};i(e,{spell_uses:Re})},onClick:ee=>{ee.stopPropagation();const ce=C===0?x.max_uses??10:0,ue={...t.spell_uses||{},[d]:ce};i(e,{spell_uses:ue})},children:C})]})})(),s.jsx("button",{onClick:V=>{V.stopPropagation();const A={...t.spells},ee={...t.spell_uses||{}};delete A[d],delete ee[d],i(e,{spells:A,spell_uses:ee})},className:"absolute -top-1.5 -right-1.5 w-5 h-5 rounded-full bg-red-500 text-white flex items-center justify-center opacity-0 group-hover/cell:opacity-100 transition-opacity z-10 pointer-events-auto shadow-lg",children:s.jsx(zn,{size:12})})]}):!_&&s.jsx("span",{className:"text-zinc-800 text-2xl font-thin opacity-50",children:"+"}),!_&&s.jsx("div",{className:"absolute bottom-1 right-1.5 text-[8px] font-black text-white/5",children:u+1})]})},u)})})})]})}const Lo=e=>{if(!e)return 0;let t=1;return e.children&&e.children.forEach(n=>t+=Lo(n)),t},vp=(e,t)=>{var l,i;const n=e.name.startsWith("Cast #")?"Cast":e.name,r=t.name.startsWith("Cast #")?"Cast":t.name;if(n!==r||e.count!==t.count||e.extra!==t.extra||(((l=e.children)==null?void 0:l.length)||0)!==(((i=t.children)==null?void 0:i.length)||0))return!1;if(e.children){for(let o=0;o<e.children.length;o++)if(!vp(e.children[o],t.children[o]))return!1}return!0},Um=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){const r=Object.keys(e[n].stats),l=Object.keys(t[n].stats);if(r.length!==l.length)return!1;for(const i of r)if(e[n].stats[i]!==t[n].stats[i])return!1}return!0},Hm=({data:e,spellDb:t,onHoverSlots:n,settings:r})=>{const[l,i]=I.useState({}),[o,a]=I.useState({}),c=I.useMemo(()=>{var h;return!((h=e==null?void 0:e.tree)!=null&&h.children)||e.tree.children.length<=1?!1:Lo(e.tree.children[0])>(r.autoHideThreshold||20)},[e==null?void 0:e.tree,r.autoHideThreshold]);if(I.useEffect(()=>{i({}),a({})},[e]),!e||!e.tree)return null;const m=Object.entries(e.counts||{}).sort(([,p],[,h])=>h-p),k=I.useMemo(()=>{var b;const p=e.tree.children;if(!p||p.length===0)return[];const h=[];if(!r.groupIdenticalCasts)return p.forEach((N,S)=>{var f;const F=S+1;h.push({start:F,end:F,node:N,states:e.states.filter(u=>u.cast===F),counts:((f=e.cast_counts)==null?void 0:f[F.toString()])||{}})}),h;for(let N=0;N<p.length;N++){const S=N+1,F=p[N],f=e.states.filter(d=>d.cast===S),u=((b=e.cast_counts)==null?void 0:b[S.toString()])||{};if(h.length>0){const d=h[h.length-1],w=vp(d.node,F),x=Um(d.states,f),C=JSON.stringify(d.counts)===JSON.stringify(u);if(w&&x&&C){d.end=S;continue}}h.push({start:S,end:S,node:F,states:f,counts:u})}return h},[e,r.groupIdenticalCasts]);return s.jsxs("div",{className:"mt-6 p-4 bg-black/40 border border-white/10 rounded-lg overflow-hidden space-y-8 animate-in fade-in slide-in-from-top-4 duration-500",children:[m.length>0&&s.jsxs("section",{children:[s.jsxs("h3",{className:"text-[10px] font-black text-zinc-500 mb-4 flex items-center gap-2 tracking-widest uppercase",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.5)] rounded-full"})," (Overall)"]}),s.jsx("div",{className:"flex flex-wrap gap-2 opacity-60 grayscale-[0.5] hover:opacity-100 hover:grayscale-0 transition-all duration-300",children:m.map(([p,h])=>{const b=t[p];return s.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900/40 border border-white/5 pl-1 pr-3 py-0.5 rounded-md transition-all group/count",children:[b?s.jsx("img",{src:Ue(b.icon),alt:p,className:"w-5 h-5 image-pixelated"}):s.jsx("div",{className:"w-5 h-5 bg-zinc-800 rounded flex items-center justify-center text-[8px] text-zinc-500 font-mono",children:"?"}),s.jsxs("div",{className:"flex flex-col -space-y-1",children:[s.jsx("span",{className:"text-[8px] font-bold text-zinc-500 uppercase tracking-tighter truncate max-w-[60px]",title:p,children:b?b.name:p}),s.jsx("span",{className:"text-[9px] font-black text-amber-500/80 font-mono",children:h.toLocaleString()})]})]},p)})})]}),s.jsxs("section",{children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h3",{className:"text-[10px] font-black text-zinc-500 flex items-center gap-2 tracking-widest uppercase",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.5)] rounded-full"})," (Shot States)"]})}),s.jsx("div",{className:"space-y-6",children:k.map(p=>{const h=p.start!==p.end,b=l[p.start]??!0,N=o[p.start]??!1;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group/h",onClick:()=>i(S=>({...S,[p.start]:!b})),children:[s.jsxs("div",{className:`flex items-center gap-2 px-2 py-0.5 rounded border uppercase tracking-tighter transition-colors ${h?"bg-amber-500/10 text-amber-500 border-amber-500/20":"bg-indigo-500/10 text-indigo-400 border-indigo-500/20"}`,children:[s.jsx("span",{className:"text-[9px] font-black",children:h?`Cast #${p.start} - #${p.end}`:`Cast #${p.start}`}),h&&s.jsx("span",{className:"text-[7px] font-bold bg-amber-500/20 px-1 rounded",children:""})]}),h&&b&&s.jsx("button",{onClick:S=>{S.stopPropagation(),a(F=>({...F,[p.start]:!N}))},className:"text-[8px] font-black text-zinc-500 hover:text-white bg-white/5 px-2 py-0.5 rounded border border-white/5 transition-all uppercase",children:N?"":` ${p.end-p.start+1} `}),s.jsx("div",{className:"h-px flex-1 bg-white/5"}),s.jsx("div",{className:"text-zinc-600 group-hover/h:text-zinc-400 transition-colors",children:b?s.jsx(Os,{size:12}):s.jsx(ko,{size:12})})]}),b&&s.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-top-1 duration-200",children:!h||!N?s.jsxs("div",{className:"flex items-start gap-8",children:[s.jsx(Kl,{group:p,spellDb:t}),s.jsx("div",{className:"flex-1 flex gap-4 overflow-x-auto pb-2 custom-scrollbar-mini",children:p.states.map(S=>s.jsx(Zc,{state:S},`${S.cast}-${S.id}`))})]}):Array.from({length:p.end-p.start+1}).map((S,F)=>{var w;const f=p.start+F,u=e.states.filter(x=>x.cast===f),d=((w=e.cast_counts)==null?void 0:w[f.toString()])||{};return s.jsxs("div",{className:"flex items-start gap-8 opacity-90 hover:opacity-100 transition-opacity",children:[s.jsx("div",{className:"shrink-0 w-12 pt-4",children:s.jsxs("span",{className:"text-[8px] font-black text-zinc-600 uppercase",children:["# ",f]})}),s.jsx(Kl,{group:{counts:d},spellDb:t}),s.jsx("div",{className:"flex-1 flex gap-4 overflow-x-auto pb-2 custom-scrollbar-mini",children:u.map(x=>s.jsx(Zc,{state:x},`${x.cast}-${x.id}`))})]},f)})})]},p.start)})})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-[10px] font-black text-zinc-500 mb-4 flex items-center gap-2 tracking-widest uppercase",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)] rounded-full"})," ()"]}),s.jsx("div",{className:"space-y-4",children:k.map(p=>{const h=Lo(p.node),b=p.start!==p.end,N=c&&p.start>1,S=l[p.start]??!N,F=o[p.start]??!1;return s.jsxs("div",{className:"bg-zinc-950/30 rounded-lg border border-white/5 overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-2 bg-white/5 flex items-center justify-between cursor-pointer hover:bg-white/10 transition-colors group/treeh",onClick:()=>i(f=>({...f,[p.start]:!S})),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-[10px] font-black uppercase ${b?"text-amber-500":"text-emerald-500"}`,children:b?`Cast #${p.start} - #${p.end}`:`Cast #${p.start}`}),s.jsxs("span",{className:"text-[8px] text-zinc-600 font-mono",children:[": ",h]}),b&&S&&s.jsx("button",{onClick:f=>{f.stopPropagation(),a(u=>({...u,[p.start]:!F}))},className:"text-[8px] font-black text-zinc-500 hover:text-white bg-white/5 px-2 py-0.5 rounded border border-white/5 transition-all uppercase",children:F?"":` ${p.end-p.start+1} `}),N&&!S&&s.jsx("span",{className:"text-[8px] bg-amber-500/10 text-amber-500 px-1.5 py-0.5 rounded border border-amber-500/20",children:""})]}),s.jsx("div",{className:"text-zinc-500 group-hover/treeh:text-zinc-300",children:S?s.jsx(Os,{size:14}):s.jsx(ko,{size:14})})]}),S&&s.jsx("div",{className:"p-6 space-y-12 animate-in fade-in slide-in-from-top-1 duration-200",children:!b||!F?s.jsxs("div",{className:"flex items-start gap-8",children:[s.jsx(Kl,{group:p,spellDb:t}),s.jsx("div",{className:"flex-1 overflow-x-auto custom-scrollbar pb-4",children:s.jsx("div",{className:"w-fit",children:s.jsx(Mo,{node:p.node,spellDb:t,isRoot:!0,onHover:n})})})]}):Array.from({length:p.end-p.start+1}).map((f,u)=>{var C,_;const d=p.start+u,w=(C=e.tree.children)==null?void 0:C[d-1],x=((_=e.cast_counts)==null?void 0:_[d.toString()])||{};return w?s.jsxs("div",{className:"flex items-start gap-8 opacity-90 hover:opacity-100 transition-opacity",children:[s.jsx("div",{className:"shrink-0 w-12 pt-4",children:s.jsxs("span",{className:"text-[8px] font-black text-zinc-600 uppercase",children:["# ",d]})}),s.jsx(Kl,{group:{counts:x},spellDb:t}),s.jsx("div",{className:"flex-1 overflow-x-auto custom-scrollbar pb-4",children:s.jsx("div",{className:"w-fit",children:s.jsx(Mo,{node:w,spellDb:t,isRoot:!0,onHover:n})})})]},d):null})})]},p.start)})})]})]})},Kl=({group:e,spellDb:t})=>{const n=Object.entries(e.counts||{}).sort(([,r],[,l])=>l-r);return n.length===0?null:s.jsxs("div",{className:"flex-shrink-0 w-48 space-y-2",children:[s.jsxs("div",{className:"text-[8px] font-black text-zinc-600 uppercase tracking-widest flex items-center gap-1.5",children:[s.jsx("div",{className:"w-1 h-1 bg-amber-500/50 rounded-full"}),""]}),s.jsx("div",{className:"flex flex-col gap-1.5 max-h-48 overflow-y-auto custom-scrollbar-mini pr-2",children:n.map(([r,l])=>{const i=t[r];return s.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900/60 border border-white/5 pl-1 pr-2 py-1 rounded transition-all",children:[i?s.jsx("img",{src:Ue(i.icon),alt:r,className:"w-6 h-6 image-pixelated"}):s.jsx("div",{className:"w-6 h-6 bg-zinc-800 rounded flex items-center justify-center text-[8px] text-zinc-500 font-mono",children:"?"}),s.jsxs("div",{className:"flex-1 flex justify-between items-baseline min-w-0",children:[s.jsx("span",{className:"text-[9px] font-bold text-zinc-400 truncate uppercase tracking-tighter mr-2",title:r,children:i?i.name:r}),s.jsxs("span",{className:"text-[10px] font-black text-amber-500 font-mono",children:["x",l.toLocaleString()]})]})]},r)})})]})},Zc=({state:e})=>s.jsxs("div",{className:"flex-shrink-0 w-56 p-3 bg-zinc-900/50 border border-white/5 rounded-md hover:border-blue-500/30 transition-colors group/state",children:[s.jsxs("div",{className:"text-[10px] font-mono font-bold text-blue-400 mb-3 border-b border-white/5 pb-1.5 flex justify-between items-center uppercase tracking-tighter",children:[s.jsxs("span",{children:[" ",e.id," "]}),s.jsx("span",{className:"opacity-0 group-hover/state:opacity-100 text-[8px] text-zinc-600 transition-opacity",children:"PROJ STATE"})]}),s.jsx("div",{className:"space-y-1.5",children:Object.entries(e.stats).map(([t,n])=>s.jsxs("div",{className:"flex justify-between text-[10px] font-mono leading-none",children:[s.jsx("span",{className:"text-zinc-500 uppercase text-[9px]",children:t.replace(/_/g," ")}),s.jsx("span",{className:"text-zinc-300",children:n})]},t))})]}),Mo=({node:e,spellDb:t,isRoot:n,onHover:r})=>{const l=e.name.startsWith("Cast #")||e.name==="Wand",i=t[e.name],o=i?Ue(i.icon):null;return s.jsx("div",{className:"flex items-center shrink-0",children:s.jsxs("div",{className:"relative flex items-center",children:[!n&&s.jsx("div",{className:"w-6 h-px bg-zinc-800 shrink-0"}),s.jsxs("div",{onMouseEnter:()=>e.index&&(r==null?void 0:r(e.index)),onMouseLeave:()=>r==null?void 0:r(null),className:`
            group relative p-2 rounded border transition-all cursor-help shrink-0
            ${l?"bg-indigo-500/10 border-indigo-500/30":"bg-zinc-900 border-white/10 shadow-xl"}
            hover:scale-110 hover:z-20 hover:border-indigo-400 hover:bg-indigo-400/20
          `,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-[24px] justify-center",children:[o?s.jsx("img",{src:o,alt:e.name,className:"w-7 h-7 image-pixelated drop-shadow-md",title:e.name}):s.jsx("span",{className:"text-[10px] font-black font-mono text-zinc-400 px-1 whitespace-nowrap uppercase italic tracking-tighter",children:e.name}),e.count>1&&s.jsxs("span",{className:"text-[10px] font-black bg-indigo-500 text-white px-1 rounded shadow-sm",children:["x",e.count]})]}),e.extra&&s.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap bg-zinc-800 text-[9px] font-bold px-2 py-1 rounded border border-white/10 text-zinc-300 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-30 shadow-2xl uppercase tracking-tighter",children:e.extra})]}),e.children&&e.children.length>0&&s.jsxs("div",{className:"flex flex-col gap-3 relative",children:[s.jsx("div",{className:"flex flex-col gap-3 ml-0 shrink-0",children:e.children.map((a,c)=>s.jsx("div",{className:"flex items-center",children:s.jsx(Mo,{node:a,spellDb:t,onHover:r})},c))}),e.children.length>1&&s.jsx("div",{className:"absolute left-6 top-5 bottom-5 w-px bg-zinc-800"})]})]})})};function Vm({slot:e,data:t,activeTab:n,isConnected:r,spellDb:l,selection:i,hoveredSlot:o,clipboard:a,toggleExpand:c,deleteWand:m,copyWand:k,copyLegacyWand:p,pasteWand:h,updateWand:b,handleSlotMouseDown:N,handleSlotMouseUp:S,handleSlotMouseEnter:F,handleSlotMouseMove:f,handleSlotMouseLeave:u,openPicker:d,setSelection:w,setSettings:x,evalData:C,settings:_,onSaveToWarehouse:R}){const te=(V,A,ee)=>{const ce=_.showStatsInFrames?A:(A/60).toFixed(2)+"s",ue=_.showStatsInFrames?(A/60).toFixed(2)+"s":A;return s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-wider leading-none mb-1",children:V}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:`text-[13px] font-mono font-bold leading-none ${ee}`,children:ce}),s.jsx("span",{className:"text-[10px] font-mono text-zinc-600 leading-none",children:ue})]})]})},H=({label:V,value:A,colorClass:ee})=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-wider leading-none mb-1",children:V}),s.jsx("span",{className:`text-[13px] font-mono font-bold leading-none ${ee||"text-zinc-200"}`,children:A})]});return s.jsxs("div",{className:`glass-card group/wand overflow-hidden border-white/5 ${n.expandedWands.has(e)?"bg-zinc-900/40":"hover:bg-zinc-900/20"}`,children:[s.jsxs("div",{className:"flex items-center px-4 py-2 cursor-pointer gap-4",onClick:()=>c(e),children:[s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-zinc-800 flex items-center justify-center border border-white/5",children:s.jsx(Eo,{size:16,className:`${n.isRealtime?"text-indigo-400":"text-amber-400"}`})}),s.jsx("div",{className:"text-[10px] font-black w-6 text-center",children:e})]}),s.jsxs("div",{className:"flex-1 flex items-center gap-1 overflow-x-auto no-scrollbar py-1",children:[Object.entries(t.spells).sort(([V],[A])=>parseInt(V)-parseInt(A)).map(([V,A])=>{const ee=l[A],ce=(t.spell_uses||{})[V]??(ee==null?void 0:ee.max_uses),ue=A==="IF_HP"&&_.simulateLowHp||A==="IF_PROJECTILE"&&_.simulateManyProjectiles||A==="IF_ENEMY"&&_.simulateManyEnemies,Re=ce===0||ue,He=(ce===0||_.showSpellCharges)&&!ue;return ee?s.jsxs("div",{className:"relative shrink-0",children:[s.jsx("img",{src:Ue(ee.icon),className:`w-7 h-7 image-pixelated border border-white/10 rounded bg-black/20 ${Re?"grayscale opacity-50":""}`,alt:ee.name,title:`${V}: ${ee.name}${ce!==void 0?` (: ${ce})`:""}`}),ue&&s.jsx("div",{className:"absolute bottom-0 left-0",children:s.jsx("svg",{width:"8",height:"8",viewBox:"0 0 12 12",children:s.jsx("path",{d:"M0 12 L12 12 L0 0 Z",fill:"rgb(239, 68, 68)"})})}),ce!==void 0&&ce!==-1&&He&&s.jsx("div",{className:`absolute bottom-0 left-0 px-0.5 bg-black/80 text-[6px] font-mono leading-none border-tr border-white/10 rounded-tr ${ce===0?"text-red-500":"text-amber-400"}`,children:ce})]},V):null}),Object.keys(t.spells).length===0&&s.jsx("span",{className:"text-[10px] text-zinc-700 italic font-medium ml-2",children:""})]}),s.jsxs("div",{className:"flex items-center gap-0 border-l border-white/5 shrink-0 h-10",children:[s.jsx("div",{className:"px-3 h-full flex items-center border-r border-white/5",children:s.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded border ${t.shuffle_deck_when_empty?"bg-red-500/5 border-red-500/20 text-red-400":"bg-emerald-500/5 border-emerald-500/20 text-emerald-400"}`,children:[s.jsx("div",{className:`w-1 h-1 rounded-full ${t.shuffle_deck_when_empty?"bg-red-500":"bg-emerald-500"}`}),s.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider whitespace-nowrap",children:t.shuffle_deck_when_empty?"Shuffle":"No Shuffle"})]})}),s.jsxs("div",{className:"px-3 h-full flex items-center gap-4 border-r border-white/5",children:[s.jsx(H,{label:"Mana Max",value:t.mana_max,colorClass:"text-cyan-400"}),s.jsx(H,{label:"Recharge",value:t.mana_charge_speed,colorClass:"text-cyan-400"})]}),s.jsxs("div",{className:"px-3 h-full flex items-center gap-4 border-r border-white/5",children:[te("Cast Delay",t.fire_rate_wait,"text-amber-300"),te("Rechg. Time",t.reload_time,"text-amber-300")]}),s.jsxs("div",{className:"px-3 h-full flex items-center gap-4 border-r border-white/5",children:[s.jsx(H,{label:"Capacity",value:t.deck_capacity}),s.jsx(H,{label:"Spread",value:(t.spread_degrees>0?"+":"")+t.spread_degrees+"",colorClass:t.spread_degrees<=0?"text-emerald-400":"text-red-400"}),s.jsx(H,{label:"Cast",value:t.actions_per_round}),s.jsx(H,{label:"Speed",value:t.speed_multiplier.toFixed(2)+"x",colorClass:"text-indigo-400"})]}),s.jsxs("div",{className:"flex items-center bg-black/40 rounded-md p-0.5 ml-2 opacity-0 group-hover/wand:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:V=>{V.stopPropagation(),k(e)},className:"p-1.5 hover:bg-white/10 text-zinc-500 hover:text-indigo-400 rounded transition-colors",title:" (Ctrl+C)",children:s.jsx(Im,{size:14})}),_.showLegacyWandButton&&s.jsx("button",{onClick:V=>{V.stopPropagation(),p(e)},className:"p-1.5 hover:bg-white/10 text-zinc-500 hover:text-amber-400 rounded transition-colors text-[10px] font-black",title:"Wand",children:"W"}),s.jsx("button",{onClick:V=>{V.stopPropagation(),h(e)},disabled:!a,className:`p-1.5 rounded transition-colors ${a?"hover:bg-white/10 text-zinc-500 hover:text-emerald-400":"text-zinc-800 cursor-not-allowed"}`,title:" ()",children:s.jsx(km,{size:14})}),s.jsx("div",{className:"w-px h-3 bg-white/10 mx-1"}),s.jsx("button",{onClick:V=>{V.stopPropagation(),R&&R(t)},className:"p-1.5 hover:bg-purple-500/20 text-zinc-500 hover:text-purple-400 rounded transition-colors",title:"",children:s.jsx(jl,{size:14})}),s.jsx("button",{onClick:V=>{V.stopPropagation(),m(e)},className:"p-1.5 hover:bg-red-500/20 text-zinc-500 hover:text-red-400 rounded transition-colors",children:s.jsx(Jn,{size:14})}),s.jsx("div",{className:"p-1.5 text-zinc-600",children:n.expandedWands.has(e)?s.jsx(jm,{size:16}):s.jsx(Os,{size:16})})]})]})]}),n.expandedWands.has(e)&&s.jsxs(s.Fragment,{children:[s.jsx(Wm,{slot:e,data:t,spellDb:l,selection:i,hoveredSlot:o,updateWand:b,handleSlotMouseDown:N,handleSlotMouseUp:S,handleSlotMouseEnter:F,handleSlotMouseMove:f,handleSlotMouseLeave:u,openPicker:d,setSelection:w,setSettings:x,settings:_,isConnected:r}),C&&s.jsx("div",{className:"px-4 pb-4",children:s.jsx(Hm,{data:C,spellDb:l,settings:_})})]})]})}function Bm({isOpen:e,onClose:t,activeTab:n,spellDb:r,onJumpPast:l,onJumpFuture:i,onUndo:o,onRedo:a,isConnected:c}){var m,k;return e?s.jsxs("div",{className:"fixed inset-y-0 right-0 w-80 bg-zinc-900/95 backdrop-blur-xl border-l border-white/10 shadow-[0_0_50px_rgba(0,0,0,0.5)] z-[300] flex flex-col animate-in slide-in-from-right duration-300",children:[s.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-black/40",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hp,{size:18,className:"text-indigo-400"}),s.jsx("h2",{className:"text-sm font-black uppercase tracking-widest",children:""})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full text-zinc-500 hover:text-white transition-colors",title:"",children:s.jsx(zn,{size:18})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:s.jsxs("div",{className:"flex flex-col",children:[(!n.past||n.past.length===0)&&(!n.future||n.future.length===0)&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-zinc-600 gap-2",children:[s.jsx(bm,{size:32,className:"opacity-10"}),s.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:""})]}),s.jsx("div",{className:"flex flex-col",children:n.past&&n.past.map((p,h)=>s.jsxs("button",{onClick:()=>l(h),className:"flex flex-col px-4 py-3 text-left border-b border-white/5 transition-all hover:bg-indigo-500/5 group/hitem relative overflow-hidden",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500/0 group-hover/hitem:bg-indigo-500 transition-all"}),s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("span",{className:"text-xs font-bold text-zinc-300 group-hover/hitem:text-white",children:p.name}),s.jsx("span",{className:"text-[9px] font-mono text-zinc-600 group-hover/hitem:text-indigo-300/50",children:new Date(p.timestamp).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),p.icons&&p.icons.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 max-h-12 overflow-hidden group-hover/hitem:max-h-none transition-all duration-300",children:[p.icons.slice(0,15).map((b,N)=>{const S=r[b];return S?s.jsx("img",{src:Ue(S.icon),className:"w-5 h-5 image-pixelated border border-white/5 rounded-sm bg-black/40 shadow-sm",alt:""},N):null}),p.icons.length>15&&s.jsxs("span",{className:"text-[8px] text-zinc-500 flex items-center px-1 font-black",children:["+",p.icons.length-15]})]})]},p.id))}),(((m=n.past)==null?void 0:m.length)>0||((k=n.future)==null?void 0:k.length)>0)&&s.jsxs("div",{className:"px-4 py-4 bg-indigo-600/20 border-l-4 border-l-indigo-500 border-y border-white/10 sticky top-0 z-10 backdrop-blur-md",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 animate-pulse"}),s.jsx("span",{className:"text-xs font-black text-white uppercase tracking-wider",children:""})]}),s.jsx("div",{className:"text-[9px] text-indigo-400/70 uppercase font-black tracking-widest mt-1",children:"Latest Working Version"})]}),s.jsx("div",{className:"flex flex-col",children:n.future&&n.future.map((p,h)=>s.jsxs("button",{onClick:()=>i(h),className:"flex flex-col px-4 py-3 text-left border-b border-white/5 group/fitem relative overflow-hidden transition-all hover:bg-emerald-500/10",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500/0 group-hover/fitem:bg-emerald-500 transition-all"}),s.jsxs("div",{className:"flex justify-between items-start mb-2 opacity-50 group-hover/fitem:opacity-100 transition-opacity",children:[s.jsx("span",{className:"text-xs font-bold text-zinc-400 group-hover/fitem:text-emerald-400",children:p.name}),s.jsx("span",{className:"text-[9px] font-mono text-zinc-700",children:new Date(p.timestamp).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),p.icons&&p.icons.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 opacity-30 group-hover/fitem:opacity-100 transition-all",children:p.icons.slice(0,15).map((b,N)=>{const S=r[b];return S?s.jsx("img",{src:Ue(S.icon),className:"w-4 h-4 image-pixelated border border-white/5 rounded-sm bg-black/40 grayscale group-hover/fitem:grayscale-0",alt:""},N):null})})]},p.id))})]})}),s.jsxs("div",{className:"p-4 bg-black/40 border-t border-white/10 space-y-3 shadow-[0_-10px_30px_rgba(0,0,0,0.3)]",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:o,disabled:!n.past||n.past.length===0,className:"flex-1 py-2.5 bg-zinc-800 hover:bg-indigo-600 disabled:bg-zinc-900 disabled:opacity-20 disabled:cursor-not-allowed rounded-lg text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 group shadow-lg active:scale-95",children:[s.jsx(Om,{size:14,className:"group-hover:-translate-x-0.5 transition-transform"})," (Ctrl+Z)"]}),s.jsxs("button",{onClick:a,disabled:!n.future||n.future.length===0,className:"flex-1 py-2.5 bg-zinc-800 hover:bg-emerald-600 disabled:bg-zinc-900 disabled:opacity-20 disabled:cursor-not-allowed rounded-lg text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 group shadow-lg active:scale-95",children:[" (Ctrl+Y)",s.jsx(Pm,{size:14,className:"group-hover:translate-x-0.5 transition-transform"})]})]}),s.jsx("p",{className:"text-[9px] text-zinc-600 text-center uppercase font-black tracking-[0.2em] opacity-50",children:""})]})]}):null}function Gm({isOpen:e,onClose:t,settings:n,setSettings:r,onImport:l,onExport:i}){const[o,a]=I.useState("general"),[c,m]=I.useState("");if(!e||!n)return null;n.themeColors;const k=n.defaultWandStats||{},p=(x,C)=>{r(_=>({..._,defaultWandStats:{..._.defaultWandStats||{},[x]:C}}))},h=(x,C)=>{r(_=>({..._,spellTypes:_.spellTypes.map(R=>R.id===x?{...R,color:C}:R)}))},b=(x,C)=>{r(_=>({..._,spellGroups:_.spellGroups.map((R,te)=>te===x?{...R,color:C}:R)}))},N=(x,C)=>{r(_=>({..._,spellGroups:_.spellGroups.map((R,te)=>te===x?{...R,name:C}:R)}))},S=["from-blue-500/10 to-blue-600/20","from-green-500/10 to-green-600/20","from-purple-500/10 to-purple-600/20","from-orange-500/10 to-orange-600/20","from-red-500/10 to-red-600/20","from-zinc-500/10 to-zinc-600/20"],F=()=>{r(x=>({...x,spellGroups:[...x.spellGroups,{name:"",types:[]}]}))},f=x=>{n.spellGroups.length<=1||r(C=>({...C,spellGroups:C.spellGroups.filter((_,R)=>R!==x)}))},u=(x,C)=>{r(_=>({..._,spellGroups:_.spellGroups.map((R,te)=>{if(te===x){const H=R.types.includes(C);return{...R,types:H?R.types.filter(V=>V!==C):[...R.types,C]}}return R})}))},d=[{id:"general",name:"",icon:s.jsx(xp,{size:16})},{id:"appearance",name:"",icon:s.jsx(cs,{size:16})},{id:"wand",name:"",icon:s.jsx(Eo,{size:16})},{id:"cast",name:"",icon:s.jsx(gp,{size:16})},{id:"spell_types",name:"",icon:s.jsx(zo,{size:16})},{id:"sync",name:"",icon:s.jsx(vn,{size:16})},{id:"data",name:"",icon:s.jsx(Xc,{size:16})}],w=x=>c?x.toLowerCase().includes(c.toLowerCase()):!0;return s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md px-4 py-8",onClick:t,children:s.jsxs("div",{className:"glass-card bg-[#0c0c0e] border-white/10 w-full max-w-3xl h-full max-h-[600px] flex overflow-hidden shadow-2xl animate-in fade-in zoom-in-95 duration-200",onClick:x=>x.stopPropagation(),children:[s.jsxs("div",{className:"w-40 bg-black/40 border-r border-white/5 flex flex-col shrink-0",children:[s.jsx("div",{className:"p-4 border-b border-white/5",children:s.jsx("h2",{className:"text-[10px] font-black tracking-widest uppercase text-indigo-500",children:"Settings"})}),s.jsx("nav",{className:"p-2 space-y-1 flex-1",children:d.map(x=>s.jsxs("button",{onClick:()=>{a(x.id),m("")},className:`w-full flex items-center gap-3 px-3 py-2 rounded text-[11px] font-bold transition-all ${o===x.id&&!c?"bg-indigo-500/10 text-white":"text-zinc-500 hover:bg-white/5"}`,children:[x.icon,s.jsx("span",{className:"hidden sm:inline",children:x.name})]},x.id))})]}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[s.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center gap-4 bg-black/20",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-600",size:14}),s.jsx("input",{type:"text",placeholder:"...",value:c,onChange:x=>m(x.target.value),className:"w-full bg-black/40 border border-white/5 rounded-full pl-9 pr-4 py-1.5 text-[11px] outline-none focus:border-indigo-500/30 text-white"})]}),s.jsx("button",{onClick:t,className:"p-1 hover:bg-white/10 rounded-full text-zinc-500 transition-colors",children:s.jsx(zn,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-8",children:[(c||o==="general")&&s.jsxs("div",{className:"space-y-6",children:[w("")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:""}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"range",min:"0",max:"50",value:n.commonLimit,onChange:x=>r(C=>({...C,commonLimit:parseInt(x.target.value)||0})),className:"flex-1 accent-indigo-500"}),s.jsx("span",{className:"text-xs font-mono font-bold text-indigo-400 w-8",children:n.commonLimit})]})]}),w("")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:""}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"range",min:"1",max:"50",value:n.categoryLimit,onChange:x=>r(C=>({...C,categoryLimit:parseInt(x.target.value)||1})),className:"flex-1 accent-emerald-500"}),s.jsx("span",{className:"text-xs font-mono font-bold text-emerald-400 w-8",children:n.categoryLimit})]})]})]}),(c||o==="appearance")&&s.jsxs("div",{className:"space-y-6",children:[w("")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:[" (",n.wrapLimit,")"]}),s.jsx("input",{type:"range",min:"5",max:"40",value:n.wrapLimit,onChange:x=>r(C=>({...C,wrapLimit:parseInt(x.target.value)||20})),className:"w-full accent-indigo-500"})]}),w("")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:[" (",n.pickerRowHeight,"px)"]}),s.jsx("input",{type:"range",min:"24",max:"64",step:"4",value:n.pickerRowHeight,onChange:x=>r(C=>({...C,pickerRowHeight:parseInt(x.target.value)||32})),className:"w-full accent-amber-500"})]}),w("")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:[" (",n.warehouseFolderHeight,"px)"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"range",min:"0",max:"800",step:"50",value:n.warehouseFolderHeight,onChange:x=>r(C=>({...C,warehouseFolderHeight:parseInt(x.target.value)||0})),className:"flex-1 accent-indigo-500"}),s.jsx("span",{className:"text-xs font-mono font-bold text-indigo-400 w-12",children:n.warehouseFolderHeight||""})]}),s.jsx("div",{className:"text-[9px] text-zinc-600 italic",children:"*  0 "})]}),w("")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:[" (",n.editorSpellGap,"px)"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"range",min:"0",max:"20",step:"2",value:n.editorSpellGap,onChange:x=>r(C=>({...C,editorSpellGap:parseInt(x.target.value)||0})),className:"flex-1 accent-indigo-500"}),s.jsx("span",{className:"text-xs font-mono font-bold text-indigo-400 w-8",children:n.editorSpellGap})]})]}),w("")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-zinc-500/10 rounded-lg text-zinc-400",children:s.jsx(cs,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:""}),s.jsx("div",{className:"text-[10px] text-zinc-500",children:""})]})]}),s.jsx("button",{onClick:()=>r(x=>({...x,hideLabels:!x.hideLabels})),className:`w-10 h-5 rounded-full relative transition-colors ${n.hideLabels?"bg-indigo-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.hideLabels?"left-6":"left-1"}`})})]})]}),(c||o==="wand")&&s.jsxs("div",{className:"space-y-6",children:[w("")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400",children:s.jsx(vn,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:" (Frames)"}),s.jsx("div",{className:"text-[10px] text-zinc-500",children:" (1/60s) "})]})]}),s.jsx("button",{onClick:()=>r(x=>({...x,showStatsInFrames:!x.showStatsInFrames})),className:`w-10 h-5 rounded-full relative transition-colors ${n.showStatsInFrames?"bg-indigo-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.showStatsInFrames?"left-6":"left-1"}`})})]}),w("Wand")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg text-amber-400",children:s.jsx(Eo,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:"Wand (Legacy)"}),s.jsxs("div",{className:"text-[10px] text-zinc-500",children:[" W  Wiki  ","{{Wand}}"," "]})]})]}),s.jsx("button",{onClick:()=>r(x=>({...x,showLegacyWandButton:!x.showLegacyWandButton})),className:`w-10 h-5 rounded-full relative transition-colors ${n.showLegacyWandButton?"bg-indigo-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.showLegacyWandButton?"left-6":"left-1"}`})})]}),w("Delete")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg text-red-400",children:s.jsx(Jn,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:"Delete "}),s.jsx("div",{className:"text-[10px] text-zinc-500",children:" Delete "})]})]}),s.jsx("button",{onClick:()=>r(x=>({...x,deleteEmptySlots:!x.deleteEmptySlots})),className:`w-10 h-5 rounded-full relative transition-colors ${n.deleteEmptySlots?"bg-indigo-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.deleteEmptySlots?"left-6":"left-1"}`})})]}),w("")&&s.jsxs("div",{className:"bg-indigo-500/5 border border-indigo-500/20 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-[11px] font-black text-indigo-400 uppercase mb-4 flex items-center gap-2",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:["mana_max","mana_charge_speed","deck_capacity","fire_rate_wait","reload_time"].map(x=>{const C=x==="fire_rate_wait"||x==="reload_time",_=C&&!n.showStatsInFrames?parseFloat(((k[x]||0)/60).toFixed(3)):k[x]??"",R=C?`${x.replace(/_/g," ")} (${n.showStatsInFrames?"f":"s"})`:x.replace(/_/g," ");return s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[9px] font-bold text-zinc-500 uppercase",children:R}),s.jsx("input",{type:"number",value:_,onChange:te=>{let H=parseFloat(te.target.value)||0;C&&!n.showStatsInFrames&&(H=Math.round(H*60)),p(x,H)},className:"w-full bg-black/40 border border-white/10 rounded px-2 py-1.5 text-xs font-mono text-indigo-300 outline-none focus:border-indigo-500/50"})]},x)})})]})]}),(c||o==="cast")&&s.jsxs("div",{className:"space-y-6",children:[w("")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg text-purple-400",children:s.jsx(zo,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:" (Unlimited Spells)"}),s.jsx("div",{className:"text-[10px] text-zinc-500",children:""})]})]}),s.jsx("button",{onClick:()=>r(x=>({...x,unlimitedSpells:!x.unlimitedSpells})),className:`w-10 h-5 rounded-full relative transition-colors ${n.unlimitedSpells?"bg-indigo-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.unlimitedSpells?"left-6":"left-1"}`})})]}),w("IF_HALF ")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg text-amber-400",children:s.jsx(vn,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:"IF_HALF  ()"}),s.jsx("div",{className:"text-[10px] text-zinc-500",children:" IF_HALF ()"})]})]}),s.jsx("button",{onClick:()=>r(x=>({...x,initialIfHalf:!x.initialIfHalf})),className:`w-10 h-5 rounded-full relative transition-colors ${n.initialIfHalf?"bg-indigo-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.initialIfHalf?"left-6":"left-1"}`})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w(": ")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:":  (25%)"}),s.jsx("div",{className:"text-[10px] text-zinc-500",children:" IF_HP,25%,"})]}),s.jsx("button",{onClick:()=>r(x=>({...x,simulateLowHp:!x.simulateLowHp})),className:`w-8 h-4 rounded-full relative transition-colors shrink-0 ${n.simulateLowHp?"bg-red-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-0.5 w-2 h-2 rounded-full bg-white transition-all ${n.simulateLowHp?"left-5":"left-1"}`})})]}),w(": ")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:":  (15)"}),s.jsx("div",{className:"text-[10px] text-zinc-500",children:" IF_ENEMY,15,"})]}),s.jsx("button",{onClick:()=>r(x=>({...x,simulateManyEnemies:!x.simulateManyEnemies})),className:`w-8 h-4 rounded-full relative transition-colors shrink-0 ${n.simulateManyEnemies?"bg-indigo-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-0.5 w-2 h-2 rounded-full bg-white transition-all ${n.simulateManyEnemies?"left-5":"left-1"}`})})]}),w(": ")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:": "}),s.jsx("div",{className:"text-[10px] text-zinc-500",children:" IF_PROJECTILE,20,"})]}),s.jsx("button",{onClick:()=>r(x=>({...x,simulateManyProjectiles:!x.simulateManyProjectiles})),className:`w-8 h-4 rounded-full relative transition-colors shrink-0 ${n.simulateManyProjectiles?"bg-blue-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-0.5 w-2 h-2 rounded-full bg-white transition-all ${n.simulateManyProjectiles?"left-5":"left-1"}`})})]})]}),w("")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg text-amber-400",children:s.jsx(Xc,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:" (Charges)"}),s.jsx("div",{className:"text-[10px] text-zinc-500",children:"   0 (,,0)"})]})]}),s.jsx("button",{onClick:()=>r(x=>({...x,showSpellCharges:!x.showSpellCharges})),className:`w-10 h-5 rounded-full transition-colors relative ${n.showSpellCharges?"bg-indigo-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.showSpellCharges?"left-6":"left-1"}`})})]}),w("")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:" (Casts)"}),s.jsx("div",{className:"text-[10px] text-zinc-500 mb-2 italic",children:""}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"range",min:"1",max:"50",value:n.numCasts||10,onChange:x=>r(C=>({...C,numCasts:parseInt(x.target.value)||10})),className:"flex-1 accent-blue-500"}),s.jsx("span",{className:"text-xs font-mono font-bold text-blue-400 w-8",children:n.numCasts||10})]})]}),w("")&&s.jsxs("div",{className:"space-y-2 text-zinc-400",children:[s.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest",children:""}),s.jsx("div",{className:"text-[10px] text-zinc-500 mb-2 italic",children:" Cast  Cast "}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"range",min:"5",max:"100",value:n.autoHideThreshold||20,onChange:x=>r(C=>({...C,autoHideThreshold:parseInt(x.target.value)||20})),className:"flex-1 accent-indigo-500"}),s.jsx("span",{className:"text-xs font-mono font-bold text-indigo-400 w-8",children:n.autoHideThreshold||20})]})]}),w("")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400",children:s.jsx(cs,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:" (Group Identical Casts)"}),s.jsx("div",{className:"text-[10px] text-zinc-500",children:""})]})]}),s.jsx("button",{onClick:()=>r(x=>({...x,groupIdenticalCasts:!x.groupIdenticalCasts})),className:`w-10 h-5 rounded-full relative transition-colors ${n.groupIdenticalCasts?"bg-indigo-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.groupIdenticalCasts?"left-6":"left-1"}`})})]})]}),(c||o==="spell_types")&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-[11px] font-black text-zinc-300 uppercase flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-3 rounded-full bg-amber-500"}),""]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.spellTypes.map(x=>s.jsxs("div",{className:"flex items-center gap-3 bg-white/5 p-2 rounded border border-white/5",children:[s.jsx("input",{type:"color",value:x.color,onChange:C=>h(x.id,C.target.value),className:"w-8 h-8 rounded border-0 bg-transparent cursor-pointer overflow-hidden p-0"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] font-bold text-zinc-300",children:x.name}),s.jsx("span",{className:"text-[8px] font-mono text-zinc-500 uppercase",children:x.color})]})]},x.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-[11px] font-black text-zinc-300 uppercase flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-3 rounded-full bg-indigo-500"}),""]}),s.jsxs("button",{onClick:F,className:"text-[9px] font-black bg-indigo-500/10 text-indigo-400 px-2 py-1 rounded hover:bg-indigo-500/20 flex items-center gap-1",children:[s.jsx(Er,{size:10})," "]})]}),s.jsx("div",{className:"space-y-4",children:n.spellGroups.map((x,C)=>s.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-3 border-b border-white/5 bg-black/20 flex items-center gap-3",children:[s.jsx("input",{value:x.name,onChange:_=>N(C,_.target.value),className:"bg-transparent text-xs font-bold text-zinc-200 outline-none focus:text-white flex-1"}),s.jsx("div",{className:"flex gap-1",children:S.map(_=>s.jsx("button",{onClick:()=>b(C,_),className:`w-3 h-3 rounded-full bg-gradient-to-r ${_} border ${x.color===_?"border-white":"border-white/10"}`},_))}),s.jsx("button",{onClick:()=>f(C),className:"text-zinc-600 hover:text-red-400 transition-colors ml-1",children:s.jsx(Jn,{size:12})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"text-[9px] font-black text-zinc-500 uppercase mb-2 tracking-widest",children:":"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.spellTypes.map(_=>s.jsx("button",{onClick:()=>u(C,_.id),className:`
                                  px-2 py-1 rounded text-[10px] font-bold border transition-all
                                  ${x.types.includes(_.id)?"bg-indigo-500/20 border-indigo-500/40 text-indigo-300":"bg-black/20 border-white/5 text-zinc-600 hover:text-zinc-400"}
                                `,children:_.name},_.id))})]})]},C))})]})]}),(c||o==="sync")&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-[11px] font-black text-zinc-300 uppercase",children:""}),["ask","override_game","new_workflow"].map(x=>s.jsx("button",{onClick:()=>r(C=>({...C,conflictStrategy:x})),className:`w-full text-left px-4 py-3 rounded border transition-all ${n.conflictStrategy===x?"bg-indigo-500/10 border-indigo-500/50":"bg-black/20 border-white/5"}`,children:s.jsx("div",{className:"text-[11px] font-bold text-zinc-200",children:x==="ask"?"":x==="override_game"?"":""})},x))]}),(c||o==="data")&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-[11px] font-black text-zinc-300 uppercase",children:""}),w("")&&s.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-3 rounded-lg border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg text-indigo-400",children:s.jsx(vn,{size:16})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-zinc-200",children:""}),s.jsx("div",{className:"text-[10px] text-zinc-500",children:"/"})]})]}),s.jsx("button",{onClick:()=>r(x=>({...x,exportHistory:!x.exportHistory})),className:`w-10 h-5 rounded-full relative transition-all ${n.exportHistory?"bg-indigo-600":"bg-zinc-700"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${n.exportHistory?"left-6":"left-1"}`})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("label",{className:"neo-button bg-indigo-500/10 text-indigo-400 border border-indigo-500/20 cursor-pointer text-xs py-3 justify-center",children:[" JSON ",s.jsx("input",{type:"file",className:"hidden",onChange:l})]}),s.jsx("button",{onClick:i,className:"neo-button bg-white/5 border border-white/10 text-xs py-3 justify-center",children:""})]})]}),c&&!w("")&&!w("")&&!w("")&&!w("")&&!w("")&&!w("")&&!w("")&&!w("")&&!w("")&&s.jsx("div",{className:"text-center py-20 text-zinc-600 text-xs font-black uppercase tracking-widest",children:""})]})]})]})})}function Qm({conflict:e,activeTab:t,onResolve:n}){return e?s.jsx("div",{className:"fixed inset-0 z-[400] flex items-center justify-center bg-black/80 backdrop-blur-md px-4",children:s.jsxs("div",{className:"glass-card bg-zinc-900 border-indigo-500/30 w-full max-w-md p-6 shadow-2xl animate-in zoom-in duration-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 text-amber-400",children:[s.jsx(Ea,{className:"animate-spin-slow"}),s.jsx("h2",{className:"text-sm font-black tracking-widest uppercase",children:""})]}),s.jsx("p",{className:"text-xs text-zinc-400 leading-relaxed mb-6",children:""}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>n("web"),className:"w-full flex flex-col items-start px-4 py-3 rounded-lg bg-indigo-500/10 border border-indigo-500/30 hover:bg-indigo-500/20 transition-all group",children:[s.jsx("span",{className:"text-xs font-bold text-indigo-400 group-hover:text-indigo-300",children:" ()"}),s.jsx("span",{className:"text-[10px] text-zinc-500",children:""})]}),s.jsxs("button",{onClick:()=>n("game"),className:"w-full flex flex-col items-start px-4 py-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-all group",children:[s.jsx("span",{className:"text-xs font-bold text-zinc-300 group-hover:text-white",children:" ()"}),s.jsx("span",{className:"text-[10px] text-zinc-500",children:""})]}),s.jsxs("button",{onClick:()=>n("both"),className:"w-full flex flex-col items-start px-4 py-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30 hover:bg-emerald-500/20 transition-all group",children:[s.jsx("span",{className:"text-xs font-bold text-emerald-400 group-hover:text-emerald-300",children:" ()"}),s.jsx("span",{className:"text-[10px] text-zinc-500",children:""})]})]})]})}):null}function Jm({pickerConfig:e,onClose:t,pickerSearch:n,setPickerSearch:r,pickSpell:l,searchResults:i,spellStats:o,settings:a,pickerExpandedGroups:c,setPickerExpandedGroups:m,isConnected:k}){var p;return e?s.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",onClick:t,children:s.jsxs("div",{className:"absolute glass-card bg-zinc-900/95 border-white/10 shadow-2xl flex flex-col max-h-[600px] animate-in slide-in-from-top-4 duration-200 overflow-hidden",style:{top:Math.min(e.y,window.innerHeight-520),left:Math.min(e.x,window.innerWidth-620),width:Math.max(400,Math.min(window.innerWidth-40,a.wrapLimit*(a.pickerRowHeight+6)+24))},onClick:h=>h.stopPropagation(),children:[s.jsxs("div",{className:"p-3 border-b border-white/5 flex items-center gap-2 bg-black/20",children:[s.jsx(kl,{size:14,className:"text-zinc-500"}),s.jsx("input",{autoFocus:!0,placeholder:"...",className:"bg-transparent flex-1 text-sm outline-none placeholder:text-zinc-600",value:n,onChange:h=>r(h.target.value),onKeyDown:h=>{h.key==="Escape"&&t(),h.key==="Enter"&&n===""&&l(null)}}),s.jsx("button",{onClick:()=>l(null),className:"text-[10px] font-black text-red-400 bg-red-400/10 px-2 py-1 rounded hover:bg-red-400/20",children:""})]}),s.jsxs("div",{className:`flex-1 overflow-y-auto custom-scrollbar p-2 ${a.hideLabels?"space-y-2":"space-y-4"}`,children:[n?(p=i==null?void 0:i[0])!=null&&p.length?s.jsxs("div",{children:[!a.hideLabels&&s.jsxs("div",{className:"flex items-center gap-2 px-2 mb-2",children:[s.jsx(kl,{size:12,className:"text-indigo-400"}),s.jsx("span",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-widest",children:" ()"})]}),s.jsx("div",{className:`flex flex-wrap gap-1.5 px-1 ${a.hideLabels?"mb-4":""}`,children:i[0].map(h=>{const b=a.spellTypes.find(N=>N.id===h.type);return s.jsx("button",{onClick:()=>l(h.id),style:{height:a.pickerRowHeight,width:a.pickerRowHeight,backgroundColor:(b==null?void 0:b.color)||"rgba(255,255,255,0.05)"},className:"aspect-square hover:bg-white/10 border border-white/5 rounded flex items-center justify-center transition-all group overflow-hidden",title:`${h.name} (${h.en_name})
ID: ${h.id}`,children:s.jsx("img",{src:Ue(h.icon),className:"w-7 h-7 image-pixelated group-hover:scale-110",alt:""})},h.id)})})]}):null:s.jsxs(s.Fragment,{children:[o.overall.length>0&&s.jsx("div",{className:`rounded-lg overflow-hidden ${a.hideLabels?"bg-white/5 border border-white/5 shadow-inner":""}`,children:s.jsxs("div",{className:`p-2 relative group/header ${a.hideLabels?"pt-1.5 pb-1.5":`bg-gradient-to-r from-indigo-500/10 to-zinc-800/20 ${a.hideLabels?"":"mb-2"}`}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${a.hideLabels?"absolute top-1 right-1 z-10":"mb-2"}`,children:[!a.hideLabels&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zo,{size:12,className:"text-amber-500"}),s.jsx("span",{className:"text-[9px] font-black text-white/70 uppercase tracking-widest",children:" (Global)"})]}),s.jsx("button",{onClick:()=>m(h=>{const b=new Set(h);return b.has(-1)?b.delete(-1):b.add(-1),b}),className:`w-5 h-5 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded transition-all group/plus ${a.hideLabels?"opacity-0 group-hover/header:opacity-100 shadow-lg":"ml-auto"}`,children:c.has(-1)?s.jsx(So,{size:12,className:"text-white/50 group-hover/plus:text-white"}):s.jsx(Er,{size:12,className:"text-white/50 group-hover/plus:text-white"})})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 px-0.5",children:o.overall.map(h=>{const b=a.spellTypes.find(N=>N.id===h.type);return s.jsx("button",{onClick:()=>l(h.id),style:{height:a.pickerRowHeight,width:a.pickerRowHeight,backgroundColor:(b==null?void 0:b.color)||"rgba(0,0,0,0.2)"},className:"aspect-square hover:bg-black/40 border border-white/5 rounded flex items-center justify-center transition-all group overflow-hidden",title:h.name,children:s.jsx("img",{src:Ue(h.icon),className:"w-7 h-7 image-pixelated group-hover:scale-110",alt:""})},h.id)})})]})}),a.spellGroups.map((h,b)=>s.jsx("div",{className:`rounded-lg overflow-hidden ${o.categories[b].length===0?"hidden":""} ${a.hideLabels?"bg-white/5 border border-white/5 shadow-inner":""}`,children:s.jsxs("div",{className:`p-2 relative group/header ${a.hideLabels?"pt-1.5 pb-1.5":`bg-gradient-to-r ${h.color||"from-zinc-800/20 to-zinc-800/20"} ${a.hideLabels?"":"mb-2"}`}`,children:[s.jsxs("div",{className:`flex items-center justify-between ${a.hideLabels?"absolute top-1 right-1 z-10":"mb-2"}`,children:[!a.hideLabels&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-3 rounded-full bg-white/20"}),s.jsxs("span",{className:"text-[9px] font-black text-white/70 uppercase tracking-widest",children:[h.name," ",!c.has(b)&&`(Top ${a.categoryLimit})`]})]}),s.jsx("button",{onClick:()=>m(N=>{const S=new Set(N);return S.has(b)?S.delete(b):S.add(b),S}),className:`w-5 h-5 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded transition-all group/plus ${a.hideLabels?"opacity-0 group-hover/header:opacity-100 shadow-lg":"ml-auto"}`,children:c.has(b)?s.jsx(So,{size:12,className:"text-white/50 group-hover/plus:text-white"}):s.jsx(Er,{size:12,className:"text-white/50 group-hover/plus:text-white"})})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 px-0.5",children:o.categories[b].map(N=>{const S=a.spellTypes.find(F=>F.id===N.type);return s.jsx("button",{onClick:()=>l(N.id),style:{height:a.pickerRowHeight,width:a.pickerRowHeight,backgroundColor:(S==null?void 0:S.color)||"rgba(0,0,0,0.2)"},className:"aspect-square hover:bg-black/40 border border-white/5 rounded flex items-center justify-center transition-all group overflow-hidden",title:N.name,children:s.jsx("img",{src:Ue(N.icon),className:"w-7 h-7 image-pixelated group-hover:scale-110",alt:""})},N.id)})})]})},h.name))]}),n&&(i==null?void 0:i.every(h=>h.length===0))&&s.jsx("div",{className:"py-10 text-center text-zinc-600 text-xs",children:""})]})]})}):null}function yp(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=yp(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function La(){for(var e,t,n=0,r="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=yp(e))&&(r&&(r+=" "),r+=t);return r}function Km(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=wp(t))&&(r&&(r+=" "),r+=n);return r}function wp(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=wp(e[r]))&&(n&&(n+=" "),n+=t);return n}var Ma="-";function Ym(e){var t=Zm(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,l=r===void 0?{}:r;function i(a){var c=a.split(Ma);return c[0]===""&&c.length!==1&&c.shift(),jp(c,t)||Xm(a)}function o(a,c){var m=n[a]||[];return c&&l[a]?[].concat(m,l[a]):m}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function jp(e,t){var o;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),l=r?jp(e.slice(1),r):void 0;if(l)return l;if(t.validators.length!==0){var i=e.join(Ma);return(o=t.validators.find(function(a){var c=a.validator;return c(i)}))==null?void 0:o.classGroupId}}var qc=/^\[(.+)\]$/;function Xm(e){if(qc.test(e)){var t=qc.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Zm(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},l=eh(Object.entries(e.classGroups),n);return l.forEach(function(i){var o=i[0],a=i[1];Po(a,r,o,t)}),r}function Po(e,t,n,r){e.forEach(function(l){if(typeof l=="string"){var i=l===""?t:eu(t,l);i.classGroupId=n;return}if(typeof l=="function"){if(qm(l)){Po(l(r),t,n,r);return}t.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(function(o){var a=o[0],c=o[1];Po(c,eu(t,a),n,r)})})}function eu(e,t){var n=e;return t.split(Ma).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function qm(e){return e.isThemeGetter}function eh(e,t){return t?e.map(function(n){var r=n[0],l=n[1],i=l.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var c=a[0],m=a[1];return[t+c,m]})):o});return[r,i]}):e}function th(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function l(i,o){n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return l(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):l(o,a)}}}var kp="!";function nh(e){var t=e.separator||":",n=t.length===1,r=t[0],l=t.length;return function(o){for(var a=[],c=0,m=0,k,p=0;p<o.length;p++){var h=o[p];if(c===0){if(h===r&&(n||o.slice(p,p+l)===t)){a.push(o.slice(m,p)),m=p+l;continue}if(h==="/"){k=p;continue}}h==="["?c++:h==="]"&&c--}var b=a.length===0?o:o.substring(m),N=b.startsWith(kp),S=N?b.substring(1):b,F=k&&k>m?k-m:void 0;return{modifiers:a,hasImportantModifier:N,baseClassName:S,maybePostfixModifierPosition:F}}}function rh(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var l=r[0]==="[";l?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function lh(e){return{cache:th(e.cacheSize),splitModifiers:nh(e),...Ym(e)}}var sh=/\s+/;function ih(e,t){var n=t.splitModifiers,r=t.getClassGroupId,l=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(sh).map(function(o){var a=n(o),c=a.modifiers,m=a.hasImportantModifier,k=a.baseClassName,p=a.maybePostfixModifierPosition,h=r(p?k.substring(0,p):k),b=!!p;if(!h){if(!p)return{isTailwindClass:!1,originalClassName:o};if(h=r(k),!h)return{isTailwindClass:!1,originalClassName:o};b=!1}var N=rh(c).join(":"),S=m?N+kp:N;return{isTailwindClass:!0,modifierId:S,classGroupId:h,originalClassName:o,hasPostfixModifier:b}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,c=o.classGroupId,m=o.hasPostfixModifier,k=a+c;return i.has(k)?!1:(i.add(k),l(c,m).forEach(function(p){return i.add(a+p)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function oh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,l,i,o=a;function a(m){var k=t[0],p=t.slice(1),h=p.reduce(function(b,N){return N(b)},k());return r=lh(h),l=r.cache.get,i=r.cache.set,o=c,c(m)}function c(m){var k=l(m);if(k)return k;var p=ih(m,r);return i(m,p),p}return function(){return o(Km.apply(null,arguments))}}function ke(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var bp=/^\[(?:([a-z-]+):)?(.+)\]$/i,ah=/^\d+\/\d+$/,ch=new Set(["px","full","screen"]),uh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ph=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Pt(e){return An(e)||ch.has(e)||ah.test(e)||Io(e)}function Io(e){return Xn(e,"length",vh)}function fh(e){return Xn(e,"size",Np)}function mh(e){return Xn(e,"position",Np)}function hh(e){return Xn(e,"url",yh)}function Yl(e){return Xn(e,"number",An)}function An(e){return!Number.isNaN(Number(e))}function xh(e){return e.endsWith("%")&&An(e.slice(0,-1))}function Hr(e){return tu(e)||Xn(e,"number",tu)}function ae(e){return bp.test(e)}function Vr(){return!0}function dn(e){return uh.test(e)}function gh(e){return Xn(e,"",wh)}function Xn(e,t,n){var r=bp.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function vh(e){return dh.test(e)}function Np(){return!1}function yh(e){return e.startsWith("url(")}function tu(e){return Number.isInteger(Number(e))}function wh(e){return ph.test(e)}function jh(){var e=ke("colors"),t=ke("spacing"),n=ke("blur"),r=ke("brightness"),l=ke("borderColor"),i=ke("borderRadius"),o=ke("borderSpacing"),a=ke("borderWidth"),c=ke("contrast"),m=ke("grayscale"),k=ke("hueRotate"),p=ke("invert"),h=ke("gap"),b=ke("gradientColorStops"),N=ke("gradientColorStopPositions"),S=ke("inset"),F=ke("margin"),f=ke("opacity"),u=ke("padding"),d=ke("saturate"),w=ke("scale"),x=ke("sepia"),C=ke("skew"),_=ke("space"),R=ke("translate"),te=function(){return["auto","contain","none"]},H=function(){return["auto","hidden","clip","visible","scroll"]},V=function(){return["auto",ae,t]},A=function(){return[ae,t]},ee=function(){return["",Pt]},ce=function(){return["auto",An,ae]},ue=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Re=function(){return["solid","dashed","dotted","double","none"]},He=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},$=function(){return["start","end","center","between","around","evenly","stretch"]},B=function(){return["","0",ae]},q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ne=function(){return[An,Yl]},me=function(){return[An,ae]};return{cacheSize:500,theme:{colors:[Vr],spacing:[Pt],blur:["none","",dn,ae],brightness:ne(),borderColor:[e],borderRadius:["none","","full",dn,ae],borderSpacing:A(),borderWidth:ee(),contrast:ne(),grayscale:B(),hueRotate:me(),invert:B(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[xh,Io],inset:V(),margin:V(),opacity:ne(),padding:A(),saturate:ne(),scale:ne(),sepia:B(),skew:me(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[dn]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ue(),[ae])}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:te()}],"overscroll-x":[{"overscroll-x":te()}],"overscroll-y":[{"overscroll-y":te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hr]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Hr]}],"grid-cols":[{"grid-cols":[Vr]}],"col-start-end":[{col:["auto",{span:["full",Hr]},ae]}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":[Vr]}],"row-start-end":[{row:["auto",{span:[Hr]},ae]}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat($())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat($(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat($(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[u]}],px:[{px:[u]}],py:[{py:[u]}],ps:[{ps:[u]}],pe:[{pe:[u]}],pt:[{pt:[u]}],pr:[{pr:[u]}],pb:[{pb:[u]}],pl:[{pl:[u]}],m:[{m:[F]}],mx:[{mx:[F]}],my:[{my:[F]}],ms:[{ms:[F]}],me:[{me:[F]}],mt:[{mt:[F]}],mr:[{mr:[F]}],mb:[{mb:[F]}],ml:[{ml:[F]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ae,t]}],"min-w":[{"min-w":["min","max","fit",ae,Pt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[dn]},dn,ae]}],h:[{h:[ae,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ae,Pt]}],"max-h":[{"max-h":[ae,t,"min","max","fit"]}],"font-size":[{text:["base",dn,Io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yl]}],"font-family":[{font:[Vr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",An,Yl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ae,Pt]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Re(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Pt]}],"underline-offset":[{"underline-offset":["auto",ae,Pt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ue(),[mh])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fh]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hh]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[].concat(Re(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:Re()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:[""].concat(Re())}],"outline-offset":[{"outline-offset":[ae,Pt]}],"outline-w":[{outline:[Pt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[Pt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",dn,gh]}],"shadow-color":[{shadow:[Vr]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":He()}],"bg-blend":[{"bg-blend":He()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",dn,ae]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[k]}],invert:[{invert:[p]}],saturate:[{saturate:[d]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[k]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[d]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:me()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:me()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Hr,ae]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pt,Yl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Pa=oh(jh);function zi(...e){return Pa(La(e))}const Sp=Do.memo(e=>{const{folder:t,depth:n,groupedFolders:r,selectedFolderId:l,draggedFolderId:i,dragOverFolderId:o,onSelect:a,onToggle:c,onCreateSubfolder:m,onRename:k,onDelete:p,onDragStart:h,onDragOver:b,onDrop:N,onContextMenu:S}=e,F=t.isOpen,f=r[t.id]||[],u=l===t.id;return s.jsxs("div",{className:"select-none",children:[s.jsxs("div",{className:zi("group/folder flex items-center gap-1 py-1 px-2 rounded-lg cursor-pointer transition-all border border-transparent",u?"bg-purple-600/20 text-purple-300 border-purple-500/20":"text-zinc-400 hover:bg-white/5 hover:text-zinc-200",i===t.id&&"opacity-50",o===t.id&&"bg-indigo-500/20 border-indigo-500/50 outline-dashed outline-1 outline-indigo-500/50"),style:{paddingLeft:`${n*12+8}px`},draggable:!0,onDragStart:d=>h(d,"folder",t.id),onClick:()=>a(t.id),onDragOver:d=>b(d,"folder",t.id),onDrop:d=>N(d,"folder",t.id),onContextMenu:d=>S(d,t.id),children:[s.jsx("div",{className:"p-0.5 rounded hover:bg-white/10 transition-colors",onClick:d=>{d.stopPropagation(),c(t.id)},children:f.length>0?F?s.jsx(Os,{size:12}):s.jsx(ko,{size:12}):s.jsx("div",{className:"w-3"})}),F?s.jsx(bo,{size:14,className:zi(u?"text-purple-400":"text-amber-500/80")}):s.jsx(Sm,{size:14,className:zi(u?"text-purple-400":"text-amber-500/80")}),s.jsx("span",{className:"text-xs font-bold truncate flex-1",children:t.name}),s.jsx("div",{className:"opacity-0 group-hover/folder:opacity-100 flex items-center gap-0.5 transition-opacity",children:s.jsx("button",{onClick:d=>{d.stopPropagation(),m(t.id)},className:"p-1 hover:text-indigo-400 hover:bg-indigo-500/10 rounded",title:"",children:s.jsx(No,{size:10})})})]}),F&&f.length>0&&s.jsx("div",{className:"mt-0.5",children:f.map(d=>s.jsx(Sp,{...e,folder:d,depth:n+1},d.id))})]})});function nu(...e){return Pa(La(e))}const kh=Do.memo(({wand:e,viewMode:t,isMaximized:n,spellDb:r,draggedWandId:l,dragOverWandId:i,dragOverPos:o,wandSmartTags:a,onImport:c,onRename:m,onAddTag:k,onDelete:p,onUpdateTags:h,onDragStart:b,onDragOver:N,onDragLeave:S,onDrop:F,isConnected:f})=>{const u=I.useMemo(()=>{const d=[],w=Math.max(e.deck_capacity,...Object.keys(e.spells).map(Number)),x=t==="list"?14:45;for(let C=0;C<Math.min(w,x);C++){const _=e.spells[(C+1).toString()];d.push(_?r[_]:null)}return d},[e.spells,e.deck_capacity,r,t]);return s.jsxs("div",{className:nu("group relative bg-zinc-900 border border-white/5 hover:border-purple-500/50 rounded-lg transition-all hover:bg-zinc-800 shadow-md overflow-visible select-none",t==="list"?"flex items-center gap-3 p-2 h-16":"flex flex-col p-2 gap-2 h-40",l===e.id&&"opacity-30 grayscale",i===e.id&&"ring-2 ring-purple-500 z-10 scale-[1.02]"),draggable:!0,onDragStart:d=>b(d,e.id),onDragOver:d=>N(d,e.id),onDragLeave:S,onDrop:d=>F(d,e.id),children:[i===e.id&&o==="top"&&s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-purple-500 shadow-[0_0_10px_rgba(168,85,247,1)] z-20"}),i===e.id&&o==="bottom"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-purple-500 shadow-[0_0_10px_rgba(168,85,247,1)] z-20"}),s.jsxs("div",{className:nu("bg-black/40 rounded border border-white/5 overflow-hidden relative transition-all",t==="list"?"w-64 h-full shrink-0":"w-full flex-1 min-h-[80px]"),children:[s.jsxs("div",{className:"absolute inset-0 flex flex-wrap content-start p-1 gap-0.5 overflow-hidden",children:[u.map((d,w)=>s.jsx("div",{className:"w-5 h-5 shrink-0 flex items-center justify-center relative",children:d?s.jsx("img",{src:Ue(d.icon),className:"w-full h-full object-contain image-pixelated",alt:""}):s.jsx("div",{className:"w-full h-full bg-white/5 rounded-sm"})},w)),e.deck_capacity>u.length&&s.jsxs("span",{className:"text-[9px] text-zinc-600 pl-1",children:["+",e.deck_capacity-u.length]})]}),e.always_cast&&e.always_cast.length>0&&s.jsx("div",{className:"absolute top-0 right-0 bg-blue-500/20 text-blue-300 text-[8px] px-1 rounded-bl",children:"AC"})]}),s.jsxs("div",{className:"flex-none flex flex-col justify-between gap-1 w-full",children:[s.jsx("div",{className:"flex items-start justify-between gap-2 relative",children:s.jsxs("div",{className:"min-w-0 w-full",children:[s.jsx("h3",{className:"text-xs font-bold text-zinc-300 truncate leading-tight group-hover:text-purple-300",children:e.name||""}),s.jsxs("div",{className:"hidden group-hover:flex absolute top-full left-0 right-0 mt-1 bg-zinc-900/95 border border-white/10 rounded-lg p-2 flex-col gap-1 z-50 shadow-xl backdrop-blur-md pointer-events-none animate-in fade-in slide-in-from-top-1 duration-200",children:[s.jsx("div",{className:"flex items-center justify-between text-[10px] font-bold text-zinc-400 border-b border-white/5 pb-1 mb-1",children:s.jsx("span",{children:""})}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-[10px] font-mono",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500",children:""})," ",s.jsx("span",{className:"text-cyan-400",children:e.mana_max})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500",children:""})," ",s.jsx("span",{className:"text-cyan-400",children:e.mana_charge_speed})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500",children:""})," ",s.jsxs("span",{className:"text-amber-400",children:[e.fire_rate_wait,"s"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500",children:""})," ",s.jsxs("span",{className:"text-green-400",children:[e.reload_time,"s"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500",children:""})," ",s.jsx("span",{className:"text-zinc-300",children:e.deck_capacity})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-500",children:""})," ",s.jsxs("span",{className:"text-zinc-300",children:[e.spread_degrees,""]})]})]}),e.always_cast&&e.always_cast.length>0&&s.jsxs("div",{className:"mt-1 pt-1 border-t border-white/5",children:[s.jsx("span",{className:"text-[9px] text-blue-400 block mb-0.5",children:":"}),s.jsx("div",{className:"flex gap-0.5",children:e.always_cast.map((d,w)=>{const x=r[d];return x?s.jsx("img",{src:Ue(x.icon),className:"w-4 h-4"},w):null})})]})]})]})}),(e.tags.length>0||a.length>0)&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1 h-4 overflow-hidden",children:[a.slice(0,3).map(d=>s.jsx("span",{className:"text-[8px] px-1 rounded bg-amber-500/10 text-amber-500 border border-amber-500/20 truncate max-w-[60px]",children:d.name},d.id)),e.tags.slice(0,3).map(d=>s.jsxs("span",{className:"text-[8px] px-1 rounded bg-zinc-800 text-zinc-400 border border-white/5 truncate max-w-[60px]",children:["#",d]},d))]})]}),s.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-zinc-900/90 rounded-lg border border-white/10 p-0.5 backdrop-blur-sm z-20",children:[s.jsx("button",{onClick:()=>c(e),className:"p-1.5 hover:bg-purple-500 hover:text-white text-zinc-400 rounded transition-colors",title:"",children:s.jsx(ym,{size:12})}),s.jsx("button",{onClick:()=>m(e),className:"p-1.5 hover:bg-white/20 hover:text-white text-zinc-400 rounded transition-colors",title:"",children:s.jsx(Co,{size:12})}),s.jsx("button",{onClick:()=>p(e.id),className:"p-1.5 hover:bg-red-500 hover:text-white text-zinc-400 rounded transition-colors",title:"",children:s.jsx(Jn,{size:12})})]})]})});function xt(...e){return Pa(La(e))}function bh({isOpen:e,onClose:t,onImportWand:n,spellDb:r,wands:l,setWands:i,folders:o,setFolders:a,smartTags:c,setSmartTags:m,settings:k,isConnected:p}){var Or,Ml;const[h,b]=I.useState(!1),[N,S]=I.useState(""),[F,f]=I.useState("grid"),[u,d]=I.useState("root"),[w,x]=I.useState("date"),[C,_]=I.useState(50),[R,te]=I.useState([]),[H,V]=I.useState(!1),[A,ee]=I.useState(null),[ce,ue]=I.useState("");I.useEffect(()=>{if(!A)return;const j=E=>{var O;const M=(O=E.clipboardData)==null?void 0:O.getData("text");if(M)try{try{const Q=JSON.parse(M);if(Array.isArray(Q)){ee(se=>se?{...se,spells:Q}:null);return}else if(Q.spells&&typeof Q.spells=="object"){const se=Object.values(Q.spells);ee(K=>K?{...K,spells:se}:null);return}}catch{}const G=M.split(/[, \n]+/).map(Q=>Q.trim()).filter(Q=>r[Q]);G.length>0&&ee(Q=>Q?{...Q,spells:G}:null)}catch(G){console.error("Paste failed",G)}};return document.addEventListener("paste",j),()=>document.removeEventListener("paste",j)},[A,r]);const[Re,He]=I.useState(null),[$,B]=I.useState(null),[q,ne]=I.useState(null),[me,ve]=I.useState(null),[pt,Ft]=I.useState(null),[Me,ft]=I.useState(null);I.useEffect(()=>{_(50)},[u,N,R,w]);const Zn=I.useCallback(j=>{const{scrollTop:E,scrollHeight:M,clientHeight:O}=j.currentTarget;M-E-O<200&&_(G=>G+50)},[]),_l=I.useCallback(j=>{confirm("")&&i(E=>E.filter(M=>M.id!==j))},[i]),At=I.useCallback((j,E)=>{i(M=>M.map(O=>O.id===j?{...O,...E}:O))},[i]),El=I.useCallback(async j=>{const E=prompt("",j.name);if(E){let M="",O="";try{const Q=await(await fetch("/api/pinyin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:E})})).json();Q.success&&(M=Q.pinyin,O=Q.initials)}catch{}At(j.id,{name:E,pinyin:M,pinyin_initials:O})}},[At]),on=I.useCallback(j=>{const E=prompt("");E&&At(j.id,{tags:[...j.tags,E]})},[At]),Xs=I.useCallback(j=>{a(E=>E.map(M=>M.id===j?{...M,isOpen:!M.isOpen}:M))},[a]),mt=I.useCallback((j=null)=>{const E=prompt("");if(E){const M={id:Math.random().toString(36).substring(2,11),name:E,order:o.length,isOpen:!0,parentId:j};a(O=>[...O,M]),j&&a(O=>O.map(G=>G.id===j?{...G,isOpen:!0}:G))}},[o.length,a]),Wt=I.useCallback(j=>{confirm(" ()")&&(a(E=>E.filter(M=>M.id!==j)),i(E=>E.map(M=>M.folderId===j?{...M,folderId:null}:M)),u===j&&d("root"))},[a,i,u]),Ll=I.useCallback(j=>{const E=o.find(O=>O.id===j);if(!E)return;const M=prompt("",E.name);M&&a(O=>O.map(G=>G.id===j?{...G,name:M}:G))},[o,a]),qn=I.useCallback((j,E,M)=>{E==="wand"?(He(M),B(null)):(B(M),He(null)),j.dataTransfer.setData("type",E),j.dataTransfer.setData("id",M),j.dataTransfer.effectAllowed="move"},[]),Ke=I.useCallback((j,E,M)=>{if(j.preventDefault(),j.stopPropagation(),E==="folder"||E==="root")ne(M),ve(null),Ft(null);else if(E==="wand"){const O=j.currentTarget.getBoundingClientRect(),Q=j.clientY-O.top>O.height/2;ve(M),Ft(Q?"bottom":"top"),l.find(se=>se.id===M)}},[l]),Kt=I.useCallback((j,E,M)=>{j.preventDefault(),j.stopPropagation();const O=j.dataTransfer.getData("type")||(Re?"wand":$?"folder":""),G=j.dataTransfer.getData("id")||Re||$;if(!(!G||!O)){if(O==="wand"){if(E==="folder"||E==="root"){const Q=E==="root"?null:M;i(se=>{const K=se.filter(Ve=>Ve.id!==G),he=se.find(Ve=>Ve.id===G);return he?[...K,{...he,folderId:Q}]:se}),Q&&a(se=>se.map(K=>K.id===Q?{...K,isOpen:!0}:K))}else if(E==="wand"){if(G===M)return;i(Q=>{const se=Q.find(it=>it.id===G);if(!se)return Q;const K=Q.find(it=>it.id===M);if(!K)return Q;const he=Q.filter(it=>it.id!==G);let Ve=he.findIndex(it=>it.id===M);pt==="bottom"&&Ve++;const Oe=[...he];return Oe.splice(Ve,0,{...se,folderId:K.folderId}),Oe.map((it,Zs)=>({...it,order:Zs}))})}}else if(O==="folder"&&(E==="folder"||E==="root")){if(G===M)return;const Q=E==="root"?null:M,se=(K,he)=>{const Ve=o.find(Oe=>Oe.id===K);return!Ve||!Ve.parentId?!1:Ve.parentId===he?!0:se(Ve.parentId,he)};if(Q&&(G===Q||se(Q,G)))return;a(K=>{const he=K.find(Oe=>Oe.id===G);return he?[...K.filter(Oe=>Oe.id!==G),{...he,parentId:Q}].map((Oe,it)=>({...Oe,order:it})):K}),Q&&a(K=>K.map(he=>he.id===Q?{...he,isOpen:!0}:he))}He(null),B(null),ne(null),ve(null),Ft(null)}},[Re,$,o,a,i,pt]),Ir=I.useMemo(()=>{const j={};return l.forEach(E=>{const M=[],O=Math.max(0,...Object.keys(E.spells).map(Number));for(let G=1;G<=O;G++)M.push(E.spells[G.toString()]||"");for(;M.length>0&&M[M.length-1]==="";)M.pop();j[E.id]=c.filter(G=>{if(G.spells.length===0)return!1;if(G.mode==="strict"){for(let Q=0;Q<=M.length-G.spells.length;Q++){let se=!0;for(let K=0;K<G.spells.length;K++)if(M[Q+K]!==G.spells[K]){se=!1;break}if(se)return!0}return!1}else return G.spells.every(Q=>M.includes(Q))})}),j},[l,c]),er=I.useCallback(j=>Ir[j]||[],[Ir]),In=I.useMemo(()=>{const j={root:[]};return[...o].sort((M,O)=>(M.order||0)-(O.order||0)).forEach(M=>{const O=M.parentId||"root";j[O]||(j[O]=[]),j[O].push(M)}),j},[o]),an=I.useMemo(()=>{const j=N.toLowerCase();if(j)return l.filter(O=>{const Q=er(O.id).map(K=>K.name),se=Object.values(O.spells).some(K=>{const he=r[K];return he?he.name.toLowerCase().includes(j)||(he.en_name||"").toLowerCase().includes(j):!1});return O.name.toLowerCase().includes(j)||(O.pinyin||"").toLowerCase().includes(j)||O.tags.some(K=>K.toLowerCase().includes(j))||Q.some(K=>K.toLowerCase().includes(j))||se}).sort((O,G)=>G.createdAt-O.createdAt);const E=u==="root"?null:u;let M=l.filter(O=>O.folderId===E);return R.length>0&&(M=M.filter(O=>{const Q=er(O.id).map(se=>se.name);return R.every(se=>O.tags.includes(se)||Q.includes(se))})),M.sort((O,G)=>w==="name"?O.name.localeCompare(G.name):O.order!==void 0&&G.order!==void 0&&O.order!==G.order?O.order-G.order:G.createdAt-O.createdAt)},[l,N,u,R,w,er,r]),Ye={groupedFolders:In,selectedFolderId:u,draggedFolderId:$,dragOverFolderId:q,onSelect:d,onToggle:Xs,onCreateSubfolder:mt,onRename:Ll,onDelete:Wt,onDragStart:qn,onDragOver:Ke,onDrop:Kt,onContextMenu:(j,E)=>{j.preventDefault(),j.stopPropagation(),ft({x:j.clientX,y:j.clientY,folderId:E})}},ht=I.useMemo(()=>{const j=new Set;return l.forEach(E=>E.tags.forEach(M=>j.add(M))),Array.from(j).sort()},[l]),X=I.useMemo(()=>c.map(j=>j.name).sort(),[c]);return e?s.jsxs("div",{className:xt("fixed inset-y-0 left-0 bg-zinc-950/95 backdrop-blur-xl border-r border-white/10 shadow-2xl z-[400] flex flex-col transition-all duration-300",h?"w-full":"w-[900px] max-w-full"),children:[s.jsxs("div",{className:"h-12 border-b border-white/10 flex items-center justify-between px-4 bg-black/40 shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jl,{size:18,className:"text-purple-400"}),s.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-zinc-200",children:""}),s.jsx("span",{className:"bg-purple-500/20 text-purple-400 text-[10px] px-1.5 py-0.5 rounded-full font-mono",children:l.length})]}),s.jsxs("div",{className:"flex-1 flex items-center justify-center px-8 gap-4",children:[s.jsxs("div",{className:"relative w-64",children:[s.jsx(kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500",size:14}),s.jsx("input",{type:"text",placeholder:"...",value:N,onChange:j=>S(j.target.value),className:"w-full bg-zinc-900 border border-white/5 rounded-full pl-9 pr-4 py-1.5 text-xs focus:outline-none focus:border-purple-500/50 transition-colors"})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-zinc-900/50 p-1 rounded-lg border border-white/5",children:[s.jsxs("button",{onClick:()=>mt(u==="root"?null:u),className:"flex items-center gap-1.5 px-3 py-1 bg-zinc-800 hover:bg-zinc-700 hover:text-white text-zinc-400 rounded-md text-[10px] font-bold transition-all",children:[s.jsx(No,{size:14}),""]}),s.jsx("div",{className:"w-px h-4 bg-white/10 mx-1"}),s.jsx("button",{onClick:()=>x("date"),className:xt("p-1.5 rounded hover:bg-white/10 transition-colors",w==="date"?"text-purple-400":"text-zinc-500"),title:"",children:s.jsx(wm,{size:14})}),s.jsx("button",{onClick:()=>x("name"),className:xt("p-1.5 rounded hover:bg-white/10 transition-colors",w==="name"?"text-purple-400":"text-zinc-500"),title:"",children:s.jsx(vm,{size:14})})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>b(!h),className:"p-2 hover:bg-white/10 rounded-lg text-zinc-500 hover:text-white transition-colors",children:h?s.jsx(So,{size:16}):s.jsx(Lm,{size:16})}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg text-zinc-500 hover:text-white transition-colors",children:s.jsx(zn,{size:18})})]})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"w-60 border-r border-white/5 bg-black/20 flex flex-col",children:[s.jsx("div",{className:"p-2 border-b border-white/5 flex items-center justify-between",children:s.jsx("span",{className:"text-[10px] font-black uppercase text-zinc-500 tracking-wider pl-2",children:""})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-0.5 custom-scrollbar",onDragOver:j=>Ke(j,"root","root"),onDrop:j=>Kt(j,"root","root"),children:[s.jsxs("div",{className:xt("flex items-center gap-2 py-1.5 px-3 rounded-lg cursor-pointer transition-all mb-1",u==="root"?"bg-purple-600/20 text-purple-300 border border-purple-500/20":"text-zinc-400 hover:bg-white/5 hover:text-zinc-200 border border-transparent",q==="root"&&"bg-indigo-500/20 border-indigo-500/50 outline-dashed outline-1 outline-indigo-500/50"),onClick:()=>d("root"),onDragOver:j=>Ke(j,"root","root"),onDrop:j=>Kt(j,"root","root"),children:[s.jsx(jl,{size:14}),s.jsx("span",{className:"text-xs font-bold",children:" ()"})]}),(Or=In.root)==null?void 0:Or.map(j=>s.jsx(Sp,{...Ye,folder:j,depth:0},j.id)),s.jsx("div",{className:"mt-4 p-4 border border-dashed border-white/5 rounded-lg text-center text-[10px] text-zinc-600 hover:text-zinc-400 hover:border-white/10 cursor-pointer transition-colors",onClick:()=>mt("root"),children:"+ "})]}),s.jsx("div",{className:"p-2 border-t border-white/5",children:s.jsxs("button",{onClick:()=>V(!0),className:"w-full py-2 bg-amber-500/10 hover:bg-amber-500/20 text-amber-500 rounded-lg text-[10px] font-bold flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Ci,{size:14})," "]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col bg-zinc-900/30",children:[s.jsxs("div",{className:"px-4 py-2 flex items-center gap-2 text-xs text-zinc-500 border-b border-white/5",children:[s.jsx(bo,{size:14}),s.jsx("span",{className:"font-bold",children:u==="root"?"":((Ml=o.find(j=>j.id===u))==null?void 0:Ml.name)||""}),s.jsxs("span",{className:"bg-zinc-800 px-1.5 rounded-full text-[10px]",children:[an.length," "]}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>f("grid"),className:xt("p-1 rounded transition-colors",F==="grid"?"bg-purple-500/20 text-purple-300":"hover:bg-white/5"),children:s.jsx(zm,{size:14})}),s.jsx("button",{onClick:()=>f("list"),className:xt("p-1 rounded transition-colors",F==="list"?"bg-purple-500/20 text-purple-300":"hover:bg-white/5"),children:s.jsx(_m,{size:14})})]})]}),(ht.length>0||X.length>0)&&s.jsxs("div",{className:"px-4 py-2 border-b border-white/5 flex flex-wrap gap-1 items-center bg-black/10",children:[s.jsx(Nm,{size:12,className:"text-zinc-600 mr-1"}),X.map(j=>s.jsxs("button",{onClick:()=>te(E=>E.includes(j)?E.filter(M=>M!==j):[...E,j]),className:xt("px-2 py-0.5 rounded text-[9px] font-bold transition-all border flex items-center gap-1",R.includes(j)?"bg-amber-500/20 border-amber-500/50 text-amber-300":"bg-zinc-800 border-white/5 text-zinc-500 hover:text-amber-400/70"),children:[s.jsx(Ci,{size:10})," ",j]},`smart-${j}`)),ht.map(j=>s.jsxs("button",{onClick:()=>te(E=>E.includes(j)?E.filter(M=>M!==j):[...E,j]),className:xt("px-2 py-0.5 rounded text-[9px] font-bold transition-all border",R.includes(j)?"bg-purple-500/20 border-purple-500/50 text-purple-300":"bg-zinc-800 border-white/5 text-zinc-500 hover:text-purple-400/70"),children:["#",j]},`manual-${j}`))]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",onScroll:Zn,onDragOver:j=>Ke(j,"folder",u||"root"),onDrop:j=>Kt(j,"folder",u||"root"),onContextMenu:j=>{j.preventDefault(),ft({x:j.clientX,y:j.clientY,folderId:u||"root"})},children:[an.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-600 gap-4 opacity-50",children:[s.jsx(bo,{size:48,strokeWidth:1}),s.jsx("p",{className:"text-xs uppercase tracking-widest",children:""})]}):s.jsx("div",{className:xt(F==="grid"?"grid gap-3 grid-cols-[repeat(auto-fill,minmax(180px,1fr))]":"space-y-1"),children:an.slice(0,C).map(j=>s.jsx(kh,{wand:j,viewMode:F,isMaximized:h,spellDb:r,draggedWandId:Re,dragOverWandId:me,dragOverPos:pt,wandSmartTags:er(j.id),onImport:n,onRename:El,onAddTag:on,onDelete:_l,onUpdateTags:(E,M)=>At(E,{tags:M}),onDragStart:(E,M)=>qn(E,"wand",M),onDragOver:(E,M)=>Ke(E,"wand",M),onDragLeave:()=>{ve(null),Ft(null)},onDrop:(E,M)=>Kt(E,"wand",M),isConnected:p},j.id))}),an.length>C&&s.jsxs("div",{className:"py-4 text-center text-[10px] text-zinc-600 italic",children:["... (",C," / ",an.length,")"]})]}),s.jsxs("div",{className:"p-3 border-t border-white/5 bg-black/20 flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:async()=>{if(confirm(" Wand Editor (Yukimi) "))try{const E=await(await fetch("/api/import/wand-editor")).json();E.success?(i(M=>[...M,...E.wands]),a(M=>[...M,...E.folders]),alert(` ${E.wands.length} `)):alert(": "+E.error)}catch{alert("")}},className:"text-[10px] text-zinc-500 hover:text-zinc-300 flex items-center gap-1 transition-colors",children:[s.jsx(hr,{size:12}),"  Wand Editor"]}),s.jsxs("button",{onClick:async()=>{if(confirm(" Spell Lab "))try{const E=await(await fetch("/api/import/spell-lab")).json();E.success?(i(M=>[...M,...E.wands]),a(M=>[...M,...E.folders]),alert(` ${E.wands.length} `)):alert(": "+E.error)}catch{alert("")}},className:"text-[10px] text-zinc-500 hover:text-zinc-300 flex items-center gap-1 transition-colors",children:[s.jsx(hr,{size:12}),"  Spell Lab"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("label",{className:"px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 rounded text-[10px] font-bold text-zinc-300 hover:text-white transition-colors cursor-pointer flex items-center gap-2",children:[s.jsx(_o,{size:12}),"",s.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:j=>{var O;const E=(O=j.target.files)==null?void 0:O[0];if(!E)return;const M=new FileReader;M.onload=G=>{var Q,se;try{const K=JSON.parse((Q=G.target)==null?void 0:Q.result);K.wands?(confirm(`
 ${K.wands.length} ${((se=K.folders)==null?void 0:se.length)||0} 

()`)?(i(he=>[...he,...K.wands]),K.folders&&a(he=>[...he,...K.folders]),K.smartTags&&m(he=>[...he,...K.smartTags])):(i(K.wands),K.folders&&a(K.folders),K.smartTags&&m(K.smartTags)),alert("")):alert("")}catch(K){alert(""),console.error(K)}},M.readAsText(E),j.target.value=""}})]}),s.jsxs("button",{onClick:()=>{const j=JSON.stringify({wands:l,folders:o,smartTags:c},null,2),E=new Blob([j],{type:"application/json"}),M=URL.createObjectURL(E),O=document.createElement("a");O.href=M,O.download=`wand_warehouse_backup_${new Date().toISOString().split("T")[0]}.json`,O.click()},className:"px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 rounded text-[10px] font-bold text-zinc-300 hover:text-white transition-colors flex items-center gap-2",children:[s.jsx(hr,{size:12}),""]})]})]})]})]}),Me&&s.jsxs("div",{className:"fixed z-[1000] bg-zinc-900 border border-white/10 rounded-lg shadow-2xl py-1 w-40 overflow-hidden",style:{left:Me.x,top:Me.y},onClick:()=>ft(null),children:[s.jsxs("button",{onClick:()=>mt(Me.folderId==="root"?null:Me.folderId),className:"w-full px-4 py-2 text-left text-[11px] font-bold text-zinc-300 hover:bg-purple-600 hover:text-white flex items-center gap-2 transition-colors",children:[s.jsx(No,{size:14})," "]}),Me.folderId!=="root"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>Ll(Me.folderId),className:"w-full px-4 py-2 text-left text-[11px] font-bold text-zinc-300 hover:bg-purple-600 hover:text-white flex items-center gap-2 transition-colors",children:[s.jsx(Co,{size:14})," "]}),s.jsxs("button",{onClick:()=>Wt(Me.folderId),className:"w-full px-4 py-2 text-left text-[11px] font-bold text-red-400 hover:bg-red-600 hover:text-white flex items-center gap-2 transition-colors",children:[s.jsx(Jn,{size:14})," "]})]})]}),Me&&s.jsx("div",{className:"fixed inset-0 z-[900]",onClick:()=>ft(null)}),H&&s.jsxs("div",{className:"absolute inset-0 z-[500] bg-zinc-950 flex flex-col animate-in slide-in-from-bottom duration-300",children:[s.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-black/40",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ci,{size:18,className:"text-amber-400"}),s.jsx("h2",{className:"text-sm font-black uppercase tracking-widest",children:""})]}),s.jsx("button",{onClick:()=>V(!1),className:"p-2 hover:bg-white/10 rounded-lg text-zinc-500 hover:text-white transition-colors",children:s.jsx(zn,{size:18})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[s.jsxs("button",{onClick:()=>ee({id:Math.random().toString(36).substring(2,11),name:"",spells:[],mode:"strict"}),className:"w-full py-3 bg-amber-500/10 border border-amber-500/20 text-amber-400 rounded-xl text-xs font-black uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-amber-500/20 transition-all",children:[s.jsx(Er,{size:16})," "]}),s.jsx("div",{className:"space-y-2",children:c.length===0?s.jsx("div",{className:"text-center py-10 text-zinc-600 text-xs italic",children:""}):c.map(j=>s.jsxs("div",{className:"bg-zinc-900 border border-white/5 rounded-xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-bold text-zinc-200",children:j.name}),s.jsx("span",{className:xt("text-[10px] px-2 py-0.5 rounded-full font-black uppercase tracking-tighter",j.mode==="strict"?"bg-red-500/10 text-red-400":"bg-blue-500/10 text-blue-400"),children:j.mode==="strict"?"":""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>ee({...j}),className:"p-2 hover:bg-white/5 rounded text-zinc-500 hover:text-white transition-colors",children:s.jsx(Co,{size:14})}),s.jsx("button",{onClick:()=>{confirm("")&&m(E=>E.filter(M=>M.id!==j.id))},className:"p-2 hover:bg-red-500/10 rounded text-zinc-500 hover:text-red-400 transition-colors",children:s.jsx(Jn,{size:14})})]})]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:j.spells.map((E,M)=>{const O=r[E];return s.jsx("div",{className:"w-8 h-8 bg-black/40 border border-white/5 rounded flex items-center justify-center overflow-hidden",children:O&&s.jsx("img",{src:Ue(O.icon),className:"w-6 h-6 image-pixelated",alt:"",title:O.name})},M)})})]},j.id))})]}),s.jsxs("div",{className:"p-4 bg-black/40 border-t border-white/10 flex gap-2",children:[s.jsxs("label",{className:"flex-1 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-white flex items-center justify-center gap-2 transition-all cursor-pointer",children:[s.jsx(_o,{size:14})," ",s.jsx("input",{type:"file",className:"hidden",accept:".json",onChange:j=>{var O;const E=(O=j.target.files)==null?void 0:O[0];if(!E)return;const M=new FileReader;M.onload=G=>{var Q;try{const se=JSON.parse((Q=G.target)==null?void 0:Q.result);Array.isArray(se)?m(K=>{const he=new Set(K.map(Oe=>Oe.id)),Ve=se.filter(Oe=>Oe.id&&Oe.name&&!he.has(Oe.id));return alert(` ${Ve.length} `),[...K,...Ve]}):alert("")}catch{alert(": ")}},M.readAsText(E),j.target.value=""}})]}),s.jsxs("button",{onClick:()=>{const j=JSON.stringify(c,null,2),E=new Blob([j],{type:"application/json"}),M=URL.createObjectURL(E),O=document.createElement("a");O.href=M,O.download="smart_tags_backup.json",O.click()},className:"flex-1 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-white flex items-center justify-center gap-2 transition-all",children:[s.jsx(hr,{size:14})," "]})]})]}),A&&s.jsxs("div",{className:"absolute inset-0 z-[600] bg-zinc-950 flex flex-col animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-black/40",children:[s.jsx("h2",{className:"text-sm font-black uppercase tracking-widest",children:""}),s.jsx("button",{onClick:()=>ee(null),className:"p-2 hover:bg-white/10 rounded-lg text-zinc-500 hover:text-white transition-colors",children:s.jsx(zn,{size:18})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:""}),s.jsx("input",{type:"text",value:A.name,onChange:j=>ee({...A,name:j.target.value}),className:"w-full bg-zinc-900 border border-white/10 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-amber-500/50 transition-all",placeholder:": 10 10 4 2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{onClick:()=>ee({...A,mode:"strict"}),className:xt("py-3 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all",A.mode==="strict"?"bg-red-500/10 border-red-500/50 text-red-400":"bg-zinc-900 border-white/5 text-zinc-500 hover:border-white/20"),children:" (Strict Order)"}),s.jsx("button",{onClick:()=>ee({...A,mode:"contains"}),className:xt("py-3 rounded-xl border text-[10px] font-black uppercase tracking-widest transition-all",A.mode==="contains"?"bg-blue-500/10 border-blue-500/50 text-blue-400":"bg-zinc-900 border-white/5 text-zinc-500 hover:border-white/20"),children:" (Contains)"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest flex items-center gap-2",children:[s.jsx("span",{children:" ()"}),s.jsx("span",{className:"text-zinc-700 font-normal",children:"| ,  Ctrl+V "})]})}),s.jsx("div",{className:"bg-black/40 p-3 rounded-xl border border-white/10 overflow-x-auto custom-scrollbar",children:s.jsx("div",{className:"flex gap-1 min-w-max",children:Array.from({length:26}).map((j,E)=>{const M=A.spells[E],O=M?r[M]:null;return s.jsxs("button",{onClick:()=>{},onContextMenu:G=>{G.preventDefault();const Q=[...A.spells];for(;Q.length<=E;)Q.push("");Q[E]="",ee({...A,spells:Q})},className:xt("w-10 h-10 rounded border flex items-center justify-center relative group transition-all shrink-0",O?"bg-zinc-800 border-zinc-600 hover:border-amber-500":"bg-white/5 border-white/5 hover:bg-white/10 hover:border-white/20"),title:(O==null?void 0:O.name)||" ()",children:[O&&s.jsx("img",{src:Ue(O.icon),className:"w-8 h-8 image-pixelated",alt:""}),s.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 rounded-full bg-zinc-700/50"})]},E)})})})]}),s.jsxs("div",{className:"space-y-3 pt-4 border-t border-white/5",children:[s.jsxs("div",{className:"relative",children:[s.jsx(kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500",size:12}),s.jsx("input",{type:"text",placeholder:"...",value:ce,className:"w-full bg-zinc-900 border border-white/5 rounded-lg pl-9 pr-4 py-2 text-[10px] focus:outline-none focus:border-white/20",onChange:j=>ue(j.target.value)})]}),s.jsx("div",{className:"grid grid-cols-8 gap-1.5 max-h-48 overflow-y-auto custom-scrollbar p-1",children:Object.values(r).filter(j=>{const E=ce.toLowerCase();return j.name.toLowerCase().includes(E)||(j.en_name||"").toLowerCase().includes(E)}).slice(0,200).map(j=>s.jsx("button",{onClick:()=>{const E=[...A.spells];let M=!1;for(let O=0;O<26;O++)if(!E[O]){E[O]=j.id,M=!0;break}!M&&E.length<26&&E.push(j.id),ee({...A,spells:E})},className:"aspect-square bg-black/40 border border-white/5 rounded hover:border-amber-500/50 transition-all flex items-center justify-center group",title:j.name,children:s.jsx("img",{src:Ue(j.icon),className:"w-7 h-7 image-pixelated group-hover:scale-110 transition-transform",alt:""})},j.id))})]})]}),s.jsxs("div",{className:"p-4 bg-black/40 border-t border-white/10 flex gap-3",children:[s.jsx("button",{onClick:()=>ee(null),className:"flex-1 py-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-400 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:""}),s.jsx("button",{onClick:()=>{A&&(m(j=>{const E={...A,spells:A.spells.filter(O=>O&&O.trim()!=="")},M=j.findIndex(O=>O.id===E.id);if(M>=0){const O=[...j];return O[M]=E,O}return[...j,E]}),ee(null))},className:"flex-[2] py-3 bg-amber-600 hover:bg-amber-500 text-white rounded-xl text-xs font-black uppercase tracking-widest transition-all shadow-lg shadow-amber-900/20",children:""})]})]})]}):null}function Nh(){var Oa,Ta;const[e,t]=I.useState(()=>{const g=localStorage.getItem("twwe_tabs")||localStorage.getItem("wand2h_tabs");if(g)try{const y=JSON.parse(g);if(Array.isArray(y)&&y.length>0)return y.map(v=>({...v,expandedWands:new Set(v.expandedWands||[]),past:Array.isArray(v.past)?v.past:[],future:Array.isArray(v.future)?v.future:[]}))}catch(y){console.error("Failed to load tabs from localStorage:",y)}return[{id:"1",name:"",isRealtime:!0,wands:{1:{...Be}},expandedWands:new Set(["1"]),past:[],future:[]},{id:"2",name:"",isRealtime:!1,wands:{1:{...Be}},expandedWands:new Set(["1"]),past:[],future:[]}]}),[n,r]=I.useState("1"),[l,i]=I.useState({}),[o,a]=I.useState(!1),[c,m]=I.useState({}),k=I.useRef({}),[p,h]=I.useState(()=>{const g=localStorage.getItem("twwe_settings")||localStorage.getItem("wand2h_settings"),y={commonLimit:10,categoryLimit:10,allowCompactEdit:!1,pickerRowHeight:32,themeColors:["from-blue-500/10 to-blue-600/20","from-green-500/10 to-green-600/20","from-purple-500/10 to-purple-600/20","from-orange-500/10 to-orange-600/20"],wrapLimit:20,hideLabels:!1,conflictStrategy:"ask",autoExpandOnPaste:!0,defaultWandStats:{},numCasts:10,autoHideThreshold:20,showSpellCharges:!1,unlimitedSpells:!0,initialIfHalf:!0,simulateLowHp:!1,simulateManyEnemies:!1,simulateManyProjectiles:!1,groupIdenticalCasts:!0,editorSpellGap:6,showStatsInFrames:!0,showLegacyWandButton:!1,deleteEmptySlots:!0,exportHistory:!0,spellTypes:Rm,spellGroups:$m,warehouseFolderHeight:200};if(g)try{const v=JSON.parse(g);return{...y,...v,defaultWandStats:v.defaultWandStats||{}}}catch(v){console.error("Failed to load settings from localStorage:",v)}return y}),[b,N]=I.useState(!1),S=I.useRef(0),F=I.useRef(!1),f=I.useRef(!1),[u,d]=I.useState(null),[w,x]=I.useState(!1),[C,_]=I.useState(!1),[R,te]=I.useState(()=>{const g=localStorage.getItem("twwe_warehouse");return g?JSON.parse(g):[]}),[H,V]=I.useState(()=>{const g=localStorage.getItem("twwe_warehouse_folders");return g?JSON.parse(g):[]}),[A,ee]=I.useState(()=>{const g=localStorage.getItem("twwe_smart_tags");return g?JSON.parse(g):[]}),[ce,ue]=I.useState(null);I.useEffect(()=>{localStorage.setItem("twwe_warehouse",JSON.stringify(R))},[R]),I.useEffect(()=>{localStorage.setItem("twwe_warehouse_folders",JSON.stringify(H))},[H]),I.useEffect(()=>{localStorage.setItem("twwe_smart_tags",JSON.stringify(A))},[A]);const Re=async g=>{const y=prompt("","");if(!y)return;let v="",z="";try{const D=await(await fetch("/api/pinyin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:y})})).json();D.success&&(v=D.pinyin,z=D.initials)}catch(L){console.error("Pinyin fetch failed",L)}const P={...g,id:Math.random().toString(36).substring(2,11),name:y,pinyin:v,pinyin_initials:z,tags:[],createdAt:Date.now(),folderId:null};te(L=>[P,...L]),ue({msg:`: ${y}`,type:"success"}),_(!0)},He=I.useMemo(()=>{const g={};return Object.entries(l).forEach(([y,v])=>{const z=y.toLowerCase().replace(/[^a-z0-9]/g,"");if(g[z]=y,v.name){const P=v.name.toLowerCase().replace(/[^a-z0-9]/g,"");P&&(g[P]=y)}if(v.en_name){const P=v.en_name.toLowerCase().replace(/[^a-z0-9]/g,"");P&&(g[P]=y)}if(y.includes("_")){const P=y.toLowerCase().replace(/_/g,"");g[P]=y}}),g},[l]),$=I.useRef({}),[B,q]=I.useState(null),ne=(g,y="",v,z=!0)=>{t(P=>P.map(L=>{if(L.id===n){const D=g(L.wands);if(!z)return{...L,wands:D};const U={id:Math.random().toString(36).substr(2,9),wands:JSON.parse(JSON.stringify(L.wands)),name:y,icons:v,timestamp:Date.now()};return{...L,wands:D,past:[...L.past.slice(-49),U],future:[]}}return L}))},me=I.useCallback(()=>{t(g=>g.map(y=>{if(y.id===n&&y.past&&y.past.length>0){const v=y.past[y.past.length-1],z={id:"redo-"+Date.now(),wands:JSON.parse(JSON.stringify(y.wands)),name:v.name,icons:v.icons,timestamp:Date.now()};return{...y,wands:v.wands,past:y.past.slice(0,-1),future:[z,...y.future||[]]}}return y}))},[n]),ve=I.useCallback(()=>{t(g=>g.map(y=>{if(y.id===n&&y.future&&y.future.length>0){const v=y.future[0],z={id:"undo-"+Date.now(),wands:JSON.parse(JSON.stringify(y.wands)),name:v.name,icons:v.icons,timestamp:Date.now()};return{...y,wands:v.wands,past:[...y.past||[],z],future:y.future.slice(1)}}return y}))},[n]),pt=g=>{t(y=>y.map(v=>{if(v.id===n&&v.past&&v.past[g]){const z=v.past[g],P=[...v.past.slice(g+1),...v.future||[]],L={id:"jump-p-"+Date.now(),wands:JSON.parse(JSON.stringify(v.wands)),name:v.past[v.past.length-1].name,icons:v.past[v.past.length-1].icons,timestamp:Date.now()};return{...v,wands:z.wands,past:v.past.slice(0,g),future:[L,...P]}}return v}))},Ft=g=>{t(y=>y.map(v=>{if(v.id===n&&v.future&&v.future[g]){const z=v.future[g],P=v.future.slice(0,g),L={id:"jump-f-"+Date.now(),wands:JSON.parse(JSON.stringify(v.wands)),name:z.name,icons:z.icons,timestamp:Date.now()};return{...v,wands:z.wands,past:[...v.past||[],L,...P],future:v.future.slice(g+1)}}return v}))};I.useEffect(()=>{const g=y=>{(y.ctrlKey||y.metaKey)&&(y.key==="z"||y.key==="y")&&(y.key==="z"?(y.shiftKey?ve():me(),y.preventDefault()):y.key==="y"&&(ve(),y.preventDefault()))};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[me,ve]),I.useEffect(()=>{const g=v=>{d(null),v.target.closest(".glass-card")||Wt(null)},y=v=>{v.target instanceof HTMLInputElement||v.target instanceof HTMLTextAreaElement||v.preventDefault(),d(null)};return window.addEventListener("click",g),window.addEventListener("contextmenu",y),()=>{window.removeEventListener("click",g),window.removeEventListener("contextmenu",y)}},[]),I.useEffect(()=>{if(ce){const g=setTimeout(()=>ue(null),4e3);return()=>clearTimeout(g)}},[ce]);const[Me,ft]=I.useState(null),[Zn,_l]=I.useState(""),[At,El]=I.useState(new Set),[on,Xs]=I.useState(null),[mt,Wt]=I.useState(null),[Ll,qn]=I.useState(!1),[Ke,Kt]=I.useState(null),[Ir,er]=I.useState({x:0,y:0}),[In,an]=I.useState(null),Ye=I.useRef(In);I.useEffect(()=>{Ye.current=In},[In]);const ht=I.useRef(mt);I.useEffect(()=>{ht.current=mt},[mt]);const X=I.useMemo(()=>e.find(g=>g.id===n)||e[0],[e,n]),Or=I.useCallback(async(g,y,v)=>{try{const z=await Am(v,p,o);z&&m(P=>({...P,[`${g}-${y}`]:z}))}catch(z){console.error("Evaluation failed:",z)}},[p.numCasts,p.unlimitedSpells,p.initialIfHalf,p.simulateLowHp,p.simulateManyEnemies,p.simulateManyProjectiles,o]);I.useEffect(()=>{!X||!X.expandedWands||X.expandedWands.forEach(g=>{const y=X.wands[g];if(!y)return;const v=`${X.id}-${g}`;k.current[v]&&clearTimeout(k.current[v]),k.current[v]=setTimeout(()=>{Or(X.id,g,y)},500)})},[X.wands,X.expandedWands,X.id,Or,p.numCasts,p.unlimitedSpells]);const Ml=I.useMemo(()=>{const g={};e.forEach(L=>{Object.values(L.wands).forEach(D=>{Object.values(D.spells).forEach(U=>{g[U]=(g[U]||0)+1})})});const y=(L,D,U=!1)=>{const Z=[...L].sort((ie,pe)=>(g[pe.id]||0)-(g[ie.id]||0));return U?Z:Z.slice(0,D)},v=Object.values(l),z=y(v,p.commonLimit,At.has(-1)),P=p.spellGroups.map((L,D)=>{const U=v.filter(Z=>L.types.includes(Z.type));return y(U,p.categoryLimit,At.has(D))});return{overall:z,categories:P}},[e,l,p.commonLimit,p.categoryLimit,p.spellGroups,At]),j=I.useMemo(()=>{if(!Zn)return null;const g=Zn.toLowerCase().replace(/[^a-z0-9]/g,"");if(!g)return null;const v=Object.values(l).map(z=>{let P=0;const L=z.id.toLowerCase(),D=z.name.toLowerCase(),U=(z.en_name||"").toLowerCase(),Z=(z.pinyin||"").toLowerCase(),ie=(z.pinyin_initials||"").toLowerCase();return L===g?P+=100:D===g?P+=90:U===g?P+=85:L.startsWith(g)?P+=70:D.startsWith(g)?P+=65:U.startsWith(g)?P+=60:ie.startsWith(g)?P+=55:Z.startsWith(g)?P+=50:L.includes(g)?P+=30:D.includes(g)?P+=25:U.includes(g)?P+=20:ie.includes(g)?P+=15:Z.includes(g)&&(P+=10),{spell:z,score:P}}).filter(z=>z.score>0);return v.sort((z,P)=>P.score-z.score||z.spell.id.localeCompare(P.spell.id)),[v.map(z=>z.spell)]},[Zn,l]),E=(g,y,v=!1)=>{if(v){const z=X.wands[g],P=z==null?void 0:z.spells[y.toString()];P&&Kt({wandSlot:g,idx:y,sid:P});return}qn(!0),Wt({wandSlot:g,indices:[y],startIdx:y})},M=(g,y)=>{var v,z,P;if(Ke){const L=Ke.wandSlot,D=Ke.idx,U=g,Z=y,ie=((v=Ye.current)==null?void 0:v.wandSlot)===U&&((z=Ye.current)==null?void 0:z.idx)===Z&&((P=Ye.current)==null?void 0:P.isRightHalf),pe=Z+(ie?1:0);ne(J=>{var Aa,Wa;const Y={...J},xe={...Y[L]},Pe=xe.spells[D.toString()],Fe=(Aa=xe.spell_uses)==null?void 0:Aa[D.toString()],tt={...xe.spells},ye={...xe.spell_uses||{}};delete tt[D.toString()],delete ye[D.toString()],xe.spells=tt,xe.spell_uses=ye;const le=L===U?xe:{...Y[U]},de=[],Ce=Math.max(le.deck_capacity,...Object.keys(le.spells).map(Number));for(let bt=1;bt<=Ce;bt++){if(L===U&&bt===D)continue;const tr=le.spells[bt.toString()];de.push({sid:tr||"",uses:(Wa=le.spell_uses)==null?void 0:Wa[bt.toString()]})}let we=pe;L===U&&D<pe&&we--;const Ut=we-1;de[Ut]&&de[Ut].sid===""?de.splice(Ut,1):de[Ut-1]&&de[Ut-1].sid===""&&(de.splice(Ut-1,1),we--);const qs=de.slice(0,Math.max(0,we-1)),Fp=de.slice(Math.max(0,we-1)),Ra=[...qs,{sid:Pe,uses:Fe},...Fp],$a={},Da={};Ra.forEach((bt,tr)=>{bt.sid&&($a[(tr+1).toString()]=bt.sid,bt.uses!==void 0&&(Da[(tr+1).toString()]=bt.uses))}),le.spells=$a,le.spell_uses=Da;const Fa=Ra.reduce((bt,tr,Ap)=>tr.sid!==""?Ap+1:bt,0);return Fa>le.deck_capacity&&(le.deck_capacity=Fa),Y[L]=xe,L!==U&&(Y[U]=le),X.isRealtime&&(Lt(L,xe),L!==U&&Lt(U,le)),Y},"",[Ke.sid]),Kt(null)}qn(!1)},O=(g,y)=>{if(Ll&&mt&&mt.wandSlot===g){const v=mt.startIdx,z=y,P=Math.min(v,z),L=Math.max(v,z),D=[];for(let U=P;U<=L;U++)D.push(U);Wt({...mt,indices:D})}},G=(g,y,v)=>{const z=g.currentTarget.getBoundingClientRect(),P=g.clientX>z.left+z.width/2;an({wandSlot:y,idx:v,isRightHalf:P})},Q=()=>{an(null)},se=async(g=!1)=>{let y,v;const z=ht.current,P=Ye.current;if(z&&P&&P.wandSlot===z.wandSlot&&z.indices.includes(P.idx))y=z.wandSlot,v=z.indices;else if(P&&P.wandSlot)y=P.wandSlot,v=[P.idx];else if(z)y=z.wandSlot,v=z.indices;else return;const L=X.wands[y];if(!L)return;const D=[...v].sort((ie,pe)=>ie-pe);let U="";const Z=D.map(ie=>L.spells[ie.toString()]||"");if(!(Z.length===1&&!Z[0]&&!g)&&(D.length>=L.deck_capacity&&D.length>1?U=`{{Wand2
| wandCard     = Yes
| wandPic      = 
| spellsCast   = ${L.actions_per_round}
| shuffle      = ${L.shuffle_deck_when_empty?"Yes":"No"}
| castDelay    = ${(L.fire_rate_wait/60).toFixed(2)}
| rechargeTime = ${(L.reload_time/60).toFixed(2)}
| manaMax      = ${L.mana_max.toFixed(2)}
| manaCharge   = ${L.mana_charge_speed.toFixed(2)}
| capacity     = ${L.deck_capacity}
| spread       = ${L.spread_degrees}
| speed        = ${L.speed_multiplier.toFixed(2)}
| spells       = ${Z.join(",")}
}}`:U=Z.join(","),U!==void 0&&(await navigator.clipboard.writeText(U),ue({msg:g?"":"",type:"success"}),g))){const ie={...L.spells},pe={...L.spell_uses||{}};v.forEach(J=>{delete ie[J.toString()],delete pe[J.toString()]}),cn(y,{spells:ie,spell_uses:pe},"",Z.filter(J=>J))}},K=async g=>{var ie,pe;const y=(await navigator.clipboard.readText()).trim();if(!y)return!1;const v=y.includes("{{Wand2"),z=y.includes("{{Wand")&&!v,P=v||z,L=y.includes(",")||Object.keys(l).some(J=>y.includes(J));if(!P&&!L)return!1;let D=g==null?void 0:g.slot,U=g==null?void 0:g.idx;if(!D&&Ye.current?(D=Ye.current.wandSlot,U=Ye.current.idx+(Ye.current.isRightHalf?1:0)):!D&&ht.current&&(D=ht.current.wandSlot,U=Math.min(...ht.current.indices)),!D||!U){if(P){const J=(Math.max(0,...Object.keys(X.wands).map(Number))+1).toString(),Y=ye=>{const le=new RegExp(`\\|\\s*${ye}\\s*=\\s*([^|\\n}]+)`),de=y.match(le);return de?de[1].trim():null},xe={},Pe=[];let Fe=0;if(v){const ye=Y("spells");(ye?ye.split(",").map(Ce=>Ce.trim()):[]).forEach((Ce,we)=>{Ce&&(xe[(we+1).toString()]=Ce)}),Fe=parseInt(Y("capacity")||"0")||Be.deck_capacity;const de=Y("alwaysCasts");de&&de.split(",").forEach(Ce=>{const we=Ce.trim();we&&Pe.push(we)})}else{Fe=parseInt(Y("capacity")||"0")||Be.deck_capacity;for(let le=1;le<=Math.max(Fe,100);le++){const de=Y(`spell${le}`);if(de){const Ce=de.toLowerCase().replace(/[^a-z0-9]/g,""),we=He[Ce];we&&(xe[le.toString()]=we)}}const ye=Y("alwaysCasts");if(ye){const le=ye.toLowerCase().replace(/[^a-z0-9]/g,""),de=He[le];de&&Pe.push(de)}}const tt={...Be,shuffle_deck_when_empty:((ie=Y("shuffle"))==null?void 0:ie.toLowerCase())==="yes"||Y("shuffle")==="true",actions_per_round:parseInt(Y("spellsCast")||(v?"1":""))||parseInt(Y("spellsPerCast")||"1")||Be.actions_per_round,mana_max:parseFloat(Y("manaMax")||"0")||Be.mana_max,mana_charge_speed:parseFloat(Y("manaCharge")||"0")||Be.mana_charge_speed,reload_time:Math.round(parseFloat(Y("rechargeTime")||"0")*60)||Be.reload_time,fire_rate_wait:Math.round(parseFloat(Y("castDelay")||"0")*60)||Be.fire_rate_wait,deck_capacity:Fe,spread_degrees:parseFloat(Y("spread")||"0")||Be.spread_degrees,speed_multiplier:parseFloat(Y("speed")||"1")||Be.speed_multiplier,spells:xe,always_cast:Pe};return ne(ye=>({...ye,[J]:tt}),` ( ${J})`),X.isRealtime&&Lt(J,tt),t(ye=>ye.map(le=>le.id===n?{...le,expandedWands:new Set([...le.expandedWands,J])}:le)),ue({msg:` ( ${J})`,type:"success"}),!0}return!1}const Z=X.wands[D]||{...Be};if(P){const J=tt=>{const ye=new RegExp(`\\|\\s*${tt}\\s*=\\s*([^|\\n}]+)`),le=y.match(ye);return le?le[1].trim():null},Y={},xe=[];let Pe=Z.deck_capacity;if(v){const tt=J("spells");(tt?tt.split(",").map(de=>de.trim()):[]).forEach((de,Ce)=>{de&&(Y[(Ce+1).toString()]=de)}),Pe=parseInt(J("capacity")||"0")||Pe;const le=J("alwaysCasts");le&&le.split(",").forEach(de=>{const Ce=de.trim();Ce&&xe.push(Ce)})}else{Pe=parseInt(J("capacity")||"0")||Pe;for(let ye=1;ye<=Math.max(Pe,100);ye++){const le=J(`spell${ye}`);if(le){const de=le.toLowerCase().replace(/[^a-z0-9]/g,""),Ce=He[de];Ce&&(Y[ye.toString()]=Ce)}}const tt=J("alwaysCasts");if(tt){const ye=tt.toLowerCase().replace(/[^a-z0-9]/g,""),le=He[ye];le&&xe.push(le)}}const Fe={shuffle_deck_when_empty:((pe=J("shuffle"))==null?void 0:pe.toLowerCase())==="yes"||J("shuffle")==="true",actions_per_round:parseInt(J("spellsCast")||(v?"1":""))||parseInt(J("spellsPerCast")||"1")||Z.actions_per_round,mana_max:parseFloat(J("manaMax")||"0")||Z.mana_max,mana_charge_speed:parseFloat(J("manaCharge")||"0")||Z.mana_charge_speed,reload_time:Math.round(parseFloat(J("rechargeTime")||"0")*60)||Z.reload_time,fire_rate_wait:Math.round(parseFloat(J("castDelay")||"0")*60)||Z.fire_rate_wait,deck_capacity:Pe,spread_degrees:parseFloat(J("spread")||"0")||Z.spread_degrees,speed_multiplier:parseFloat(J("speed")||"1")||Z.speed_multiplier,always_cast:xe};return cn(D,{...Fe,spells:Y},"",Object.values(Y)),!0}else{const J=y.split(",").map(we=>we.trim()),Y=[],xe=Math.max(Z.deck_capacity,...Object.keys(Z.spells).map(Number));for(let we=1;we<=xe;we++)Y.push(Z.spells[we.toString()]||null);const Pe=U-1;Y[Pe]===null?Y.splice(Pe,1):Y[Pe-1]===null&&(Y.splice(Pe-1,1),U--);const Fe=Y.slice(0,U-1),tt=Y.slice(U-1),ye=[...Fe,...J,...tt],le={};ye.forEach((we,Ut)=>{we&&(le[(Ut+1).toString()]=we)});let de=Z.deck_capacity;const Ce=ye.reduce((we,Ut,qs)=>Ut!==null?qs+1:we,0);return Ce>Z.deck_capacity&&(p.autoExpandOnPaste||confirm(` (${Ce} > ${Z.deck_capacity})`))&&(de=Ce),cn(D,{spells:le,deck_capacity:de},"",J.filter(we=>we)),!0}},he=()=>{var J;let g=(J=Ye.current)==null?void 0:J.wandSlot,y=Ye.current?Ye.current.idx+(Ye.current.isRightHalf?1:0):null;if(!g&&ht.current&&(g=ht.current.wandSlot,y=Math.min(...ht.current.indices)),!g||y===null)return;const v=X.wands[g];if(!v)return;const z=[],P=Math.max(v.deck_capacity,...Object.keys(v.spells).map(Number));for(let Y=1;Y<=P;Y++)z.push(v.spells[Y.toString()]||null);const L=z.slice(0,y-1),D=z.slice(y-1),U=[...L,null,...D],Z={};U.forEach((Y,xe)=>{Y&&(Z[(xe+1).toString()]=Y)});let ie=v.deck_capacity;const pe=U.reduce((Y,xe,Pe)=>xe!==null?Pe+1:Y,0);pe>v.deck_capacity&&(ie=pe),cn(g,{spells:Z,deck_capacity:ie},"")};I.useEffect(()=>{const g=y=>{Ke&&er({x:y.clientX,y:y.clientY})};return window.addEventListener("mousemove",g),()=>window.removeEventListener("mousemove",g)},[Ke]),I.useEffect(()=>{const g=()=>{qn(!1),Ke&&Kt(null)},y=async v=>{var z,P;if((v.ctrlKey||v.metaKey)&&v.key==="v"&&await K()){v.preventDefault(),v.stopPropagation();return}if(!(v.target instanceof HTMLInputElement||v.target instanceof HTMLTextAreaElement)){if(v.ctrlKey||v.metaKey)if(v.key==="h")v.preventDefault(),x(L=>!L);else if(v.key==="b")v.preventDefault(),_(L=>!L);else if(v.key==="a"){const L=((z=ht.current)==null?void 0:z.wandSlot)||Object.keys(X.wands).find(D=>X.expandedWands.has(D));if(L){v.preventDefault();const D=X.wands[L];if(D){const U=[];for(let Z=1;Z<=D.deck_capacity;Z++)U.push(Z);Wt({wandSlot:L,indices:U,startIdx:1})}}}else v.key==="c"?(v.preventDefault(),se()):v.key==="x"?(v.preventDefault(),se(!0)):v.key==="v"?(v.preventDefault(),K()):v.key;else if(v.key==="Delete"||v.key==="Backspace"){const L=ht.current,D=Ye.current;let U=null,Z=[];if(L&&D&&D.wandSlot===L.wandSlot&&L.indices.includes(D.idx)?(U=L.wandSlot,Z=L.indices):D&&D.wandSlot?(U=D.wandSlot,Z=[D.idx]):L&&L.indices.length>0&&(U=L.wandSlot,Z=L.indices),U){v.preventDefault();const ie=X.wands[U];if(ie)if(p.deleteEmptySlots&&v.key==="Delete"){const pe=new Set(Z.filter(J=>J<=ie.deck_capacity));if(pe.size>0){const J={},Y={};let xe=1;for(let Fe=1;Fe<=ie.deck_capacity;Fe++)pe.has(Fe)||(ie.spells[Fe.toString()]&&(J[xe.toString()]=ie.spells[Fe.toString()],((P=ie.spell_uses)==null?void 0:P[Fe.toString()])!==void 0&&(Y[xe.toString()]=ie.spell_uses[Fe.toString()])),xe++);const Pe=Math.max(1,ie.deck_capacity-pe.size);cn(U,{spells:J,spell_uses:Y,deck_capacity:Pe},""),Wt(null)}}else{const pe={...ie.spells},J={...ie.spell_uses||{}};Z.forEach(Y=>{delete pe[Y],delete J[Y]}),cn(U,{spells:pe,spell_uses:J},"")}}}else v.key===" "&&(v.target instanceof HTMLInputElement||v.target instanceof HTMLTextAreaElement||(v.preventDefault(),he()));v.key==="Escape"&&Wt(null)}};return window.addEventListener("mouseup",g),window.addEventListener("keydown",y),()=>{window.removeEventListener("mouseup",g),window.removeEventListener("keydown",y)}},[X,p,l]),I.useEffect(()=>{Ve();{a(!1);return}},[]),I.useEffect(()=>{const g=Object.values(l);if(g.length===0||F.current)return;console.log(`[Performance] Preloading ${g.length} spell icons...`);const y=setTimeout(()=>{let v=0;g.forEach(z=>{const P=new Image;P.onload=()=>{v++,v===g.length&&console.log(`[Performance] All ${g.length} icons preloaded and cached.`)},P.src=Ue(z.icon)}),F.current=!0},1e3);return()=>clearTimeout(y)},[l]),I.useEffect(()=>{localStorage.setItem("twwe_settings",JSON.stringify(p))},[p]),I.useEffect(()=>{const g=e.map(y=>({...y,expandedWands:Array.from(y.expandedWands)}));localStorage.setItem("twwe_tabs",JSON.stringify(g))},[e]),I.useEffect(()=>{let g;return X.isRealtime&&o&&(g=setInterval(Oe,1e3)),()=>clearInterval(g)},[n,X.isRealtime,o]),I.useEffect(()=>{o&&!f.current&&(console.log("[Sync] Game connected/restarted. Clearing session cache and forcing pull..."),$.current={},Oe(!0)),f.current=o},[o]);const Ve=async()=>{try{const y=await(await fetch("/api/fetch-spells")).json();if(y.success&&y.spells){const v={};Object.entries(y.spells).forEach(([z,P])=>{v[z]={...P,id:z}}),i(v);return}}catch{console.log("API fetch-spells failed, trying static...")}try{const y=await(await fetch("./static_data/spells.json")).json();i(y)}catch(g){console.error("Failed to fetch spells from anywhere:",g)}},Oe=async(g=!1)=>{if(!(!g&&Date.now()-S.current<3e3))try{const v=await(await fetch("/api/pull")).json();if(v.success){const z=v.wands,P=$.current[n],L=X.wands,D=P&&JSON.stringify(z)!==JSON.stringify(P),U=P&&JSON.stringify(L)!==JSON.stringify(P),Z=JSON.stringify(z)===JSON.stringify(L),ie=(pe,J,Y)=>{ne(()=>J,Y,[],g),$.current[pe]=JSON.parse(JSON.stringify(J))};if(Z){$.current[n]=JSON.parse(JSON.stringify(z));return}if(D&&U)if(p.conflictStrategy==="override_game")Object.entries(L).forEach(([pe,J])=>Lt(pe,J)),$.current[n]=JSON.parse(JSON.stringify(L)),ue({msg:"",type:"success"});else if(p.conflictStrategy==="new_workflow"){const pe=Date.now().toString();t(J=>[...J,{id:pe,name:`[] ${X.name}`,isRealtime:!1,wands:z,expandedWands:new Set(Object.keys(z)),past:[],future:[]}]),$.current[n]=JSON.parse(JSON.stringify(L)),ue({msg:"",type:"info"})}else q({tabId:n,gameWands:z});else if(U&&!D)X.isRealtime&&Object.entries(L).forEach(([pe,J])=>Lt(pe,J)),$.current[n]=JSON.parse(JSON.stringify(L));else if(D&&!U){if(Date.now()-S.current<5e3)return;ie(n,z,"")}else P||ie(n,z,"")}}catch{}},it=g=>{t(y=>y.map(v=>v.id===g?{...v,isRealtime:!v.isRealtime}:v))},Zs=async()=>{if(!o){ue({msg:"",type:"info"});return}const g=X.wands,y=Object.entries(g);if(y.length!==0)try{for(const[v,z]of y)await fetch("/api/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slot:parseInt(v),delete:!1,...z})});ue({msg:` ${y.length} `,type:"success"})}catch{ue({msg:"",type:"info"})}},Lt=async(g,y,v=!1)=>{if(!(!X.isRealtime||!o))try{await fetch("/api/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slot:parseInt(g),delete:v,...y||{}})})}catch{}},cn=(g,y,v="",z)=>{S.current=Date.now(),ne(P=>{const D={...P[g]||{...Be},...y};return X.isRealtime&&Lt(g,D),{...P,[g]:D}},v,z)},Cp=()=>{const g=Date.now().toString(),y={...Be,...p.defaultWandStats},v={id:g,name:` ${e.length+1}`,isRealtime:!1,wands:{1:y},expandedWands:new Set(["1"]),past:[],future:[]};t([...e,v]),r(g)},zp=(g,y)=>{var v;y.stopPropagation(),!(e.length<=1)&&(t(z=>z.filter(P=>P.id!==g)),n===g&&r(((v=e.find(z=>z.id!==g))==null?void 0:v.id)||e[0].id))},_p=()=>{const g=(Math.max(0,...Object.keys(X.wands).map(Number))+1).toString(),y={...Be,...p.defaultWandStats};S.current=Date.now(),ne(v=>({...v,[g]:y}),` ( ${g})`),X.isRealtime&&Lt(g,y),t(v=>v.map(z=>z.id===n?{...z,expandedWands:new Set([...z.expandedWands,g])}:z))},Ep=g=>{S.current=Date.now(),ne(y=>{const v={...y};return delete v[g],v},` ( ${g})`),X.isRealtime&&Lt(g,null,!0)},Lp=g=>{t(y=>y.map(v=>{if(v.id===n){const z=new Set(v.expandedWands);return z.has(g)?z.delete(g):z.add(g),{...v,expandedWands:z}}return v}))},Mp=async g=>{const y=X.wands[g];if(y){const v=JSON.parse(JSON.stringify(y));Xs({type:"wand",data:v});const z=`{{Wand2
| wandCard     = Yes
| wandPic      = 
| spellsCast   = ${y.actions_per_round}
| shuffle      = ${y.shuffle_deck_when_empty?"Yes":"No"}
| castDelay    = ${(y.fire_rate_wait/60).toFixed(2)}
| rechargeTime = ${(y.reload_time/60).toFixed(2)}
| manaMax      = ${y.mana_max.toFixed(2)}
| manaCharge   = ${y.mana_charge_speed.toFixed(2)}
| capacity     = ${y.deck_capacity}
| spread       = ${y.spread_degrees}
| speed        = ${y.speed_multiplier.toFixed(2)}
| spells       = ${Array.from({length:y.deck_capacity}).map((P,L)=>y.spells[(L+1).toString()]||"").join(",")}
}}`;try{await navigator.clipboard.writeText(z),ue({msg:"",type:"success"})}catch(P){console.error("Clipboard error:",P)}}},Pp=async g=>{var v;const y=X.wands[g];if(y){let z=`{{Wand
| wandPic =
| capacity = ${y.deck_capacity}
| shuffle = ${y.shuffle_deck_when_empty?"Yes":"No"}
| spellsCast = ${y.actions_per_round}
| alwaysCasts = ${y.always_cast?y.always_cast.map(P=>{var L;return((L=l[P])==null?void 0:L.en_name)||P}).join(","):""}
`;for(let P=1;P<=y.deck_capacity;P++){const L=y.spells[P.toString()],D=L?((v=l[L])==null?void 0:v.en_name)||L:"";z+=`| spell${P} = ${D}
`}z+="}}";try{await navigator.clipboard.writeText(z),ue({msg:"Wand",type:"success"})}catch(P){console.error("Clipboard error:",P)}}},Ip=g=>{(on==null?void 0:on.type)==="wand"&&cn(g,on.data)},Op=(g,y,v)=>{const z=v.currentTarget.getBoundingClientRect();ft({wandSlot:g,spellIdx:y,x:z.left,y:z.bottom+8}),_l(""),El(new Set)},Tp=g=>{if(!Me)return;const{wandSlot:y,spellIdx:v}=Me;console.log(`[Picker] Picking ${g} for wand ${y} index ${v}`),S.current=Date.now(),ne(z=>{const P=z[y]||{...Be},L={...P.spells};g?L[v]=g:delete L[v];const D={...P,spells:L};return X.isRealtime&&Lt(y,D),{...z,[y]:D}},g?"":` ${v}`,g?[g]:[]),ft(null)},Rp=()=>{const g={version:"1.0",timestamp:Date.now(),settings:p,tabs:e.map(P=>{const L={...P,expandedWands:Array.from(P.expandedWands)};return p.exportHistory||(L.past=[],L.future=[]),L})},y=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),v=URL.createObjectURL(y),z=document.createElement("a");z.href=v,z.download=`twwe_full_backup_${new Date().toISOString().split("T")[0]}.json`,z.click()},$p=g=>{var z;const y=(z=g.target.files)==null?void 0:z[0];if(!y||!confirm(""))return;const v=new FileReader;v.onload=P=>{var L;try{const D=JSON.parse((L=P.target)==null?void 0:L.result);if(D.settings&&h(D.settings),D.tabs){const U=D.tabs.map(Z=>({...Z,expandedWands:new Set(Z.expandedWands)}));t(U),U.length>0&&r(U[0].id)}alert("")}catch{alert(": ")}},v.readAsText(y),g.target.value=""},Dp=g=>{var z;const y=(z=g.target.files)==null?void 0:z[0];if(!y)return;const v=new FileReader;v.onload=P=>{var L;try{const D=JSON.parse((L=P.target)==null?void 0:L.result),U=Date.now().toString(),Z=y.name.replace(".json",""),ie=D&&D.type==="twwe_workflow"&&D.wands,pe=ie?D.wands:D,J=ie?D.past||[]:[],Y=ie?D.future||[]:[];t(xe=>[...xe,{id:U,name:ie&&D.name||Z,isRealtime:!1,wands:pe,expandedWands:new Set(Object.keys(pe)),past:J,future:Y}]),r(U)}catch{alert(": ")}},v.readAsText(y),g.target.value=""},Ia=g=>{const y=g?e.find(D=>D.id===g):X;if(!y)return;let v=y.wands;p.exportHistory&&(v={type:"twwe_workflow",name:y.name,wands:y.wands,past:y.past,future:y.future});const z=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),P=URL.createObjectURL(z),L=document.createElement("a");L.href=P,L.download=`wand_workflow_${y.name}.json`,L.click()};return s.jsxs("div",{className:"flex flex-col h-screen bg-zinc-950 overflow-hidden text-zinc-100 selection:bg-purple-500/30",children:[s.jsx(Dm,{tabs:e,activeTabId:n,setActiveTabId:r,setTabs:t,setTabMenu:d,addNewTab:Cp,deleteTab:zp,pullData:Oe,pushData:Zs,toggleSync:it,addWand:_p,clipboard:on,activeTab:X,performAction:ne,importWorkflow:Dp,exportWorkflow:Ia,setIsSettingsOpen:N,isConnected:o,setIsWarehouseOpen:_}),s.jsxs("main",{className:"flex-1 flex overflow-hidden relative",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-black/40",children:[Object.entries(X.wands).map(([g,y])=>s.jsx(Vm,{slot:g,data:y,activeTab:X,isConnected:o,spellDb:l,selection:mt,hoveredSlot:In,clipboard:on,toggleExpand:Lp,deleteWand:Ep,copyWand:Mp,copyLegacyWand:Pp,pasteWand:Ip,updateWand:cn,handleSlotMouseDown:E,handleSlotMouseUp:M,handleSlotMouseEnter:O,handleSlotMouseMove:G,handleSlotMouseLeave:Q,openPicker:Op,setSelection:Wt,setSettings:h,evalData:c[`${X.id}-${g}`],settings:p,onSaveToWarehouse:Re},g)),Object.keys(X.wands).length===0&&s.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-zinc-700 gap-4",children:[s.jsx(vn,{size:32,className:"opacity-20 animate-pulse"}),s.jsx("p",{className:"font-black text-[10px] uppercase tracking-widest",children:"..."})]})]}),s.jsx(Jm,{pickerConfig:Me,onClose:()=>ft(null),pickerSearch:Zn,setPickerSearch:_l,pickSpell:Tp,searchResults:j,spellStats:Ml,settings:p,pickerExpandedGroups:At,setPickerExpandedGroups:El,isConnected:o}),s.jsx(Gm,{isOpen:b,onClose:()=>N(!1),settings:p,setSettings:h,onImport:$p,onExport:Rp}),u&&s.jsxs("div",{className:"fixed z-[200] w-48 bg-zinc-900 border border-white/10 rounded-lg shadow-2xl py-1 animate-in fade-in zoom-in duration-100",style:{top:u.y,left:u.x},onClick:g=>g.stopPropagation(),children:[s.jsx("div",{className:"px-3 py-1.5 border-b border-white/5 mb-1",children:s.jsx("span",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:""})}),s.jsxs("button",{onClick:()=>{it(u.tabId),d(null)},className:"w-full px-3 py-2 text-left text-xs text-zinc-300 hover:bg-white/5 flex items-center gap-2",children:[s.jsx(vn,{size:12,className:(Oa=e.find(g=>g.id===u.tabId))!=null&&Oa.isRealtime?"text-green-500":"text-zinc-500"}),(Ta=e.find(g=>g.id===u.tabId))!=null&&Ta.isRealtime?"":""]}),s.jsxs("button",{onClick:()=>{const g=e.find(v=>v.id===u.tabId),y=prompt(":",g==null?void 0:g.name);y&&t(v=>v.map(z=>z.id===u.tabId?{...z,name:y}:z)),d(null)},className:"w-full px-3 py-2 text-left text-xs text-zinc-300 hover:bg-white/5 flex items-center gap-2",children:[s.jsx(Ea,{size:12,className:"text-zinc-500"})," "]}),s.jsxs("button",{onClick:()=>{Ia(u.tabId),d(null)},className:"w-full px-3 py-2 text-left text-xs text-zinc-300 hover:bg-white/5 flex items-center gap-2",children:[s.jsx(hr,{size:12,className:"text-zinc-500"}),"  (.json)"]}),s.jsx("div",{className:"h-px bg-white/5 my-1"}),s.jsxs("button",{onClick:()=>{_(!0),d(null)},className:"w-full px-3 py-2 text-left text-xs text-zinc-300 hover:bg-white/5 flex items-center justify-between group",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jl,{size:12,className:"text-indigo-400"})," "]}),s.jsx("span",{className:"text-[9px] text-zinc-500 font-mono group-hover:text-zinc-400",children:"Ctrl+B"})]}),s.jsxs("button",{onClick:()=>{x(!0),d(null)},className:"w-full px-3 py-2 text-left text-xs text-zinc-300 hover:bg-white/5 flex items-center justify-between group",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hp,{size:12,className:"text-indigo-400"})," "]}),s.jsx("span",{className:"text-[9px] text-zinc-500 font-mono group-hover:text-zinc-400",children:"Ctrl+H"})]}),s.jsxs("button",{onClick:()=>{confirm("()")&&t(g=>g.map(y=>y.id===u.tabId?{...y,past:[],future:[]}:y)),d(null)},className:"w-full px-3 py-2 text-left text-xs text-red-400 hover:bg-red-400/10 flex items-center gap-2",children:[s.jsx(Jn,{size:12})," "]})]}),s.jsx(Qm,{conflict:B,activeTab:X,onResolve:g=>{if(g==="web")Object.entries(X.wands).forEach(([y,v])=>Lt(y,v)),$.current[B.tabId]=JSON.parse(JSON.stringify(X.wands)),q(null);else if(g==="game")ne(()=>B.gameWands,": "),$.current[B.tabId]=JSON.parse(JSON.stringify(B.gameWands)),q(null);else if(g==="both"){const y=Date.now().toString();t(v=>[...v,{id:y,name:`[] ${X.name}`,isRealtime:!1,wands:B.gameWands,expandedWands:new Set(Object.keys(B.gameWands)),past:[],future:[]}]),$.current[B.tabId]=JSON.parse(JSON.stringify(X.wands)),q(null)}}}),s.jsx(Bm,{isOpen:w,onClose:()=>x(!1),activeTab:X,spellDb:l,onJumpPast:pt,onJumpFuture:Ft,onUndo:me,onRedo:ve,isConnected:o}),s.jsx(bh,{isOpen:C,onClose:()=>_(!1),spellDb:l,wands:R,setWands:te,folders:H,setFolders:V,smartTags:A,setSmartTags:ee,settings:p,isConnected:o,onImportWand:g=>{const y=(Math.max(0,...Object.keys(X.wands).map(Number))+1).toString();ne(v=>({...v,[y]:{...g}}),` (${g.name})`),t(v=>v.map(z=>z.id===n?{...z,expandedWands:new Set([...z.expandedWands,y])}:z)),X.isRealtime&&Lt(y,g),ue({msg:`: ${g.name}`,type:"success"})}})]}),s.jsx(Fm,{isConnected:o,activeTab:X,tabsCount:e.length,notification:ce}),Ke&&l[Ke.sid]&&s.jsx("div",{className:"fixed pointer-events-none z-[1000] w-12 h-12",style:{left:Ir.x+5,top:Ir.y+5},children:s.jsx("img",{src:Ue(l[Ke.sid].icon),className:"w-full h-full image-pixelated border-2 border-indigo-500 rounded bg-zinc-900/80 shadow-2xl animate-pulse",alt:""})})]})}_i.createRoot(document.getElementById("root")).render(s.jsx(Do.StrictMode,{children:s.jsx(Nh,{})}));
